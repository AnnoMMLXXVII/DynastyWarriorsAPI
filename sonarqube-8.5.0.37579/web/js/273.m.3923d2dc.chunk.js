(window.webpackJsonp=window.webpackJsonp||[]).push([[273],{1132:function(e,t,n){var i=n(313),r=n(1674);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},s=(i(r,a),r.locals?r.locals:{});e.exports=s},1133:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(2),r=n(319),a=n(31),s=n(320),o=n(389),l=n(600),c=n(348),u=n(630);class p extends i.Component{constructor(){super(...arguments),this.getLabelText=()=>{const{branchLike:e,component:t,measures:n,type:p,useDiffMetric:h=!1}=this.props,{expandedLabelKey:d,labelKey:m}=Object(u.k)(p,h),f=Object(u.l)(p,h),v=Object(c.findMeasure)(n,f);if(v){const n=h?Object(o.b)(v):v.value;return i.createElement(r.FormattedMessage,{defaultMessage:Object(a.translate)(d),id:d,values:{count:i.createElement(l.a,{branchLike:e,className:"big",component:t.key,metric:f},Object(s.formatMeasure)(n,"SHORT_INT"))}})}return Object(a.translate)(m)}}render(){const{branchLike:e,centered:t,component:n,measures:r,type:p,useDiffMetric:h=!1}=this.props,d=Object(u.j)(p),m=Object(u.m)(p,h),f=Object(c.findMeasure)(r,m);let v;if(f&&(v=h?Object(o.b)(f):f.value),void 0===v)return i.createElement("div",{className:"display-flex-center"},i.createElement("span",{"aria-label":Object(a.translate)("no_data"),className:"overview-measures-empty-value"}),i.createElement("span",{className:"big-spacer-left"},this.getLabelText()));const _=i.createElement(d,{size:"big",value:Number(v)}),g=i.createElement(l.a,{branchLike:e,className:"overview-measures-value text-light",component:n.key,metric:m},Object(s.formatMeasure)(v,"PERCENT",{decimals:2,omitExtraDecimalZeros:!0})),y=this.getLabelText();return t?i.createElement("div",{className:"display-flex-column flex-1"},i.createElement("div",{className:"display-flex-center display-flex-justify-center"},i.createElement("span",{className:"big-spacer-right"},_),g),i.createElement("div",{className:"spacer-top text-center"},y)):i.createElement("div",{className:"display-flex-center"},i.createElement("span",{className:"big-spacer-right"},_),i.createElement("div",{className:"display-flex-column"},i.createElement("span",null,g),i.createElement("span",{className:"spacer-top"},y)))}}},1134:function(e,t,n){"use strict";var i=n(2),r=n(316),a=n(324),s=n.n(a),o=n(31),l=n(320),c=n(389),u=n(327),p=n(348),h=n(321),d=n(644),m=n(630);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=i.memo((function(e){const{branchLike:t,component:n,helpTooltip:a,measures:_,type:g,useDiffMetric:y=!1}=e,b=Object(m.f)(g,y),x=Object(p.findMeasure)(_,b),E=Object(m.e)(g);let w;x&&(w=y?Object(c.b)(x):x.value);const O=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(u.d)(t),{resolved:"false",types:g,sinceLeakPeriod:y?"true":"false"});return i.createElement(i.Fragment,null,void 0===w?i.createElement("span",{"aria-label":Object(o.translate)("no_data"),className:"overview-measures-empty-value"}):i.createElement(r.Link,{className:"overview-measures-value text-light",to:g===d.b.SecurityHotspot?Object(h.k)(n.key,O):Object(h.h)(n.key,O)},Object(l.formatMeasure)(w,"SHORT_INT")),i.createElement(E,{className:"big-spacer-left little-spacer-right"}),Object(l.localizeMetric)(b),a&&i.createElement(s.a,{className:"little-spacer-left",overlay:a}))}))},1135:function(e,t,n){"use strict";var i=n(2),r=n(318),a=n.n(r),s=n(384),o=n.n(s),l=n(389),c=n(600),u=n(348),p=n(630);t.a=i.memo((function(e){const{type:t}=e;return i.createElement(i.Fragment,null,i.createElement("span",{className:"flex-1 big-spacer-right text-right"},Object(p.h)(t)),function(e){const{branchLike:t,component:n,useDiffMetric:r=!1,measures:s,type:h}=e,d=Object(p.g)(h,r),m=Object(u.findMeasure)(s,d);if(!d||!m)return i.createElement("div",{className:"padded"},i.createElement(o.a,{value:void 0}));const f=m&&(r?Object(l.b)(m):m.value),v=f&&Object(l.c)(d,Number(f));return i.createElement(a.a,{overlay:v},i.createElement("span",null,i.createElement(c.a,{branchLike:t,className:"link-no-underline",component:n.key,metric:d},i.createElement(o.a,{value:f}))))}(e))}))},1157:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(328),r=n.n(i),a=n(2),s=n(312),o=n(399),l=n.n(o),c=n(31),u=n(311),p=n(316),h=n(371),d=n.n(h),m=n(320),f=n(398),v=n(600),_=n(327),g=n(348),y=n(321);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends a.PureComponent{constructor(){super(...arguments),this.getIssuesUrl=(e,t)=>{const n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({resolved:"false"},Object(_.d)(this.props.branchLike),{},t);return e&&Object.assign(n,{sinceLeakPeriod:"true"}),Object(y.h)(this.props.component.key,n)}}getUrlForCodeSmells(e){return this.getIssuesUrl(e,{types:"CODE_SMELL"})}getUrlForBugsOrVulnerabilities(e,t){const{condition:n}=this.props,i="ERROR"===n.level?n.error:n.warning;return this.getIssuesUrl(t,{types:e,severities:["BLOCKER,CRITICAL,MAJOR,MINOR","BLOCKER,CRITICAL,MAJOR","BLOCKER,CRITICAL","BLOCKER"][Number(i)-1]})}getUrlForType(e,t){return"CODE_SMELL"===e?this.getUrlForCodeSmells(t):this.getUrlForBugsOrVulnerabilities(e,t)}wrapWithLink(e){const{branchLike:t,component:n,condition:i}=this.props,r=u("overview-quality-gate-condition","overview-quality-gate-condition-".concat(i.level.toLowerCase())),s=i.measure.metric.key,o={reliability_rating:["BUG",!1],new_reliability_rating:["BUG",!0],security_rating:["VULNERABILITY",!1],new_security_rating:["VULNERABILITY",!0],sqale_rating:["CODE_SMELL",!1],new_maintainability_rating:["CODE_SMELL",!0]};return o[s]?a.createElement(p.Link,{className:r,to:this.getUrlForType(...o[s])},e):a.createElement(v.a,{branchLike:t,className:r,component:n.key,metric:i.measure.metric.key,sinceLeakPeriod:null!=i.period},e)}render(){var e;const{condition:t}=this.props,{measure:n}=t,{metric:i}=n,r=Object(g.isDiffMetric)(i.key),s="ERROR"===t.level?t.error:t.warning,o=t.period?null===(e=n.period)||void 0===e?void 0:e.value:n.value;let l=Object(c.translate)("quality_gates.operator",t.op);return"RATING"===i.type&&(l=Object(c.translate)("quality_gates.operator",t.op,"rating")),this.wrapWithLink(a.createElement("div",{className:"overview-quality-gate-condition-container display-flex-center"},a.createElement("div",{className:"overview-quality-gate-condition-value text-center spacer-right"},a.createElement(f.a,{decimals:2,metricKey:n.metric.key,metricType:n.metric.type,value:o})),a.createElement("div",null,a.createElement("span",{className:"overview-quality-gate-condition-metric little-spacer-right"},a.createElement(d.a,{className:"little-spacer-right",query:i.key}),i.name),!r&&null!=t.period&&a.createElement("span",{className:"overview-quality-gate-condition-period text-ellipsis little-spacer-right"},Object(c.translate)("quality_gates.conditions.new_code")),a.createElement("span",{className:"little-spacer-top small text-muted"},l," ",Object(m.formatMeasure)(s,i.type)))))}}const w=["ERROR","WARN"];function O(e){const{branchLike:t,collapsible:n,component:i,failedConditions:o}=e,[u,p]=a.useState(Boolean(n));if(0===o.length)return null;const h=r()(o,e=>w.indexOf(e.level));let d,m;return u&&h.length>5?(d=h.slice(0,5),m=!0):(d=h,m=!1),a.createElement("div",{className:"overview-quality-gate-conditions-list",id:"overview-quality-gate-conditions-list"},d.map(e=>a.createElement(E,{branchLike:t,component:i,condition:e,key:e.measure.metric.key})),m&&a.createElement(s.ButtonLink,{className:"overview-quality-gate-conditions-list-collapse",onClick:()=>p(!u)},Object(c.translateWithParameters)("overview.X_more_failed_conditions",h.length-5),a.createElement(l.a,{className:"little-spacer-left"})))}t.b=a.memo(O)},1674:function(e,t,n){(t=n(314)(!1)).push([e.i,".overview{animation:fadeIn .5s forwards}.overview-panel{min-height:100%}.overview-panel-content{background:#fff;border:1px solid #e6e6e6}.overview-panel-title{text-transform:uppercase;font-weight:600;font-size:12px;margin-bottom:8px}.overview-panel-padded{padding:16px}.overview-panel-big-padded{padding:24px}.overview-panel-huge-padded{padding:40px}.overview-measures-row{min-height:105px;box-sizing:border-box}.overview-measures-row+.overview-measures-row{border-top:1px solid #e6e6e6}.overview-measures-value{line-height:1;font-size:36px;white-space:nowrap}.overview-measures-empty-value{height:1px;width:16px;background:#444}.overview-measures-aside{flex-basis:200px;box-sizing:border-box}.overview-measures-tab{width:128px}.overview-measures-emphasis{background:#f5f9fc}.overview-quality-gate-badge-large{padding:16px;color:#fff;box-sizing:border-box}.overview-quality-gate-badge-large.failed{background:#d4333f}.overview-quality-gate-badge-large.success{background:#0a0;height:160px}.overview-quality-gate-badge-large h3{color:#fff}.overview-quality-gate-conditions{padding-bottom:16px}.overview-quality-gate-conditions-project-name{padding:8px 0 8px 16px;font-size:16px;background:#e6e6e6}.overview-quality-gate-conditions-section-title{padding:16px 16px 8px;border-bottom:1px solid #e6e6e6;margin:0;font-size:13px}.overview-quality-gate-conditions-list{margin-bottom:16px}.overview-quality-gate-conditions-list-collapse{margin:16px 0}.overview-quality-gate-condition,.overview-quality-gate-condition:hover{display:block;color:#444;border:none;transition:background-color .3s ease}.overview-quality-gate-condition:hover{background-color:#ecf6fe}.overview-quality-gate-condition-container{padding:12px 8px 12px 24px;border-bottom:1px solid #e6e6e6}.overview-quality-gate-condition-value{flex:0 0 20%;line-height:1;font-size:16px}.overview-quality-gate-condition-value span{display:inline-block;vertical-align:top}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pr-overview{max-width:1020px;margin:0 auto}.pr-overview.has-conditions{max-width:1260px}.pr-overview-failed-conditions{flex:0 0 240px}.pr-overview .overview-quality-gate-condition:first-of-type{margin-top:0}.pr-overview .overview-quality-gate-condition{margin-top:12px;background-color:#fff;border-left:5px solid;border-top-right-radius:2px;border-bottom-right-radius:2px}.pr-overview .overview-quality-gate-condition-error{border-color:#d4333f}.pr-overview .overview-quality-gate-condition-warn{border-color:#ed7d20}.pr-overview .overview-quality-gate-condition:focus .overview-quality-gate-condition-container,.pr-overview .overview-quality-gate-condition:hover .overview-quality-gate-condition-container{border-color:inherit}.pr-overview .overview-quality-gate-condition-metric,.pr-overview .overview-quality-gate-condition-period{display:block;max-width:125px;line-height:16px;font-size:12px}.pr-overview .overview-quality-gate-condition-container{min-width:150px;min-height:52px;padding:8px;border-top:1px solid #e6e6e6;border-right:1px solid #e6e6e6;transition:border-color .3s ease}.pr-overview .overview-quality-gate-condition-value{font-size:24px}.pr-overview .overview-quality-gate-badge-large{width:240px;min-height:160px;color:hsla(0,0%,100%,.62)}.pr-pverview .overview-measures-row{min-height:85px}.pr-overview .overview-measures-aside{flex-basis:270px}@media (max-width:1200px){.pr-overview .overview-measures-aside{flex-basis:220px}}.overview-panel .activity-graph-legends{text-align:right;margin-top:-30px}.overview-panel .activity-graph-new-code-legend{position:relative;z-index:3;width:12px;overflow:hidden;margin-top:1px;margin-left:16px;text-indent:-9999px}.overview-panel .activity-graph-new-code-legend:after{margin:0}.overview-analysis{color:#777}.overview-analysis+.overview-analysis{margin-top:16px}.overview-activity-events{display:flex;flex-direction:column;align-items:flex-start}.overview-analysis-event{display:inline-block}.overview-analysis-event.badge{border-radius:2px;font-weight:700;font-size:12px;letter-spacing:0;overflow:hidden;text-overflow:ellipsis}.overview-analysis-event+.overview-analysis-event{margin-top:4px}.overview-panel .activity-graph-container{min-height:200px;padding-bottom:0}",""]),e.exports=t},1842:function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return Ie}));var i=n(2),r=n(331),a=n(335),s=n(364),o=n(327),l=n(337),c=n(412),u=n.n(c),p=n(328),h=n.n(p),d=n(26),m=n(387),f=n(9),v=n(326);var _=n(532),g=n(734),y=n(474),b=n(933),x=n(401),E=n(348),w=n(1012),O=n(378),k=(n(1132),n(630)),j=n(355),N=n(317),S=n.n(N),P=n(31),M=n(966),L=n(964),T=n(939),C=n(357),D=n.n(C),q=n(319),I=n(376),A=n.n(I),R=n(736),z=n(737);var B=i.memo((function({event:e}){if("VERSION"===e.category)return i.createElement("span",{className:"overview-analysis-event analysis-version",title:"".concat(Object(P.translate)("version")," ").concat(e.name)},e.name);const t=Object(P.translate)("event.category",e.category);return Object(R.b)(e)?i.createElement("div",{className:"overview-analysis-event"},i.createElement("span",{className:"note"},t)):Object(z.b)(e)?i.createElement("div",{className:"overview-analysis-event"},i.createElement("span",{className:"note"},t,":")," ",e.qualityGate.stillFailing?i.createElement(q.FormattedMessage,{defaultMessage:Object(P.translate)("event.quality_gate.still_x"),id:"event.quality_gate.still_x",values:{status:i.createElement(A.a,{level:e.qualityGate.status,small:!0})}}):i.createElement(A.a,{level:e.qualityGate.status,small:!0})):i.createElement("div",{className:"overview-analysis-event"},i.createElement("span",{className:"note"},t,":")," ",e.description?i.createElement("strong",{title:e.description},e.name):i.createElement("strong",null,e.name))}));function F(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var H=i.memo((function(e){let{analysis:t}=e,n=F(e,["analysis"]);const r=h()(t.events,e=>"VERSION"===e.category?0:1,"category"),a=n.qualifier===l.a.Application?l.a.Application:l.a.Project;return i.createElement("li",{className:"overview-analysis"},i.createElement("div",{className:"small little-spacer-bottom"},i.createElement("strong",null,i.createElement(D.a,{date:t.date}))),r.length>0?i.createElement("div",{className:"overview-activity-events"},r.map(e=>i.createElement(B,{event:e,key:e.key}))):i.createElement("span",{className:"note"},Object(P.translate)("project_activity.analyzed",a)))}));var U=i.memo((function(e){const{analyses:t=[],branchLike:n,component:r,graph:a=x.a,leakPeriodDate:s,loading:o,measuresHistory:l,metrics:c}=e,u=Object(x.b)(l,a,c,Object(x.d)(a,[])),p=Object(x.l)(u,2,3);let h;if(void 0!==s){const e=l.reduce((e,{history:t})=>{if(t.length>0){const n=Object(d.parseDate)(t[0].date);return e.getTime()>n.getTime()?n:e}return e},new Date);h=e.getTime()>s.getTime()?e:s}const m=t.filter(e=>e.events.length>0).slice(0,5);return i.createElement("div",{className:"overview-panel big-spacer-top","data-test":"overview__activity-panel"},i.createElement("h2",{className:"overview-panel-title"},Object(P.translate)("overview.activity")),i.createElement("div",{className:"overview-panel-content"},i.createElement("div",{className:"display-flex-row"},i.createElement("div",{className:"display-flex-column flex-1"},i.createElement("div",{"aria-hidden":!0,className:"overview-panel-padded display-flex-column flex-1"},i.createElement(M.a,{graph:a,metrics:c,updateGraph:e.onGraphChange}),i.createElement(L.a,{analyses:[],graph:a,graphs:p,leakPeriodDate:h,loading:Boolean(o),measuresHistory:l,series:u})),i.createElement("div",{className:"overview-panel-padded bordered-top text-right"},i.createElement(T.a,{branchLike:n,component:r.key,graph:a}))),i.createElement("div",{className:"overview-panel-padded bordered-left width-30"},i.createElement("div",{"data-test":"overview__activity-analyses"},i.createElement(S.a,{className:"spacer-top spacer-left",loading:0===t.length&&o},0===t.length?i.createElement("p",{className:"spacer-top spacer-left note"},Object(P.translate)("no_results")):i.createElement("ul",{className:"spacer-top spacer-left"},m.map(e=>i.createElement(H,{analysis:e,key:e.key,qualifier:r.qualifier})))))))))})),W=n(606),G=n.n(W),K=n(320),V=n(342),X=n(644),Y=n(1133),Z=n(600);function J(e){const{branchLike:t,component:n,measures:r,metric:a}=e,s=Object(E.findMeasure)(r,a);let o;return o=s?i.createElement("span",null,i.createElement(Z.a,{branchLike:t,className:"overview-measures-value text-light",component:n.key,metric:a},Object(K.formatMeasure)(s.value,"SHORT_INT"))):i.createElement("span",{className:"overview-measures-value text-light"},"-"),i.createElement("div",{className:"display-flex-column display-flex-center"},o,i.createElement("span",{className:"spacer-top"},Object(P.getLocalizedMetricName)({key:a})))}i.memo(J);var Q=n(784),$=n(324),ee=n.n($),te=n(359),ne=n.n(te);var ie=i.memo((function({leakPeriod:e}){return i.createElement("div",{className:"note spacer-top display-inline-flex-center"},i.createElement(ne.a,{date:e.date},e=>Object(P.translateWithParameters)("overview.started_x",e)),i.createElement(ee.a,{className:"little-spacer-left",overlay:Object(P.translateWithParameters)("overview.max_new_code_period_from_x",e.projectName)}))})),re=n(351);var ae=i.memo(Object(q.injectIntl)((function(e){const{intl:{formatDate:t,formatTime:n},leakPeriod:r}=e,a=Object(Q.b)(r,["manual_baseline","SPECIFIC_ANALYSIS"].includes(r.mode)?e=>n(e,C.formatterOption):e=>t(e,re.longFormatterOption));if(!a)return null;if("days"===r.mode||"NUMBER_OF_DAYS"===r.mode)return i.createElement("div",{className:"note spacer-top"},a," ");const s=Object(Q.a)(r);return s?i.createElement(i.Fragment,null,i.createElement("div",{className:"note spacer-top"},a),i.createElement(ne.a,{date:s},e=>i.createElement("div",{className:"note little-spacer-top"},Object(P.translateWithParameters)("previous_analysis"===r.mode?"overview.previous_analysis_x":"overview.started_x",e)))):null})));function se({leakPeriod:e}){return Object(Q.c)(e)?i.createElement(ie,{leakPeriod:e}):i.createElement(ae,{leakPeriod:e})}i.memo(se);var oe=n(1134),le=n(1135),ce=n(389);var ue=i.memo((function(e){const{branchLike:t,component:n,measures:r,useDiffMetric:a=!1}=e,s=a?O.a.new_technical_debt:O.a.sqale_index,o=Object(E.findMeasure)(r,s);let l;return o&&(l=a?Object(ce.b)(o):o.value),i.createElement(i.Fragment,null,void 0===l?i.createElement("span",{"aria-label":Object(P.translate)("no_data"),className:"overview-measures-empty-value"}):i.createElement(Z.a,{branchLike:t,className:"overview-measures-value text-light",component:n.key,metric:s},Object(K.formatMeasure)(l,"WORK_DUR")),i.createElement("span",{className:"big-spacer-left"},o?Object(P.getLocalizedMetricName)(o.metric,!0):Object(E.localizeMetric)(s)))})),pe=n(513);function he(e){const{measures:t,useDiffMetric:n=!1}=e,r=n?O.a.new_security_hotspots_reviewed:O.a.security_hotspots_reviewed,a=Object(E.findMeasure)(t,r);let s;return a&&(s=n?Object(ce.b)(a):a.value),i.createElement(i.Fragment,null,void 0===s?i.createElement("span",{"aria-label":Object(P.translate)("no_data"),className:"overview-measures-empty-value"}):i.createElement(i.Fragment,null,i.createElement(pe.a,{value:s}),i.createElement("span",{className:"huge spacer-left"},Object(K.formatMeasure)(s,"PERCENT"))),i.createElement("span",{className:"big-spacer-left"},Object(P.translate)("overview.measures.security_hotspots_reviewed")))}function de(e){const{branchLike:t,component:n,isNewCodeTab:r,measures:a,type:s}=e,o=n.qualifier===l.a.Application;return i.createElement("div",{className:"display-flex-row overview-measures-row","data-test":"overview__measures-".concat(s.toString().toLowerCase())},s===X.b.CodeSmell?i.createElement(i.Fragment,null,i.createElement("div",{className:"overview-panel-big-padded flex-1 small display-flex-center big-spacer-left"},i.createElement(ue,{branchLike:t,component:n,measures:a,useDiffMetric:r})),i.createElement("div",{className:"flex-1 small display-flex-center"},i.createElement(oe.a,{branchLike:t,component:n,measures:a,type:s,useDiffMetric:r}))):i.createElement("div",{className:"overview-panel-big-padded flex-1 small display-flex-center big-spacer-left"},i.createElement(oe.a,{branchLike:t,component:n,helpTooltip:s===X.b.SecurityHotspot?Object(P.translate)("metric.security_hotspots.full_description"):void 0,measures:a,type:s,useDiffMetric:r})),s===X.b.SecurityHotspot&&i.createElement("div",{className:"flex-1 small display-flex-center"},i.createElement(he,{measures:a,useDiffMetric:r})),(!o||!r)&&i.createElement("div",{className:"overview-panel-big-padded overview-measures-aside display-flex-center"},i.createElement(le.a,{branchLike:t,component:n,measures:a,type:s,useDiffMetric:r})))}var me,fe=n(316),ve=n(343);function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){const{branch:t,component:n,period:r}=e,a=!(n.qualifier===l.a.Application)&&!!r&&!r.date&&"REFERENCE_BRANCH"===r.mode,s=a&&(null==t?void 0:t.name)===(null==r?void 0:r.parameter),c=a?s?"overview.measures.same_reference.explanation":"overview.measures.bad_reference.explanation":"overview.measures.empty_explanation",u=!(!n.configuration||!n.configuration.showSettings);return i.createElement("div",{className:"display-flex-center display-flex-justify-center",style:{height:500}},i.createElement("img",{alt:"",className:"spacer-right",height:52,src:"".concat(Object(ve.getBaseUrl)(),"/images/source-code.svg")}),i.createElement("div",{className:"big-spacer-left text-muted",style:{maxWidth:500}},i.createElement("p",{className:"spacer-bottom big-spacer-top big"},Object(P.translate)(c)),s?u&&i.createElement("p",null,i.createElement(q.FormattedMessage,{defaultMessage:Object(P.translate)("overview.measures.bad_setting.link"),id:"overview.measures.bad_setting.link",values:{setting_link:i.createElement(fe.Link,{to:{pathname:"/project/baseline",query:ge({id:n.key},Object(o.d)(t))}},Object(P.translate)("settings.new_code_period.category"))}})):i.createElement("p",null,i.createElement(q.FormattedMessage,{defaultMessage:Object(P.translate)("overview.measures.empty_link"),id:"overview.measures.empty_link",values:{learn_more_link:i.createElement(fe.Link,{to:"/documentation/user-guide/clean-as-you-code/"},Object(P.translate)("learn_more"))}}))))}function xe(e){const{appLeak:t,branch:n,component:r,loading:a,measures:s=[],period:o}=e,c=s.some(e=>Object(K.isDiffMetric)(e.metric.key)),u=r.qualifier===l.a.Application?t:o,[p,h]=i.useState(me.New),d=p===me.New;i.useEffect(()=>{!1===a&&!c&&d&&h(me.Overall)},[a,c]);const m=[{key:me.New,label:i.createElement("div",{className:"text-left overview-measures-tab"},i.createElement("span",{className:"text-bold"},Object(P.translate)("overview.new_code")),u&&i.createElement(se,{leakPeriod:u}))},{key:me.Overall,label:i.createElement("div",{className:"text-left overview-measures-tab"},i.createElement("span",{className:"text-bold",style:{position:"absolute",top:2*V.rawSizes.grid}},Object(P.translate)("overview.overall_code")))}];return i.createElement("div",{className:"overview-panel","data-test":"overview__measures-panel"},i.createElement("h2",{className:"overview-panel-title"},Object(P.translate)("overview.measures")),a?i.createElement("div",{className:"overview-panel-content overview-panel-big-padded"},i.createElement(S.a,{loading:a})):i.createElement(i.Fragment,null,i.createElement(G.a,{onSelect:h,selected:p,tabs:m}),i.createElement("div",{className:"overview-panel-content flex-1 bordered"},!c&&d?i.createElement(be,{branch:n,component:r,period:o}):i.createElement(i.Fragment,null,[X.b.Bug,X.b.Vulnerability,X.b.SecurityHotspot,X.b.CodeSmell].map(e=>i.createElement(de,{branchLike:n,component:r,isNewCodeTab:d,key:e,measures:s,type:e})),i.createElement("div",{className:"display-flex-row overview-measures-row"},(Object(E.findMeasure)(s,O.a.coverage)||Object(E.findMeasure)(s,O.a.new_coverage))&&i.createElement("div",{className:"overview-panel-huge-padded flex-1 bordered-right display-flex-center","data-test":"overview__measures-coverage"},i.createElement(Y.a,{branchLike:n,centered:d,component:r,measures:s,type:k.c.Coverage,useDiffMetric:d}),p===me.Overall&&i.createElement("div",{className:"huge-spacer-left"},i.createElement(J,{branchLike:n,component:r,measures:s,metric:O.a.tests}))),i.createElement("div",{className:"overview-panel-huge-padded flex-1 display-flex-center"},i.createElement(Y.a,{branchLike:n,centered:d,component:r,measures:s,type:k.c.Duplication,useDiffMetric:d}),p===me.Overall&&i.createElement("div",{className:"huge-spacer-left"},i.createElement(J,{branchLike:n,component:r,measures:s,metric:O.a.duplicated_blocks}))))))))}!function(e){e[e.New=0]="New",e[e.Overall=1]="Overall"}(me||(me={}));i.memo(xe);var Ee=n(322);var we=i.memo((function({branchLike:e,component:t,measures:n}){const r=t.qualifier===l.a.Application;let a=Object(P.translate)("overview.project.no_lines_of_code");return r?a=void 0===n||void 0===n.find(e=>e.metric.key===O.a.projects)?Object(P.translate)("portfolio.app.empty"):Object(P.translate)("portfolio.app.no_lines_of_code"):void 0===n||0===n.length?a=Object(o.g)(e)?Object(P.translate)("overview.project.main_branch_empty"):void 0!==e?Object(P.translateWithParameters)("overview.project.branch_X_empty",Object(o.b)(e)):Object(P.translate)("overview.project.empty"):Object(o.g)(e)?a=Object(P.translate)("overview.project.main_branch_no_lines_of_code"):void 0!==e&&(a=Object(P.translateWithParameters)("overview.project.branch_X_no_lines_of_code",Object(o.b)(e))),i.createElement(Ee.Alert,{display:"banner",variant:"warning"},a)})),Oe=n(311),ke=n(1157);var je=i.memo((function(e){const{component:t,qgStatus:n}=e,r=n.failedConditions.filter(e=>Object(E.isDiffMetric)(e.metric)),a=n.failedConditions.filter(e=>!Object(E.isDiffMetric)(e.metric));if(0===r.length&&0===a.length)return null;const s=t.qualifier===l.a.Application;return i.createElement("div",{className:"overview-quality-gate-conditions"},s&&i.createElement("h3",{className:"overview-quality-gate-conditions-project-name"},n.name),r.length>0&&i.createElement(i.Fragment,null,i.createElement("h4",{className:"overview-quality-gate-conditions-section-title"},Object(P.translate)("quality_gates.conditions.new_code")),i.createElement(ke.a,{component:n,branchLike:n.branchLike,failedConditions:r})),a.length>0&&i.createElement(i.Fragment,null,i.createElement("h4",{className:"overview-quality-gate-conditions-section-title"},Object(P.translate)("quality_gates.conditions.overall_code")),i.createElement(ke.a,{component:n,branchLike:n.branchLike,failedConditions:a})))}));var Ne=i.memo((function(e){const{component:t,loading:n,qgStatuses:r=[]}=e;if(void 0===r)return null;const a=r.map(e=>e.status).includes("ERROR")?"ERROR":"OK",s="OK"===a,o=r.reduce((e,t)=>e+t.failedConditions.length,0),l="TRK"===t.qualifier&&void 0!==r&&r.some(e=>Boolean(e.ignoredConditions));return i.createElement("div",{className:"overview-panel","data-test":"overview__quality-gate-panel"},i.createElement("h2",{className:"overview-panel-title display-inline-flex-center"},Object(P.translate)("overview.quality_gate")," ",i.createElement(ee.a,{className:"little-spacer-left",overlay:i.createElement("div",{className:"big-padded-top big-padded-bottom"},Object(P.translate)("overview.quality_gate.help"))})),l&&i.createElement(Ee.Alert,{className:"big-spacer-bottom",display:"inline",variant:"info"},i.createElement("span",{className:"text-middle"},Object(P.translate)("overview.quality_gate.ignored_conditions")),i.createElement(ee.a,{className:"spacer-left",overlay:Object(P.translate)("overview.quality_gate.ignored_conditions.tooltip")})),i.createElement("div",{className:"overview-panel-content"},n?i.createElement("div",{className:"overview-panel-big-padded"},i.createElement(S.a,{loading:n})):i.createElement(i.Fragment,null,i.createElement("div",{className:Oe("overview-quality-gate-badge-large",{failed:!s,success:s})},i.createElement("h3",{className:"big-spacer-bottom huge"},Object(P.translate)("metric.level",a)),i.createElement("span",{className:"small"},o>0?Object(P.translateWithParameters)("overview.X_conditions_failed",o):Object(P.translate)("overview.quality_gate_all_conditions_passed"))),o>0&&i.createElement("div",{"data-test":"overview__quality-gate-conditions"},r.map(e=>i.createElement(je,{component:t,key:e.key,qgStatus:e}))))))}));var Se=i.memo((function(e){const{analyses:t,appLeak:n,branch:r,component:a,graph:s,loadingHistory:o,loadingStatus:c,measures:u,measuresHistory:p=[],metrics:h=[],onGraphChange:m,period:f,projectIsEmpty:v,qgStatuses:_}=e,g=a.qualifier===l.a.Application?n:f;return i.createElement("div",{className:"page page-limited"},i.createElement("div",{className:"overview"},i.createElement(j.a,{anchor:"overview_main"}),v?i.createElement(we,{branchLike:r,component:a,measures:u}):i.createElement("div",{className:"display-flex-row"},i.createElement("div",{className:"width-25 big-spacer-right"},i.createElement(Ne,{component:a,loading:c,qgStatuses:_})),i.createElement("div",{className:"flex-1"},i.createElement("div",{className:"display-flex-column"},i.createElement(xe,{appLeak:n,branch:r,component:a,loading:c,measures:u,period:f}),i.createElement(U,{analyses:t,branchLike:r,component:a,graph:s,leakPeriodDate:g&&Object(d.parseDate)(g.date),loading:o,measuresHistory:p,metrics:h,onGraphChange:m}))))))}));function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Te=Object(d.toNotSoISOString)((new Date).setFullYear((new Date).getFullYear()-1));class Ce extends i.PureComponent{constructor(e){super(e),this.mounted=!1,this.loadStatus=()=>{this.props.component.qualifier===l.a.Application?this.loadApplicationStatus():this.loadProjectStatus()},this.loadApplicationStatus=async()=>{const{branch:e,component:t}=this.props;this.setState({loadingStatus:!0});const n=await Object(y.j)(Me({application:t.key},Object(o.d)(e))),{measures:i,metrics:r,period:a}=await this.loadMeasuresAndMeta(t.key,e),s=e&&!Object(o.g)(e)&&Object(o.b)(e)||void 0,l=await function(e,t){return Object(f.getJSON)("/api/applications/show",{application:e,branch:t}).then(e=>e.application,v.a)}(t.key,s);(function(e,t){return Object(f.getJSON)("/api/applications/show_leak",{application:e,branch:t}).then(e=>e.leaks,v.a)})(t.key,s).then(e=>{if(this.mounted&&e&&e.length){const t=h()(e,e=>new Date(e.date));this.setState({appLeak:t[0]})}},()=>{this.mounted&&this.setState({appLeak:void 0})}),Promise.all(n.projects.map(e=>{const t=l.projects.find(t=>t.key===e.key),n=t?{isMain:t.isMain,name:t.branch,excludedFromPurge:!1}:void 0;return this.loadMeasuresAndMeta(e.key,n,e.conditions.filter(e=>"OK"!==e.status).map(e=>e.metric)).then(({measures:t})=>({measures:t,project:e,projectBranchLike:n}))})).then(e=>{if(this.mounted){const t=e.map(({measures:e=[],project:t,projectBranchLike:n})=>{const{key:i,name:r,status:a}=t,s=Object(w.a)(t);return{failedConditions:this.getFailedConditions(s,e),key:i,name:r,status:a,branchLike:n}});this.setState({loadingStatus:!1,measures:i,metrics:r,period:a,qgStatuses:t})}},()=>{this.mounted&&this.setState({loadingStatus:!1,qgStatuses:void 0})})},this.loadProjectStatus=async()=>{const{branch:e,component:{key:t,name:n}}=this.props;this.setState({loadingStatus:!0});const i=await Object(y.l)(Me({projectKey:t},Object(o.d)(e))),r=void 0!==i.conditions?u()([...k.b,...i.conditions.map(e=>e.metricKey)]):k.b;this.loadMeasuresAndMeta(t,e,r).then(({measures:r,metrics:a,period:s})=>{if(this.mounted&&r){const{ignoredConditions:o,status:l}=i,c=Object(w.b)(i),u={ignoredConditions:o,failedConditions:this.getFailedConditions(c,r),key:t,name:n,status:l,branchLike:e};this.setState({loadingStatus:!1,measures:r,metrics:a,period:s,qgStatuses:[u]})}else this.mounted&&this.setState({loadingStatus:!1,qgStatuses:void 0})},()=>{this.mounted&&this.setState({loadingStatus:!1,qgStatuses:void 0})})},this.loadMeasuresAndMeta=(e,t,n=[])=>Object(_.h)(e,n.length>0?n:k.b,Object(o.d)(t)).then(({component:{measures:e},metrics:t,period:n})=>({measures:Object(E.enhanceMeasuresWithMetrics)(e||[],t||[]),metrics:t,period:n})),this.loadHistory=()=>(this.setState({loadingHistory:!0}),Promise.all([this.loadHistoryMeasures(),this.loadAnalyses()]).then(this.doneLoadingHistory,this.doneLoadingHistory)),this.loadHistoryMeasures=()=>{const{branch:e,component:t}=this.props,{graph:n}=this.state,i=Object(x.f)(n,[]),r=u()([...k.a,...i]);return Object(b.a)(Me({},Object(o.d)(e),{from:Te,component:t.key,metrics:r.join()})).then(({measures:e})=>{this.mounted&&this.setState({measuresHistory:e.map(e=>({metric:e.metric,history:e.history.map(e=>({date:Object(d.parseDate)(e.date),value:e.value}))}))})},()=>{})},this.loadAnalyses=()=>{const{branch:e}=this.props;return Object(g.e)(Me({},Object(o.d)(e),{project:this.getTopLevelComponent(),from:Te})).then(({analyses:e})=>{this.mounted&&this.setState({analyses:e})},()=>{})},this.getFailedConditions=(e,t)=>e.filter(e=>"OK"!==e.level).map(e=>Object(E.enhanceConditionWithMeasure)(e,t)).filter(m.isDefined),this.getTopLevelComponent=()=>{const{component:e}=this.props;let t=e.breadcrumbs.length-1;for(;t>0&&![l.a.Project,l.a.Portfolio,l.a.Application].includes(e.breadcrumbs[t].qualifier);)t--;return e.breadcrumbs[t].key},this.doneLoadingHistory=()=>{this.mounted&&this.setState({loadingHistory:!1})},this.handleGraphChange=e=>{const{component:t}=this.props;Object(x.k)("sonar_branch_overview.graph",t.key,e),this.setState({graph:e,loadingHistory:!0},()=>{this.loadHistoryMeasures().then(this.doneLoadingHistory,this.doneLoadingHistory)})};const{graph:t}=Object(x.c)("sonar_branch_overview.graph",e.component.key);this.state={graph:t}}componentDidMount(){this.mounted=!0,this.loadStatus(),this.loadHistory()}componentDidUpdate(e){this.props.component.key===e.component.key&&Object(o.i)(this.props.branch,e.branch)||(this.loadStatus(),this.loadHistory())}componentWillUnmount(){this.mounted=!1}render(){const{branch:e,component:t}=this.props,{analyses:n,appLeak:r,graph:a,loadingStatus:s,loadingHistory:o,measures:l,measuresHistory:c,metrics:u,period:p,qgStatuses:h}=this.state,d=!1===s&&(void 0===l||void 0===l.find(e=>[O.a.lines,O.a.new_lines].includes(e.metric.key)));return i.createElement(Se,{analyses:n,appLeak:r,branch:e,component:t,graph:a,loadingHistory:o,loadingStatus:s,measures:l,measuresHistory:c,metrics:u,onGraphChange:this.handleGraphChange,period:p,projectIsEmpty:d,qgStatuses:h})}}const De=Object(r.lazyLoadComponent)(()=>Promise.all([n.e(1),n.e(299)]).then(n.bind(null,1832))),qe=Object(r.lazyLoadComponent)(()=>n.e(353).then(n.bind(null,1872)));class Ie extends i.PureComponent{constructor(){super(...arguments),this.isPortfolio=()=>Object(l.c)(this.props.component.qualifier)}render(){const{branchLike:e,branchLikes:t,component:n}=this.props;return this.isPortfolio()?null:Object(o.h)(e)?i.createElement(i.Fragment,null,i.createElement(a.a,{suggestions:"pull_requests"}),i.createElement(qe,{branchLike:e,component:n})):i.createElement(i.Fragment,null,i.createElement(a.a,{suggestions:"overview"}),n.analysisDate?i.createElement(Ce,{branch:e,component:n}):i.createElement(De,{branchLike:e,branchLikes:t,component:n,hasAnalyses:this.props.isPending||this.props.isInProgress}))}}t.default=Object(s.a)(Ie)},335:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(2),r=n(368);function a({suggestions:e}){return i.createElement(r.a.Consumer,null,({addSuggestions:t,removeSuggestions:n})=>i.createElement(s,{addSuggestions:t,removeSuggestions:n,suggestions:e}))}class s extends i.PureComponent{componentDidMount(){this.props.addSuggestions(this.props.suggestions)}componentDidUpdate(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))}componentWillUnmount(){this.props.removeSuggestions(this.props.suggestions)}render(){return null}}},341:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(311),s=n(2),o=n(317);n(361);var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.props.disabled||t.props.onCheck(!t.props.checked,t.props.id)},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.checked,n=e.children,i=e.disabled,r=e.id,l=e.loading,c=e.right,u=e.thirdState,p=e.title,h=a("icon-checkbox",{"icon-checkbox-checked":t,"icon-checkbox-single":u,"icon-checkbox-disabled":i});return n?s.createElement("a",{"aria-checked":t,className:a("link-checkbox",this.props.className,{note:i,disabled:i}),href:"#",id:r,onClick:this.handleClick,role:"checkbox",title:p},c&&n,s.createElement(o.default,{loading:Boolean(l)},s.createElement("i",{className:h})),!c&&n):l?s.createElement(o.default,null):s.createElement("a",{"aria-checked":t,className:a(h,this.props.className),href:"#",id:r,onClick:this.handleClick,role:"checkbox",title:p})},t.defaultProps={thirdState:!1},t}(s.PureComponent);t.default=l},351:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(319),s=n(26);t.formatterOption={year:"numeric",month:"short",day:"2-digit"},t.longFormatterOption={year:"numeric",month:"long",day:"numeric"},t.default=function(e){var n=e.children,o=e.date,l=e.long;return r.createElement(a.FormattedDate,i({value:s.parseDate(o)},l?t.longFormatterOption:t.formatterOption),n)}},354:function(e,t,n){var i=n(353),r=n(334),a=n(429),s=n(367);e.exports=function(e,t){return(s(e)?i:a)(e,r(t,3))}},355:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(2),r=n(31),a=n(404);function s(e){return i.createElement(a.a.Consumer,null,({addA11ySkipLink:t,removeA11ySkipLink:n})=>i.createElement(o,Object.assign({addA11ySkipLink:t,removeA11ySkipLink:n},e)))}class o extends i.PureComponent{constructor(){super(...arguments),this.getLink=()=>{const{anchor:e,label:t=Object(r.translate)("skip_to_content"),weight:n}=this.props;return{key:e,label:t,weight:n}}}componentDidMount(){this.props.addA11ySkipLink(this.getLink())}componentWillUnmount(){this.props.removeA11ySkipLink(this.getLink())}render(){const{anchor:e}=this.props;return i.createElement("span",{id:"a11y_target__".concat(e)})}}},358:function(e,t){e.exports=function(e){return e}},359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(449),r=n(2),a=n(319),s=n(26),o=n(31),l=n(357);t.default=function(e){var t=e.children,n=void 0===t?function(e){return e}:t,c=e.date,u=e.hourPrecision,p=n;if(!c)return r.createElement(r.Fragment,null,n(o.translate("never")));c&&u&&i.differenceInHours(Date.now(),c)<1&&(p=function(){return n(o.translate("less_than_1_hour_ago"))});var h=s.parseDate(c);return r.createElement(l.default,{date:h},(function(e){return r.createElement("span",{title:e},r.createElement(a.FormattedRelative,{value:h},p))}))}},361:function(e,t,n){var i=n(313),r=n(362);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},s=(i(r,a),r.locals?r.locals:{});e.exports=s},362:function(e,t,n){(t=n(314)(!1)).push([e.i,".icon-checkbox{display:inline-block;line-height:1;vertical-align:top;padding:1px 2px;box-sizing:border-box}a.icon-checkbox{border-bottom:none}.icon-checkbox:focus{outline:none}.icon-checkbox:before{content:\" \";display:inline-block;width:10px;height:10px;border:1px solid #236a97;border-radius:2px;transition:border-color .2s ease,background-color .2s ease,background-image .2s ease,box-shadow .4s ease}.icon-checkbox:not(.icon-checkbox-disabled):focus:before,.link-checkbox:not(.disabled):focus:focus .icon-checkbox:before{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.icon-checkbox-checked:before{background-color:#4b9fd5;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M12 4.665c0 .172-.06.318-.18.438l-5.55 5.55c-.12.12-.266.18-.438.18s-.318-.06-.438-.18L2.18 7.438C2.06 7.317 2 7.17 2 7s.06-.318.18-.44l.878-.876c.12-.12.267-.18.44-.18.17 0 .317.06.437.18l1.897 1.903 4.233-4.24c.12-.12.266-.18.438-.18s.32.06.44.18l.876.88c.12.12.18.265.18.438z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\");border-color:#4b9fd5}.icon-checkbox-checked.icon-checkbox-single:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M10 4.698A.697.697 0 0 0 9.302 4H4.698A.697.697 0 0 0 4 4.698v4.604c0 .386.312.698.698.698h4.604A.697.697 0 0 0 10 9.302V4.698z' fill='%23fff'/%3E%3C/svg%3E\")}.icon-checkbox-disabled:before{border:1px solid #bbb;cursor:not-allowed}.icon-checkbox-disabled.icon-checkbox-checked:before{background-color:#bbb}.icon-checkbox-invisible{visibility:hidden}.link-checkbox{color:inherit;border-bottom:none}.link-checkbox.disabled,.link-checkbox.disabled:hover,.link-checkbox.disabled label{color:#777;cursor:not-allowed}.link-checkbox:active,.link-checkbox:focus,.link-checkbox:hover{color:inherit}",""]),e.exports=t},371:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(448);t.default=function(e){var t,n=e.query,o=r(e,["query"]);switch(n.toLowerCase()){case"bug":case"bugs":case"new_bugs":t="BUG";break;case"vulnerability":case"vulnerabilities":case"new_vulnerabilities":t="VULNERABILITY";break;case"code_smell":case"code_smells":case"new_code_smells":t="CODE_SMELL";break;case"security_hotspot":case"security_hotspots":case"new_security_hotspots":t="SECURITY_HOTSPOT";break;default:return null}return a.createElement(s.default,i({type:t},o))}},377:function(e,t,n){var i=n(442),r=n(395),a=Object.prototype.hasOwnProperty,s=r((function(e,t,n){a.call(e,n)?e[n].push(t):i(e,n,[t])}));e.exports=s},382:function(e,t,n){var i=n(358);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},388:function(e,t,n){var i=n(490),r=n(403),a=n(430),s=n(444),o=a((function(e,t){return s(e)?i(e,r(t,1,s,!0)):[]}));e.exports=o},389:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var i=n(348);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=["sqale_rating","maintainability_rating","reliability_rating","security_rating","security_review_rating"];function o(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{metric:t[e.metric],leak:l(e)})}function l(e){var t;return null===(t=null==e?void 0:e.period)||void 0===t?void 0:t.value}function c(e,t){const n=Object(i.isDiffMetric)(e)?e.substr(4):e;if(s.includes(n))return Object(i.getRatingTooltip)(n,t)}},398:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(2),r=n(318),a=n.n(r),s=n(376),o=n.n(s),l=n(384),c=n.n(l),u=n(320),p=n(389);function h({className:e,decimals:t,metricKey:n,metricType:r,small:s,value:l}){if(void 0===l)return i.createElement("span",{className:e},"–");if("LEVEL"===r)return i.createElement(o.a,{className:e,level:l,small:s});if("RATING"!==r){const n=Object(u.formatMeasure)(l,r,{decimals:t,omitExtraDecimalZeros:"PERCENT"===r});return i.createElement("span",{className:e},null!=n?n:"–")}const h=Object(p.c)(n,Number(l)),d=i.createElement(c.a,{small:s,value:l});return h?i.createElement(a.a,{overlay:h},i.createElement("span",{className:e},d)):d}},399:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(315);t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,o=r(e,["fill"]);return a.createElement(s.default,i({},o),a.createElement("path",{d:"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z",style:{fill:n}}))}},401:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return E})),n.d(t,"g",(function(){return w})),n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return k})),n.d(t,"l",(function(){return j})),n.d(t,"b",(function(){return N})),n.d(t,"k",(function(){return S})),n.d(t,"c",(function(){return P}));var i=n(328),r=n.n(i),a=n(377),s=n.n(a),o=n(512),l=n.n(o),c=n(629),u=n.n(c),p=n(31),h=n(16),d=n(348),m=n(378),f=n(485);const v=f.a.issues,_={[f.a.issues]:[m.a.bugs,m.a.code_smells,m.a.vulnerabilities],[f.a.coverage]:[m.a.lines_to_cover,m.a.uncovered_lines],[f.a.duplications]:[m.a.ncloc,m.a.duplicated_lines]},g={[f.a.issues]:_[f.a.issues].concat([m.a.reliability_rating,m.a.security_rating,m.a.sqale_rating]),[f.a.coverage]:[..._[f.a.coverage],m.a.coverage],[f.a.duplications]:[..._[f.a.duplications],m.a.duplicated_lines_density]};function y(e){return e===f.a.custom}function b(e=!1){const t=[f.a.issues,f.a.coverage,f.a.duplications];return e?t:[...t,f.a.custom]}function x(e){return e.data.some(e=>Boolean(e.y||0===e.y))}function E(e){return e.some(e=>e.data&&e.data.length>1)}function w(e){return e.length>0?e[0].type:"INT"}function O(e,t){return y(e)?t:_[e]}function k(e,t){return y(e)?t:g[e]}function j(e,t,n){return l()(s()(e,e=>e.type),e=>u()(e,n)).slice(0,t)}function N(e,t,n,i){return i.length<=0||void 0===e?[]:r()(e.filter(e=>i.indexOf(e.metric)>=0).map(i=>{if(i.metric===m.a.uncovered_lines&&!y(t))return function(e,t){const n=t.find(e=>e.metric===m.a.lines_to_cover);return{data:n?e.history.map((e,t)=>({x:e.date,y:Number(n.history[t].value)-Number(e.value)})):[],name:"covered_lines",translatedName:Object(p.translate)("project_activity.custom_metric.covered_lines"),type:"INT"}}(i,e);const r=function(e,t){if(Array.isArray(t))return t.find(t=>t.key===e);return t[e]}(i.metric,n);return{data:i.history.map(e=>({x:e.date,y:r&&"LEVEL"===r.type?e.value:Number(e.value)})),name:i.metric,translatedName:r?Object(p.getLocalizedMetricName)(r):Object(d.localizeMetric)(i.metric),type:r?r.type:"INT"}}),e=>i.indexOf("covered_lines"===e.name?"uncovered_lines":e.name))}function S(e,t,n,i=[]){Object(h.save)(e,n,t),y(n)&&Object(h.save)("".concat(e,".custom"),i.join(","),t)}function P(e,t){const n=Object(h.get)("".concat(e,".custom"),t);return{graph:Object(h.get)(e,t)||v,customGraphs:n?n.split(","):[]}}},405:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(315);t.default=function(e){var t=e.fill,n=r(e,["fill"]);return a.createElement(s.ThemedIcon,i({},n),(function(e){var n=e.theme;return a.createElement("path",{d:"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z",style:{fill:t||n.colors.blue}})}))}},418:function(e,t){e.exports=function(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},448:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(491),o=n(492),l=n(493),c=n(473);t.default=function(e){var t=e.type,n=r(e,["type"]);switch(t){case"BUG":return a.createElement(s.default,i({},n));case"VULNERABILITY":return a.createElement(c.default,i({},n));case"CODE_SMELL":return a.createElement(o.default,i({},n));case"SECURITY_HOTSPOT":return a.createElement(l.default,i({},n));default:return null}}},485:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.issues="issues",e.coverage="coverage",e.duplications="duplications",e.custom="custom"}(i||(i={}))},487:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(388),r=n.n(i),a=n(311),s=n(2),o=n(350),l=n.n(o),c=n(31),u=n(341),p=n.n(u);function h(e){const{active:t,custom:n,disabled:i,element:r,selected:o}=e,l=()=>e.onHover(r),u=a({active:t,disabled:i}),h=e.renderLabel(r);return s.createElement("li",{onFocus:l,onMouseOver:l},s.createElement(p.a,{checked:Boolean(o),className:u,disabled:i,id:r,onCheck:e.onSelectChange},n?s.createElement("span",{"aria-label":"".concat(Object(c.translate)("create_new_element"),": ").concat(h),className:"little-spacer-left"},s.createElement("span",{"aria-hidden":!0,className:"little-spacer-right"},"+"),h):s.createElement("span",{className:"little-spacer-left"},h)))}class d extends s.PureComponent{constructor(e){super(e),this.mounted=!1,this.handleSelectChange=(e,t)=>{e?this.onSelectItem(t):this.onUnselectItem(t)},this.handleSearchChange=e=>{this.onSearchQuery(this.props.validateSearchInput(e))},this.handleElementHover=e=>{this.setState((t,n)=>({activeIdx:this.getAllElements(n,t).indexOf(e)}))},this.handleKeyboard=e=>{switch(e.keyCode){case 40:e.stopPropagation(),e.preventDefault(),this.setState(this.selectNextElement);break;case 38:e.stopPropagation(),e.preventDefault(),this.setState(this.selectPreviousElement);break;case 37:case 39:e.stopPropagation();break;case 13:this.state.activeIdx>=0&&this.toggleSelect(this.getAllElements(this.props,this.state)[this.state.activeIdx])}},this.onSearchQuery=e=>{this.setState({activeIdx:0,loading:!0,query:e}),this.props.onSearch(e).then(this.stopLoading,this.stopLoading)},this.onSelectItem=e=>{this.isNewElement(e,this.props)&&this.onSearchQuery(""),this.props.onSelect(e)},this.onUnselectItem=e=>this.props.onUnselect(e),this.isNewElement=(e,{selectedElements:t,elements:n})=>e.length>0&&-1===t.indexOf(e)&&-1===n.indexOf(e),this.updateSelectedElements=e=>{this.setState(t=>t.query?{selectedElements:e.filterSelected(t.query,e.selectedElements)}:{selectedElements:[...e.selectedElements]})},this.updateUnselectedElements=e=>{this.setState(t=>0===e.listSize?{unselectedElements:r()(e.elements,e.selectedElements)}:e.listSize<t.selectedElements.length?{unselectedElements:[]}:{unselectedElements:r()(e.elements,e.selectedElements).slice(0,e.listSize-t.selectedElements.length)})},this.getAllElements=(e,t)=>this.isNewElement(t.query,e)?[...t.selectedElements,...t.unselectedElements,t.query]:[...t.selectedElements,...t.unselectedElements],this.setElementActive=e=>this.setState({activeIdx:e}),this.selectNextElement=(e,t)=>{const{activeIdx:n}=e,i=this.getAllElements(t,e);return n<0||n>=i.length-1?{activeIdx:0}:{activeIdx:n+1}},this.selectPreviousElement=(e,t)=>{const{activeIdx:n}=e,i=this.getAllElements(t,e);if(n<=0){return{activeIdx:i.length-1}}return{activeIdx:n-1}},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.toggleSelect=e=>{-1===this.props.selectedElements.indexOf(e)?this.onSelectItem(e):this.onUnselectItem(e)},this.state={activeIdx:0,loading:!0,query:"",selectedElements:[],unselectedElements:[]}}componentDidMount(){this.mounted=!0,this.onSearchQuery(""),this.updateSelectedElements(this.props),this.updateUnselectedElements(this.props),this.container&&this.container.addEventListener("keydown",this.handleKeyboard,!0)}componentWillReceiveProps(e){if(this.props.elements!==e.elements||this.props.selectedElements!==e.selectedElements){this.updateSelectedElements(e),this.updateUnselectedElements(e);const t=this.getAllElements(e,this.state).length;this.state.activeIdx>=t&&this.setState({activeIdx:t-1})}}componentDidUpdate(){this.searchInput&&this.searchInput.focus()}componentWillUnmount(){this.mounted=!1,this.container&&this.container.removeEventListener("keydown",this.handleKeyboard)}render(){const{allowSelection:e=!0,allowNewElements:t=!0,footerNode:n=""}=this.props,{renderLabel:i}=this.props,{query:r,activeIdx:o,selectedElements:u,unselectedElements:p}=this.state,d=this.getAllElements(this.props,this.state)[o],m=t&&this.isNewElement(r,this.props),f=0===this.props.listSize,v=a("menu",{"menu-vertically-limited":f,"spacer-top":f,"with-top-separator":f,"with-bottom-separator":Boolean(n)});return s.createElement("div",{className:"multi-select",ref:e=>this.container=e},s.createElement("div",{className:"menu-search"},s.createElement(l.a,{autoFocus:!0,className:"little-spacer-top",loading:this.state.loading,onChange:this.handleSearchChange,placeholder:this.props.placeholder,value:r})),s.createElement("ul",{className:v},u.length>0&&u.map(e=>s.createElement(h,{active:d===e,element:e,key:e,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:i,selected:!0})),p.length>0&&p.map(t=>s.createElement(h,{active:d===t,disabled:!e,element:t,key:t,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:i})),m&&s.createElement(h,{active:d===r,custom:!0,element:r,key:r,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:i}),!m&&u.length<1&&p.length<1&&s.createElement("li",{className:"spacer-left"},Object(c.translateWithParameters)("no_results_for_x",r))),n)}}d.defaultProps={filterSelected:(e,t)=>t.filter(t=>t.includes(e)),listSize:0,renderLabel:e=>e,validateSearchInput:e=>e}},506:function(e,t,n){var i=n(507)(n(524));e.exports=i},507:function(e,t,n){var i=n(334),r=n(529),a=n(528);e.exports=function(e){return function(t,n,s){var o=Object(t);if(!r(t)){var l=i(n,3);t=a(t),n=function(e){return l(o[e],e,o)}}var c=e(t,n,s);return c>-1?o[l?t[c]:c]:void 0}}},512:function(e,t,n){var i=n(403),r=n(354);e.exports=function(e,t){return i(r(e,t),1)}},513:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(2),r=n(331),a=n(342);const s=Object(r.lazyLoadComponent)(()=>n.e(354).then(n.t.bind(null,745,7)),"DonutChart"),o={small:16,normal:24,big:40,huge:60},l={small:2,normal:3,big:3,huge:4};function c({muted:e=!1,size:t="normal",value:n}){let r=[{value:100,fill:"#ccc "}],c=0;if(null!=n){const t=Number(n);r=[{value:t,fill:e?a.colors.gray71:a.colors.green},{value:100-t,fill:e?a.colors.barBackgroundColor:a.colors.lineCoverageRed}],0!==t&&t<100&&(c=.1)}const u=o[t],p=l[t];return i.createElement(s,{data:r,height:u,padAngle:c,thickness:p,width:u})}},524:function(e,t,n){var i=n(418),r=n(334),a=n(382),s=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:a(n);return l<0&&(l=s(o+l,0)),i(e,r(t,3),l)}},566:function(e,t,n){var i=n(642);e.exports=function(e,t){return i(e,t)}},589:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(311),r=n(27),a=n(2);n(631),t.default=function(e){var t=e.muted,n=void 0!==t&&t,s=e.size,o=void 0===s?"normal":s,l=e.value,c=i("duplications-rating",{"duplications-rating-small":"small"===o,"duplications-rating-big":"big"===o,"duplications-rating-huge":"huge"===o,"duplications-rating-muted":n||null==l||isNaN(l),"duplications-rating-A":r.inRange(l||0,0,3),"duplications-rating-B":r.inRange(l||0,3,5),"duplications-rating-C":r.inRange(l||0,5,10),"duplications-rating-D":r.inRange(l||0,10,20),"duplications-rating-E":(l||0)>=20});return a.createElement("div",{className:c})}},590:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(315);t.default=function(e){var t=e.fill,n=void 0===t?"#fff":t,o=e.size,l=void 0===o?14:o,c=r(e,["fill","size"]);return a.createElement(s.default,i({size:l},c),a.createElement("path",{d:"M8 2 L14 8 L8 14 L2 8 L8 2 L14 8",style:{fill:n,stroke:"currentColor",strokeWidth:"2px"}}))}},600:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(2),r=n(316),a=n(327),s=n(321);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=["violations","new_violations","blocker_violations","critical_violations","major_violations","minor_violations","info_violations","new_blocker_violations","new_critical_violations","new_major_violations","new_minor_violations","new_info_violations","open_issues","reopened_issues","confirmed_issues","false_positive_issues","code_smells","new_code_smells","bugs","new_bugs","vulnerabilities","new_vulnerabilities"],p={blocker_violations:{resolved:"false",severities:"BLOCKER"},new_blocker_violations:{resolved:"false",severities:"BLOCKER"},critical_violations:{resolved:"false",severities:"CRITICAL"},new_critical_violations:{resolved:"false",severities:"CRITICAL"},major_violations:{resolved:"false",severities:"MAJOR"},new_major_violations:{resolved:"false",severities:"MAJOR"},minor_violations:{resolved:"false",severities:"MINOR"},new_minor_violations:{resolved:"false",severities:"MINOR"},info_violations:{resolved:"false",severities:"INFO"},new_info_violations:{resolved:"false",severities:"INFO"},open_issues:{resolved:"false",statuses:"OPEN"},reopened_issues:{resolved:"false",statuses:"REOPENED"},confirmed_issues:{resolved:"false",statuses:"CONFIRMED"},false_positive_issues:{resolutions:"FALSE-POSITIVE"},code_smells:{resolved:"false",types:"CODE_SMELL"},new_code_smells:{resolved:"false",types:"CODE_SMELL"},bugs:{resolved:"false",types:"BUG"},new_bugs:{resolved:"false",types:"BUG"},vulnerabilities:{resolved:"false",types:"VULNERABILITY"},new_vulnerabilities:{resolved:"false",types:"VULNERABILITY"}};class h extends i.PureComponent{constructor(){super(...arguments),this.isIssueMeasure=()=>-1!==u.indexOf(this.props.metric),this.propsToIssueParams=()=>{const e=l({},p[this.props.metric]||{resolved:"false"});return this.props.sinceLeakPeriod&&(e.sinceLeakPeriod=!0),e},this.renderIssuesLink=()=>{const e=Object(s.h)(this.props.component,l({},this.propsToIssueParams(),{},Object(a.d)(this.props.branchLike)));return i.createElement(r.Link,{className:this.props.className,to:e},this.props.children)}}render(){if(this.isIssueMeasure())return this.renderIssuesLink();const e=Object(s.f)({componentKey:this.props.component,metric:this.props.metric,branchLike:this.props.branchLike,listView:!0});return i.createElement(r.Link,{className:this.props.className,to:e},this.props.children)}}},606:function(e,t,n){"use strict";var i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var r,a,s,o=n(2),l=n(338),c=l.styled.div(r||(r=i(["\n  display: flex;\n  flex-direction: row;\n"],["\n  display: flex;\n  flex-direction: row;\n"]))),u=function(e){return"1px solid "+e.theme.colors.barBorderColor},p=function(e){return"\n  &:hover {\n    background-color: "+e.theme.colors.barBackgroundColorHighlight+";\n  }\n"},h=l.styled.button(a||(a=i(["\n  position: relative;\n  background-color: ",";\n  border-top: ",";\n  border-left: ",";\n  border-right: none;\n  border-bottom: none;\n  margin-bottom: -1px;\n  min-width: 128px;\n  min-height: 56px;\n  ","\n  outline: 0;\n  padding: calc(2 * ",");\n\n  ","\n\n  &:last-child {\n    border-right: ",";\n  }\n"],["\n  position: relative;\n  background-color: ",";\n  border-top: ",";\n  border-left: ",";\n  border-right: none;\n  border-bottom: none;\n  margin-bottom: -1px;\n  min-width: 128px;\n  min-height: 56px;\n  ","\n  outline: 0;\n  padding: calc(2 * ",");\n\n  ","\n\n  &:last-child {\n    border-right: ",";\n  }\n"])),(function(e){return e.active?"white":e.theme.colors.barBackgroundColor}),u,u,(function(e){return!e.active&&"cursor: pointer;"}),l.themeSize("gridSize"),(function(e){return e.active?null:p}),u),d=l.styled.div(s||(s=i(["\n  display: ",";\n  background-color: ",";\n  height: 3px;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: -1px;\n"],["\n  display: ",";\n  background-color: ",";\n  height: 3px;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: -1px;\n"])),(function(e){return e.active?"block":"none"}),l.themeColor("blue"));t.default=function(e){var t=e.className,n=e.tabs,i=e.selected;return o.createElement(c,{className:t},n.map((function(t,n){var r=t.key,a=t.label;return o.createElement(h,{active:i===r,key:n,onClick:function(){return i!==r&&e.onSelect(r)},type:"button"},o.createElement(d,{active:i===r}),a)})))}},629:function(e,t,n){var i=n(677),r=n(488),a=n(382),s=Math.ceil,o=Math.max;e.exports=function(e,t,n){t=(n?r(e,t,n):void 0===t)?1:o(a(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var c=0,u=0,p=Array(s(l/t));c<l;)p[u++]=i(e,c,c+=t);return p}},630:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return _})),n.d(t,"j",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"i",(function(){return b})),n.d(t,"l",(function(){return x})),n.d(t,"k",(function(){return E}));var i=n(589),r=n.n(i),a=n(31),s=n(513),o=n(545),l=n(378);const c=[l.a.alert_status,l.a.quality_gate_details,l.a.bugs,l.a.new_bugs,l.a.reliability_rating,l.a.new_reliability_rating,l.a.vulnerabilities,l.a.new_vulnerabilities,l.a.security_rating,l.a.new_security_rating,l.a.security_hotspots,l.a.new_security_hotspots,l.a.security_hotspots_reviewed,l.a.new_security_hotspots_reviewed,l.a.security_review_rating,l.a.new_security_review_rating,l.a.code_smells,l.a.new_code_smells,l.a.sqale_rating,l.a.new_maintainability_rating,l.a.sqale_index,l.a.new_technical_debt,l.a.coverage,l.a.new_coverage,l.a.lines_to_cover,l.a.new_lines_to_cover,l.a.tests,l.a.duplicated_lines_density,l.a.new_duplicated_lines_density,l.a.duplicated_blocks,l.a.ncloc,l.a.ncloc_language_distribution,l.a.projects,l.a.lines,l.a.new_lines],u=[l.a.coverage,l.a.new_coverage,l.a.new_lines_to_cover,l.a.duplicated_lines_density,l.a.new_duplicated_lines_density,l.a.new_lines,l.a.new_code_smells,l.a.new_maintainability_rating,l.a.new_bugs,l.a.new_reliability_rating,l.a.new_vulnerabilities,l.a.new_security_hotspots,l.a.new_security_review_rating,l.a.new_security_rating],p=[l.a.bugs,l.a.vulnerabilities,l.a.sqale_index,l.a.duplicated_lines_density,l.a.ncloc,l.a.coverage];var h;!function(e){e.Coverage="COVERAGE",e.Duplication="DUPLICATION"}(h||(h={}));const d={[h.Coverage]:{metric:l.a.coverage,newMetric:l.a.new_coverage,linesMetric:l.a.lines_to_cover,newLinesMetric:l.a.new_lines_to_cover,afterMergeMetric:l.a.coverage,labelKey:"metric.coverage.name",expandedLabelKey:"overview.coverage_on_X_lines",newLinesExpandedLabelKey:"overview.coverage_on_X_new_lines",iconClass:s.a},[h.Duplication]:{metric:l.a.duplicated_lines_density,newMetric:l.a.new_duplicated_lines_density,linesMetric:l.a.ncloc,newLinesMetric:l.a.new_lines,afterMergeMetric:l.a.duplicated_lines_density,labelKey:"metric.duplicated_lines_density.short_name",expandedLabelKey:"overview.duplications_on_X_lines",newLinesExpandedLabelKey:"overview.duplications_on_X_new_lines",iconClass:r.a}};function m(e){return Object(a.translate)("metric_domain",o.a[e].ratingName)}function f(e){return o.a[e].iconClass}function v(e,t){return t?o.a[e].newMetric:o.a[e].metric}function _(e,t){return t?o.a[e].newRating:o.a[e].rating}function g(e){return d[e].iconClass}function y(e,t){return t?d[e].newMetric:d[e].metric}function b(e){return d[e].afterMergeMetric}function x(e,t){return t?d[e].newLinesMetric:d[e].linesMetric}function E(e,t){return{expandedLabelKey:t?d[e].newLinesExpandedLabelKey:d[e].expandedLabelKey,labelKey:d[e].labelKey}}},631:function(e,t,n){var i=n(313),r=n(632);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},s=(i(r,a),r.locals?r.locals:{});e.exports=s},632:function(e,t,n){(t=n(314)(!1)).push([e.i,'.duplications-rating{position:relative;display:inline-flex;vertical-align:top;justify-content:center;align-items:center;width:24px;height:24px;border:3px solid #ed7d20;border-radius:24px;box-sizing:border-box}.duplications-rating-small{width:16px;height:16px;border-width:2px}.duplications-rating-big{width:40px;height:40px;border-width:3px}.duplications-rating-huge{width:60px;height:60px;border-width:4px;border-radius:30px}.duplications-rating-muted{border-color:#bdbdbd!important}.duplications-rating-muted:after{background-color:#bdbdbd!important}.duplications-rating:after{border-radius:24px;content:""}.duplications-rating-A{border-color:#0a0}.duplications-rating-A:after{display:none}.duplications-rating-B{border-color:#b0d513}.duplications-rating-B:after{width:6px;height:6px;background-color:#b0d513}.duplications-rating-small.duplications-rating-B:after{width:2px;height:2px}.duplications-rating-big.duplications-rating-B:after{width:12px;height:12px}.duplications-rating-huge.duplications-rating-B:after{width:18px;height:18px}.duplications-rating-C{border-color:#eabe06}.duplications-rating-C:after{width:8px;height:8px;background-color:#eabe06}.duplications-rating-small.duplications-rating-C:after{width:6px;height:6px}.duplications-rating-big.duplications-rating-C:after{width:16px;height:16px}.duplications-rating-huge.duplications-rating-C:after{width:24px;height:24px}.duplications-rating-D{border-color:#ed7d20}.duplications-rating-D:after{width:12px;height:12px;background-color:#ed7d20}.duplications-rating-small.duplications-rating-D:after{width:8px;height:8px}.duplications-rating-big.duplications-rating-D:after{width:24px;height:24px}.duplications-rating-huge.duplications-rating-D:after{width:36px;height:36px}.duplications-rating-E{border-color:#d4333f}.duplications-rating-E:after{width:14px;height:14px;background-color:#d4333f}.duplications-rating-small.duplications-rating-E:after{width:10px;height:10px}.duplications-rating-big.duplications-rating-E:after{width:28px;height:28px}.duplications-rating-huge.duplications-rating-E:after{width:42px;height:42px}',""]),e.exports=t},633:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(315);t.default=function(e){var t=e.index,n=r(e,["index"]);return a.createElement(s.ThemedIcon,i({},n),(function(e){var n=e.theme,i=[n.colors.blue,n.colors.darkBlue,"#24c6e0"];return a.createElement("path",{d:"M14.325 7.143v1.714q0 0.357-0.25 0.607t-0.607 0.25h-10.857q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h10.857q0.357 0 0.607 0.25t0.25 0.607z",style:{fill:i[t]||i[0]}})}))}},670:function(e,t,n){"use strict";n.r(t),n.d(t,"arc",(function(){return P})),n.d(t,"area",(function(){return q})),n.d(t,"line",(function(){return D})),n.d(t,"pie",(function(){return R})),n.d(t,"areaRadial",(function(){return W})),n.d(t,"radialArea",(function(){return W})),n.d(t,"lineRadial",(function(){return U})),n.d(t,"radialLine",(function(){return U})),n.d(t,"pointRadial",(function(){return G})),n.d(t,"linkHorizontal",(function(){return $})),n.d(t,"linkVertical",(function(){return ee})),n.d(t,"linkRadial",(function(){return te})),n.d(t,"symbol",(function(){return ye})),n.d(t,"symbols",(function(){return ge})),n.d(t,"symbolCircle",(function(){return ne})),n.d(t,"symbolCross",(function(){return ie})),n.d(t,"symbolDiamond",(function(){return se})),n.d(t,"symbolSquare",(function(){return pe})),n.d(t,"symbolStar",(function(){return ue})),n.d(t,"symbolTriangle",(function(){return de})),n.d(t,"symbolWye",(function(){return _e})),n.d(t,"curveBasisClosed",(function(){return ke})),n.d(t,"curveBasisOpen",(function(){return Ne})),n.d(t,"curveBasis",(function(){return we})),n.d(t,"curveBundle",(function(){return Pe})),n.d(t,"curveCardinalClosed",(function(){return De})),n.d(t,"curveCardinalOpen",(function(){return Ie})),n.d(t,"curveCardinal",(function(){return Te})),n.d(t,"curveCatmullRomClosed",(function(){return Fe})),n.d(t,"curveCatmullRomOpen",(function(){return Ue})),n.d(t,"curveCatmullRom",(function(){return ze})),n.d(t,"curveLinearClosed",(function(){return Ge})),n.d(t,"curveLinear",(function(){return L})),n.d(t,"curveMonotoneX",(function(){return $e})),n.d(t,"curveMonotoneY",(function(){return et})),n.d(t,"curveNatural",(function(){return it})),n.d(t,"curveStep",(function(){return at})),n.d(t,"curveStepAfter",(function(){return ot})),n.d(t,"curveStepBefore",(function(){return st})),n.d(t,"stack",(function(){return pt})),n.d(t,"stackOffsetExpand",(function(){return ht})),n.d(t,"stackOffsetDiverging",(function(){return dt})),n.d(t,"stackOffsetNone",(function(){return lt})),n.d(t,"stackOffsetSilhouette",(function(){return mt})),n.d(t,"stackOffsetWiggle",(function(){return ft})),n.d(t,"stackOrderAppearance",(function(){return vt})),n.d(t,"stackOrderAscending",(function(){return gt})),n.d(t,"stackOrderDescending",(function(){return bt})),n.d(t,"stackOrderInsideOut",(function(){return xt})),n.d(t,"stackOrderNone",(function(){return ct})),n.d(t,"stackOrderReverse",(function(){return Et}));var i=Math.PI,r=2*i,a=r-1e-6;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function o(){return new s}s.prototype=o.prototype={constructor:s,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var s=this._x1,o=this._y1,l=n-e,c=r-t,u=s-e,p=o-t,h=u*u+p*p;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6)if(Math.abs(p*l-c*u)>1e-6&&a){var d=n-s,m=r-o,f=l*l+c*c,v=d*d+m*m,_=Math.sqrt(f),g=Math.sqrt(h),y=a*Math.tan((i-Math.acos((f+h-v)/(2*_*g)))/2),b=y/g,x=y/_;Math.abs(b-1)>1e-6&&(this._+="L"+(e+b*u)+","+(t+b*p)),this._+="A"+a+","+a+",0,0,"+ +(p*d>u*m)+","+(this._x1=e+x*l)+","+(this._y1=t+x*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,s,o,l){e=+e,t=+t;var c=(n=+n)*Math.cos(s),u=n*Math.sin(s),p=e+c,h=t+u,d=1^l,m=l?s-o:o-s;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+p+","+h:(Math.abs(this._x1-p)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+p+","+h),n&&(m<0&&(m=m%r+r),m>a?this._+="A"+n+","+n+",0,1,"+d+","+(e-c)+","+(t-u)+"A"+n+","+n+",0,1,"+d+","+(this._x1=p)+","+(this._y1=h):m>1e-6&&(this._+="A"+n+","+n+",0,"+ +(m>=i)+","+d+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var l=o,c=function(e){return function(){return e}},u=Math.abs,p=Math.atan2,h=Math.cos,d=Math.max,m=Math.min,f=Math.sin,v=Math.sqrt,_=Math.PI,g=_/2,y=2*_;function b(e){return e>1?0:e<-1?_:Math.acos(e)}function x(e){return e>=1?g:e<=-1?-g:Math.asin(e)}function E(e){return e.innerRadius}function w(e){return e.outerRadius}function O(e){return e.startAngle}function k(e){return e.endAngle}function j(e){return e&&e.padAngle}function N(e,t,n,i,r,a,s,o){var l=n-e,c=i-t,u=s-r,p=o-a,h=p*l-u*c;if(!(h*h<1e-12))return[e+(h=(u*(t-a)-p*(e-r))/h)*l,t+h*c]}function S(e,t,n,i,r,a,s){var o=e-n,l=t-i,c=(s?a:-a)/v(o*o+l*l),u=c*l,p=-c*o,h=e+u,m=t+p,f=n+u,_=i+p,g=(h+f)/2,y=(m+_)/2,b=f-h,x=_-m,E=b*b+x*x,w=r-a,O=h*_-f*m,k=(x<0?-1:1)*v(d(0,w*w*E-O*O)),j=(O*x-b*k)/E,N=(-O*b-x*k)/E,S=(O*x+b*k)/E,P=(-O*b+x*k)/E,M=j-g,L=N-y,T=S-g,C=P-y;return M*M+L*L>T*T+C*C&&(j=S,N=P),{cx:j,cy:N,x01:-u,y01:-p,x11:j*(r/w-1),y11:N*(r/w-1)}}var P=function(){var e=E,t=w,n=c(0),i=null,r=O,a=k,s=j,o=null;function d(){var c,d,E=+e.apply(this,arguments),w=+t.apply(this,arguments),O=r.apply(this,arguments)-g,k=a.apply(this,arguments)-g,j=u(k-O),P=k>O;if(o||(o=c=l()),w<E&&(d=w,w=E,E=d),w>1e-12)if(j>y-1e-12)o.moveTo(w*h(O),w*f(O)),o.arc(0,0,w,O,k,!P),E>1e-12&&(o.moveTo(E*h(k),E*f(k)),o.arc(0,0,E,k,O,P));else{var M,L,T=O,C=k,D=O,q=k,I=j,A=j,R=s.apply(this,arguments)/2,z=R>1e-12&&(i?+i.apply(this,arguments):v(E*E+w*w)),B=m(u(w-E)/2,+n.apply(this,arguments)),F=B,H=B;if(z>1e-12){var U=x(z/E*f(R)),W=x(z/w*f(R));(I-=2*U)>1e-12?(D+=U*=P?1:-1,q-=U):(I=0,D=q=(O+k)/2),(A-=2*W)>1e-12?(T+=W*=P?1:-1,C-=W):(A=0,T=C=(O+k)/2)}var G=w*h(T),K=w*f(T),V=E*h(q),X=E*f(q);if(B>1e-12){var Y,Z=w*h(C),J=w*f(C),Q=E*h(D),$=E*f(D);if(j<_&&(Y=N(G,K,Q,$,Z,J,V,X))){var ee=G-Y[0],te=K-Y[1],ne=Z-Y[0],ie=J-Y[1],re=1/f(b((ee*ne+te*ie)/(v(ee*ee+te*te)*v(ne*ne+ie*ie)))/2),ae=v(Y[0]*Y[0]+Y[1]*Y[1]);F=m(B,(E-ae)/(re-1)),H=m(B,(w-ae)/(re+1))}}A>1e-12?H>1e-12?(M=S(Q,$,G,K,w,H,P),L=S(Z,J,V,X,w,H,P),o.moveTo(M.cx+M.x01,M.cy+M.y01),H<B?o.arc(M.cx,M.cy,H,p(M.y01,M.x01),p(L.y01,L.x01),!P):(o.arc(M.cx,M.cy,H,p(M.y01,M.x01),p(M.y11,M.x11),!P),o.arc(0,0,w,p(M.cy+M.y11,M.cx+M.x11),p(L.cy+L.y11,L.cx+L.x11),!P),o.arc(L.cx,L.cy,H,p(L.y11,L.x11),p(L.y01,L.x01),!P))):(o.moveTo(G,K),o.arc(0,0,w,T,C,!P)):o.moveTo(G,K),E>1e-12&&I>1e-12?F>1e-12?(M=S(V,X,Z,J,E,-F,P),L=S(G,K,Q,$,E,-F,P),o.lineTo(M.cx+M.x01,M.cy+M.y01),F<B?o.arc(M.cx,M.cy,F,p(M.y01,M.x01),p(L.y01,L.x01),!P):(o.arc(M.cx,M.cy,F,p(M.y01,M.x01),p(M.y11,M.x11),!P),o.arc(0,0,E,p(M.cy+M.y11,M.cx+M.x11),p(L.cy+L.y11,L.cx+L.x11),P),o.arc(L.cx,L.cy,F,p(L.y11,L.x11),p(L.y01,L.x01),!P))):o.arc(0,0,E,q,D,P):o.lineTo(V,X)}else o.moveTo(0,0);if(o.closePath(),c)return o=null,c+""||null}return d.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-_/2;return[h(i)*n,f(i)*n]},d.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),d):e},d.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:c(+e),d):t},d.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:c(+e),d):n},d.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:c(+e),d):i},d.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:c(+e),d):r},d.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:c(+e),d):a},d.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:c(+e),d):s},d.context=function(e){return arguments.length?(o=null==e?null:e,d):o},d};function M(e){this._context=e}M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var L=function(e){return new M(e)};function T(e){return e[0]}function C(e){return e[1]}var D=function(){var e=T,t=C,n=c(!0),i=null,r=L,a=null;function s(s){var o,c,u,p=s.length,h=!1;for(null==i&&(a=r(u=l())),o=0;o<=p;++o)!(o<p&&n(c=s[o],o,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,o,s),+t(c,o,s));if(u)return a=null,u+""||null}return s.x=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:c(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:c(!!e),s):n},s.curve=function(e){return arguments.length?(r=e,null!=i&&(a=r(i)),s):r},s.context=function(e){return arguments.length?(null==e?i=a=null:a=r(i=e),s):i},s},q=function(){var e=T,t=null,n=c(0),i=C,r=c(!0),a=null,s=L,o=null;function u(c){var u,p,h,d,m,f=c.length,v=!1,_=new Array(f),g=new Array(f);for(null==a&&(o=s(m=l())),u=0;u<=f;++u){if(!(u<f&&r(d=c[u],u,c))===v)if(v=!v)p=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=p;--h)o.point(_[h],g[h]);o.lineEnd(),o.areaEnd()}v&&(_[u]=+e(d,u,c),g[u]=+n(d,u,c),o.point(t?+t(d,u,c):_[u],i?+i(d,u,c):g[u]))}if(m)return o=null,m+""||null}function p(){return D().defined(r).curve(s).context(a)}return u.x=function(n){return arguments.length?(e="function"==typeof n?n:c(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:c(+e),u):t},u.y=function(e){return arguments.length?(n="function"==typeof e?e:c(+e),i=null,u):n},u.y0=function(e){return arguments.length?(n="function"==typeof e?e:c(+e),u):n},u.y1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:c(+e),u):i},u.lineX0=u.lineY0=function(){return p().x(e).y(n)},u.lineY1=function(){return p().x(e).y(i)},u.lineX1=function(){return p().x(t).y(n)},u.defined=function(e){return arguments.length?(r="function"==typeof e?e:c(!!e),u):r},u.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),u):s},u.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),u):a},u},I=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},A=function(e){return e},R=function(){var e=A,t=I,n=null,i=c(0),r=c(y),a=c(0);function s(s){var o,l,c,u,p,h=s.length,d=0,m=new Array(h),f=new Array(h),v=+i.apply(this,arguments),_=Math.min(y,Math.max(-y,r.apply(this,arguments)-v)),g=Math.min(Math.abs(_)/h,a.apply(this,arguments)),b=g*(_<0?-1:1);for(o=0;o<h;++o)(p=f[m[o]=o]=+e(s[o],o,s))>0&&(d+=p);for(null!=t?m.sort((function(e,n){return t(f[e],f[n])})):null!=n&&m.sort((function(e,t){return n(s[e],s[t])})),o=0,c=d?(_-h*b)/d:0;o<h;++o,v=u)l=m[o],u=v+((p=f[l])>0?p*c:0)+b,f[l]={data:s[l],index:o,value:p,startAngle:v,endAngle:u,padAngle:g};return f}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:c(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,n=null,s):t},s.sort=function(e){return arguments.length?(n=e,t=null,s):n},s.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:c(+e),s):i},s.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:c(+e),s):r},s.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:c(+e),s):a},s},z=F(L);function B(e){this._curve=e}function F(e){function t(t){return new B(e(t))}return t._curve=e,t}function H(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(F(e)):t()._curve},e}B.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var U=function(){return H(D().curve(z))},W=function(){var e=q().curve(z),t=e.curve,n=e.lineX0,i=e.lineX1,r=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return H(n())},delete e.lineX0,e.lineEndAngle=function(){return H(i())},delete e.lineX1,e.lineInnerRadius=function(){return H(r())},delete e.lineY0,e.lineOuterRadius=function(){return H(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(F(e)):t()._curve},e},G=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},K=Array.prototype.slice;function V(e){return e.source}function X(e){return e.target}function Y(e){var t=V,n=X,i=T,r=C,a=null;function s(){var s,o=K.call(arguments),c=t.apply(this,o),u=n.apply(this,o);if(a||(a=s=l()),e(a,+i.apply(this,(o[0]=c,o)),+r.apply(this,o),+i.apply(this,(o[0]=u,o)),+r.apply(this,o)),s)return a=null,s+""||null}return s.source=function(e){return arguments.length?(t=e,s):t},s.target=function(e){return arguments.length?(n=e,s):n},s.x=function(e){return arguments.length?(i="function"==typeof e?e:c(+e),s):i},s.y=function(e){return arguments.length?(r="function"==typeof e?e:c(+e),s):r},s.context=function(e){return arguments.length?(a=null==e?null:e,s):a},s}function Z(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t=(t+i)/2,n,t,r,i,r)}function J(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+r)/2,i,n,i,r)}function Q(e,t,n,i,r){var a=G(t,n),s=G(t,n=(n+r)/2),o=G(i,n),l=G(i,r);e.moveTo(a[0],a[1]),e.bezierCurveTo(s[0],s[1],o[0],o[1],l[0],l[1])}function $(){return Y(Z)}function ee(){return Y(J)}function te(){var e=Y(Q);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var ne={draw:function(e,t){var n=Math.sqrt(t/_);e.moveTo(n,0),e.arc(0,0,n,0,y)}},ie={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},re=Math.sqrt(1/3),ae=2*re,se={draw:function(e,t){var n=Math.sqrt(t/ae),i=n*re;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},oe=Math.sin(_/10)/Math.sin(7*_/10),le=Math.sin(y/10)*oe,ce=-Math.cos(y/10)*oe,ue={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),i=le*n,r=ce*n;e.moveTo(0,-n),e.lineTo(i,r);for(var a=1;a<5;++a){var s=y*a/5,o=Math.cos(s),l=Math.sin(s);e.lineTo(l*n,-o*n),e.lineTo(o*i-l*r,l*i+o*r)}e.closePath()}},pe={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},he=Math.sqrt(3),de={draw:function(e,t){var n=-Math.sqrt(t/(3*he));e.moveTo(0,2*n),e.lineTo(-he*n,-n),e.lineTo(he*n,-n),e.closePath()}},me=Math.sqrt(3)/2,fe=1/Math.sqrt(12),ve=3*(fe/2+1),_e={draw:function(e,t){var n=Math.sqrt(t/ve),i=n/2,r=n*fe,a=i,s=n*fe+n,o=-a,l=s;e.moveTo(i,r),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(-.5*i-me*r,me*i+-.5*r),e.lineTo(-.5*a-me*s,me*a+-.5*s),e.lineTo(-.5*o-me*l,me*o+-.5*l),e.lineTo(-.5*i+me*r,-.5*r-me*i),e.lineTo(-.5*a+me*s,-.5*s-me*a),e.lineTo(-.5*o+me*l,-.5*l-me*o),e.closePath()}},ge=[ne,ie,se,pe,ue,de,_e],ye=function(){var e=c(ne),t=c(64),n=null;function i(){var i;if(n||(n=i=l()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(t){return arguments.length?(e="function"==typeof t?t:c(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:c(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i},be=function(){};function xe(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ee(e){this._context=e}Ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xe(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xe(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var we=function(e){return new Ee(e)};function Oe(e){this._context=e}Oe.prototype={areaStart:be,areaEnd:be,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xe(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var ke=function(e){return new Oe(e)};function je(e){this._context=e}je.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:xe(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Ne=function(e){return new je(e)};function Se(e,t){this._basis=new Ee(e),this._beta=t}Se.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,r=e[0],a=t[0],s=e[n]-r,o=t[n]-a,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+i*s),this._beta*t[l]+(1-this._beta)*(a+i*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Pe=function e(t){function n(e){return 1===t?new Ee(e):new Se(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Me(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Le(e,t){this._context=e,this._k=(1-t)/6}Le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Me(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Te=function e(t){function n(e){return new Le(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ce(e,t){this._context=e,this._k=(1-t)/6}Ce.prototype={areaStart:be,areaEnd:be,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var De=function e(t){function n(e){return new Ce(e,t)}return n.tension=function(t){return e(+t)},n}(0);function qe(e,t){this._context=e,this._k=(1-t)/6}qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ie=function e(t){function n(e){return new qe(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ae(e,t,n){var i=e._x1,r=e._y1,a=e._x2,s=e._y2;if(e._l01_a>1e-12){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>1e-12){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(i,r,a,s,e._x2,e._y2)}function Re(e,t){this._context=e,this._alpha=t}Re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ae(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ze=function e(t){function n(e){return t?new Re(e,t):new Le(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Be(e,t){this._context=e,this._alpha=t}Be.prototype={areaStart:be,areaEnd:be,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ae(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Fe=function e(t){function n(e){return t?new Be(e,t):new Ce(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function He(e,t){this._context=e,this._alpha=t}He.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ae(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ue=function e(t){function n(e){return t?new He(e,t):new qe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function We(e){this._context=e}We.prototype={areaStart:be,areaEnd:be,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var Ge=function(e){return new We(e)};function Ke(e){return e<0?-1:1}function Ve(e,t,n){var i=e._x1-e._x0,r=t-e._x1,a=(e._y1-e._y0)/(i||r<0&&-0),s=(n-e._y1)/(r||i<0&&-0),o=(a*r+s*i)/(i+r);return(Ke(a)+Ke(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Xe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ye(e,t,n){var i=e._x0,r=e._y0,a=e._x1,s=e._y1,o=(a-i)/3;e._context.bezierCurveTo(i+o,r+o*t,a-o,s-o*n,a,s)}function Ze(e){this._context=e}function Je(e){this._context=new Qe(e)}function Qe(e){this._context=e}function $e(e){return new Ze(e)}function et(e){return new Je(e)}function tt(e){this._context=e}function nt(e){var t,n,i=e.length-1,r=new Array(i),a=new Array(i),s=new Array(i);for(r[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,a[i-1]=7,s[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(r[i-1]=s[i-1]/a[i-1],t=i-2;t>=0;--t)r[t]=(s[t]-r[t+1])/a[t];for(a[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)a[t]=2*e[t+1]-r[t+1];return[r,a]}Ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ye(this,this._t0,Xe(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ye(this,Xe(this,n=Ve(this,e,t)),n);break;default:Ye(this,this._t0,n=Ve(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Je.prototype=Object.create(Ze.prototype)).point=function(e,t){Ze.prototype.point.call(this,t,e)},Qe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,a){this._context.bezierCurveTo(t,e,i,n,a,r)}},tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=nt(e),r=nt(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var it=function(e){return new tt(e)};function rt(e,t){this._context=e,this._t=t}rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var at=function(e){return new rt(e,.5)};function st(e){return new rt(e,0)}function ot(e){return new rt(e,1)}var lt=function(e,t){if((r=e.length)>1)for(var n,i,r,a=1,s=e[t[0]],o=s.length;a<r;++a)for(i=s,s=e[t[a]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},ct=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n};function ut(e,t){return e[t]}var pt=function(){var e=c([]),t=ct,n=lt,i=ut;function r(r){var a,s,o=e.apply(this,arguments),l=r.length,c=o.length,u=new Array(c);for(a=0;a<c;++a){for(var p,h=o[a],d=u[a]=new Array(l),m=0;m<l;++m)d[m]=p=[0,+i(r[m],h,m,r)],p.data=r[m];d.key=h}for(a=0,s=t(u);a<c;++a)u[s[a]].index=a;return n(u,s),u}return r.keys=function(t){return arguments.length?(e="function"==typeof t?t:c(K.call(t)),r):e},r.value=function(e){return arguments.length?(i="function"==typeof e?e:c(+e),r):i},r.order=function(e){return arguments.length?(t=null==e?ct:"function"==typeof e?e:c(K.call(e)),r):t},r.offset=function(e){return arguments.length?(n=null==e?lt:e,r):n},r},ht=function(e,t){if((i=e.length)>0){for(var n,i,r,a=0,s=e[0].length;a<s;++a){for(r=n=0;n<i;++n)r+=e[n][a][1]||0;if(r)for(n=0;n<i;++n)e[n][a][1]/=r}lt(e,t)}},dt=function(e,t){if((o=e.length)>0)for(var n,i,r,a,s,o,l=0,c=e[t[0]].length;l<c;++l)for(a=s=0,n=0;n<o;++n)(r=(i=e[t[n]][l])[1]-i[0])>0?(i[0]=a,i[1]=a+=r):r<0?(i[1]=s,i[0]=s+=r):(i[0]=0,i[1]=r)},mt=function(e,t){if((n=e.length)>0){for(var n,i=0,r=e[t[0]],a=r.length;i<a;++i){for(var s=0,o=0;s<n;++s)o+=e[s][i][1]||0;r[i][1]+=r[i][0]=-o/2}lt(e,t)}},ft=function(e,t){if((r=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,r,a=0,s=1;s<i;++s){for(var o=0,l=0,c=0;o<r;++o){for(var u=e[t[o]],p=u[s][1]||0,h=(p-(u[s-1][1]||0))/2,d=0;d<o;++d){var m=e[t[d]];h+=(m[s][1]||0)-(m[s-1][1]||0)}l+=p,c+=h*p}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,lt(e,t)}},vt=function(e){var t=e.map(_t);return ct(e).sort((function(e,n){return t[e]-t[n]}))};function _t(e){for(var t,n=-1,i=0,r=e.length,a=-1/0;++n<r;)(t=+e[n][1])>a&&(a=t,i=n);return i}var gt=function(e){var t=e.map(yt);return ct(e).sort((function(e,n){return t[e]-t[n]}))};function yt(e){for(var t,n=0,i=-1,r=e.length;++i<r;)(t=+e[i][1])&&(n+=t);return n}var bt=function(e){return gt(e).reverse()},xt=function(e){var t,n,i=e.length,r=e.map(yt),a=vt(e),s=0,o=0,l=[],c=[];for(t=0;t<i;++t)n=a[t],s<o?(s+=r[n],l.push(n)):(o+=r[n],c.push(n));return c.reverse().concat(l)},Et=function(e){return ct(e).reverse()}},725:function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(315);t.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,o=r(e,["fill"]);return a.createElement(s.default,i({},o),a.createElement("path",{d:"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z",style:{fill:n}}))}},734:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c}));var i=n(9),r=n(326);function a(e){return Object(i.getJSON)("/api/project_analyses/search",e).catch(r.a)}function s(e,t,n,a){const s={analysis:e,name:t};return n&&(s.category=n),a&&(s.description=a),Object(i.postJSON)("/api/project_analyses/create_event",s).then(e=>e.event,r.a)}function o(e){return Object(i.post)("/api/project_analyses/delete_event",{event:e}).catch(r.a)}function l(e,t,n){const a={event:e};return t&&(a.name=t),n&&(a.description=n),Object(i.postJSON)("/api/project_analyses/update_event",a).then(e=>e.event,r.a)}function c(e){return Object(i.post)("/api/project_analyses/delete",{analysis:e}).catch(r.a)}},735:function(e,t,n){var i=n(313),r=n(934);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},s=(i(r,a),r.locals?r.locals:{});e.exports=s},736:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return v}));var i=n(2),r=n(319),a=n(316),s=n(312),o=n(405),l=n.n(o),c=n(336),u=n.n(c),p=n(31),h=n(391),d=n(327),m=n(321);function f(e){return"DEFINITION_CHANGE"===e.category&&void 0!==e.definitionChange}class v extends i.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.stopPropagation=e=>{e.stopPropagation()},this.toggleProjectsList=()=>{this.setState(e=>({expanded:!e.expanded}))},this.renderProjectLink=(e,t)=>i.createElement(a.Link,{onClick:this.stopPropagation,title:e.name,to:Object(m.u)(e.key,t)},Object(h.limitComponentName)(e.name,28)),this.renderBranch=(e=Object(p.translate)("branches.main_branch"))=>i.createElement("span",{className:"nowrap",title:e},i.createElement(l.a,{className:"little-spacer-left text-text-top"}),e)}renderProjectChange(e){const t=!this.props.branchLike||Object(d.g)(this.props.branchLike);if("ADDED"===e.changeType){const n=t?"event.definition_change.added":"event.definition_change.branch_added";return i.createElement("div",{className:"text-ellipsis"},i.createElement(r.FormattedMessage,{defaultMessage:Object(p.translate)(n),id:n,values:{project:this.renderProjectLink(e,e.branch),branch:this.renderBranch(e.branch)}}))}if("REMOVED"===e.changeType){const n=t?"event.definition_change.removed":"event.definition_change.branch_removed";return i.createElement("div",{className:"text-ellipsis"},i.createElement(r.FormattedMessage,{defaultMessage:Object(p.translate)(n),id:n,values:{project:this.renderProjectLink(e,e.branch),branch:this.renderBranch(e.branch)}}))}return"BRANCH_CHANGED"===e.changeType?i.createElement(r.FormattedMessage,{defaultMessage:Object(p.translate)("event.definition_change.branch_replaced"),id:"event.definition_change.branch_replaced",values:{project:this.renderProjectLink(e,e.newBranch),oldBranch:this.renderBranch(e.oldBranch),newBranch:this.renderBranch(e.newBranch)}}):null}render(){const{event:e}=this.props,{expanded:t}=this.state;return i.createElement(i.Fragment,null,i.createElement("span",{className:"note"},Object(p.translate)("event.category",e.category),":"),i.createElement("div",null,i.createElement(s.ResetButtonLink,{className:"project-activity-event-inner-more-link",onClick:this.toggleProjectsList,stopPropagation:!0},t?Object(p.translate)("hide"):Object(p.translate)("more"),i.createElement(u.a,{className:"little-spacer-left",turned:t}))),t&&i.createElement("ul",{className:"spacer-left spacer-top"},e.definitionChange.projects.map(e=>i.createElement("li",{className:"display-flex-center spacer-top",key:e.key},this.renderProjectChange(e)))))}}},737:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var i=n(2),r=n(319),a=n(316),s=n(312),o=n(336),l=n.n(o),c=n(376),u=n.n(c),p=n(31),h=n(321);function d(e){return"QUALITY_GATE"===e.category&&void 0!==e.qualityGate}class m extends i.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.stopPropagation=e=>{e.stopPropagation()},this.toggleProjectsList=()=>{this.setState(e=>({expanded:!e.expanded}))}}render(){const{event:e}=this.props,{expanded:t}=this.state;return i.createElement(i.Fragment,null,i.createElement("span",{className:"note spacer-right"},Object(p.translate)("event.category",e.category),":"),e.qualityGate.stillFailing?i.createElement(r.FormattedMessage,{defaultMessage:Object(p.translate)("event.quality_gate.still_x"),id:"event.quality_gate.still_x",values:{status:i.createElement(u.a,{level:e.qualityGate.status,small:!0})}}):i.createElement(u.a,{level:e.qualityGate.status,small:!0}),i.createElement("div",null,e.qualityGate.failing.length>0&&i.createElement(s.ResetButtonLink,{className:"project-activity-event-inner-more-link",onClick:this.toggleProjectsList,stopPropagation:!0},t?Object(p.translate)("hide"):Object(p.translate)("more"),i.createElement(l.a,{className:"little-spacer-left",turned:t}))),t&&i.createElement("ul",{className:"spacer-left spacer-top"},e.qualityGate.failing.map(t=>i.createElement("li",{className:"display-flex-center spacer-top",key:t.key},i.createElement(u.a,{"aria-label":Object(p.translate)("quality_gates.status"),className:"spacer-right",level:e.qualityGate.status,small:!0}),i.createElement("div",{className:"flex-1 text-ellipsis"},i.createElement(a.Link,{onClick:this.stopPropagation,title:t.name,to:Object(h.u)(t.key,t.branch)},i.createElement("span",{"aria-label":Object(p.translateWithParameters)("project_x",t.name)},t.name)))))))}}},784:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));var i=n(26),r=n(31);function a(e,t){if(!e)return;let n=e.modeParam||e.parameter||"";switch(e.mode){case"SPECIFIC_ANALYSIS":n=t(e.date);break;case"PREVIOUS_VERSION":n=n||t(e.date);break;case"previous_version":if(!n)return Object(r.translate)("overview.period.previous_version_only_date");break;case"date":n=n&&t(n);break;case"manual_baseline":n=n||t(e.date)}return Object(r.translateWithParameters)("overview.period.".concat(e.mode.toLowerCase()),n)}function s(e){return e&&e.date?Object(i.parseDate)(e.date):void 0}function o(e){return void 0!==e.project}},793:function(e,t,n){var i=n(313),r=n(938);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},s=(i(r,a),r.locals?r.locals:{});e.exports=s},933:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(9),r=n(326);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){return Object(i.getJSON)("/api/measures/search_history",e).catch(r.a)}(s({},e,{ps:1e3})).then(n=>{const i=t?{measures:t.measures.map((e,t)=>s({},e,{history:e.history.concat(n.measures[t].history)})),paging:n.paging}:n;return i.paging.pageIndex*i.paging.pageSize>=i.paging.total?i:l(s({},e,{p:i.paging.pageIndex+1}),i)})}},934:function(e,t,n){(t=n(314)(!1)).push([e.i,'.activity-graph-container{padding:10px 0}.activity-graph-tooltip{padding:8px}.activity-graph-tooltip-line{height:20px}.activity-graph-tooltip-line+.activity-graph-tooltip-line{padding-top:4px}.activity-graph-tooltip-issues-line{height:26px;padding-bottom:4px}.activity-graph-tooltip-separator{padding-left:16px;padding-right:16px}.activity-graph-tooltip-separator hr{margin-top:8px;margin-bottom:8px}.activity-graph-tooltip-title,.activity-graph-tooltip-value{font-weight:700}.activity-graph-legends{flex-grow:0;padding-bottom:16px;text-align:center}.activity-graph-legend-actionable{display:inline-block;padding:4px 8px 4px 12px;border-width:1px;border-style:solid;border-radius:12px}.activity-graph-new-code-legend{margin-right:10px}.activity-graph-new-code-legend:after{content:"";display:inline-block;margin-left:4px;width:8px;height:8px;background-color:#fbf3d5;border:2px solid #f1e8cb}',""]),e.exports=t},935:function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(311),o=n(427),l=n(567),c=n(670),u=n(27),p=n(2),h=n(387),d=n(338);n(936),n(793);var m=function(e){function t(t){var n=e.call(this,t)||this;n.getRatingScale=function(e){return l.scalePoint().domain([5,4,3,2,1]).range([e,0])},n.getLevelScale=function(e){return l.scalePoint().domain(["ERROR","WARN","OK"]).range([e,0])},n.getYScale=function(e,t,i){return"RATING"===e.metricType?n.getRatingScale(t):"LEVEL"===e.metricType?n.getLevelScale(t):l.scaleLinear().range([t,0]).domain([0,o.max(i,(function(e){return Number(e.y||0)}))||1]).nice()},n.getXScale=function(e,t,n){var i=e.startDate,r=e.endDate,a=o.extent(n,(function(e){return e.x})),s=i&&i>a[0]?i:a[0],c=r&&r<a[1]?r:a[1],p=l.scaleTime().domain(u.sortBy([s,c])).range([0,t]).clamp(!1);return{xScale:p,maxXRange:a.map(p)}},n.getScales=function(e){var t=e.width-e.padding[1]-e.padding[3],i=e.height-e.padding[0]-e.padding[2],r=u.flatten(e.series.map((function(e){return e.data})));return a(a({},n.getXScale(e,t,r)),{yScale:n.getYScale(e,i,r)})},n.getSelectedDatePos=function(e,t){var i=n.props.series[0];if(t&&i){var r=i.data.findIndex((function(e){return e.x.valueOf()===t.valueOf()})),a=u.sortBy(e.range()),s=e(t);if(r>=0&&s>=a[0]&&s<=a[1])return{selectedDate:t,selectedDateXPos:e(t),selectedDateIdx:r}}return{selectedDate:void 0,selectedDateXPos:void 0,selectedDateIdx:void 0}},n.getEventMarker=function(e){var t=e/2;return"M"+t+" 0 L"+e+" "+t+" L "+t+" "+e+" L0 "+t+" L"+t+" 0 L"+e+" "+t},n.handleWheel=function(e){e.preventDefault();var t=n.state,i=t.maxXRange,r=t.xScale,a=e.currentTarget.getBoundingClientRect(),s=(e.pageX-a.left)/a.width,o=r.range(),l=e.deltaMode?25/e.deltaMode*n.props.zoomSpeed:n.props.zoomSpeed,c=o[0]-Math.round(l*e.deltaY*s),u=o[1]+Math.round(l*e.deltaY*(1-s)),p=c>i[0]?r.invert(c):void 0,h=u<i[1]?r.invert(u):void 0;n.handleZoomUpdate(p,h)},n.handleZoomUpdate=function(e,t){n.props.updateZoom&&n.props.updateZoom(e,t)},n.handleMouseMove=function(e){var t=e.currentTarget.getBoundingClientRect();n.updateTooltipPos(e.pageX-t.left)},n.handleMouseEnter=function(){n.setState({mouseOver:!0})},n.handleMouseOut=function(){var e=n.props.updateTooltip;e&&(n.setState({mouseOver:!1,selectedDate:void 0,selectedDateXPos:void 0,selectedDateIdx:void 0}),e(void 0,void 0,void 0))},n.handleClick=function(){var e=n.props.updateSelectedDate;e&&e(n.state.selectedDate||void 0)},n.setLeakLegendTextWidth=function(e){e&&n.setState({leakLegendTextWidth:e.getBoundingClientRect().width})},n.updateTooltipPos=function(e){n.setState((function(t){var i=n.props.series[0];if(t.mouseOver&&i){var r=n.props.updateTooltip,a=t.xScale.invert(e),s=(0,o.bisector((function(e){return e.x})).right)(i.data,a);if(s>=0){var l=i.data[s-1],c=i.data[s];(!c||l&&a.valueOf()-l.x.valueOf()<=c.x.valueOf()-a.valueOf())&&s--;var u=i.data[s].x,p=t.xScale(u);return r&&r(u,p,s),{selectedDate:u,selectedDateXPos:p,selectedDateIdx:s}}}return null}))},n.renderHorizontalGrid=function(){var e=n.props.formatYTick,t=n.state,i=t.xScale,r=t.yScale,a="function"==typeof r.ticks?r.ticks(n.props.maxYTicksCount):r.domain();if(a.length||a.push(r.domain()[1]),e){var s=a.map((function(t){return e(t)}));a.length>u.uniq(s).length&&(a=r.domain())}return p.createElement("g",null,a.map((function(t){return p.createElement("g",{key:t},null!=e&&p.createElement("text",{className:"line-chart-tick line-chart-tick-x",dx:"-1em",dy:"0.3em",textAnchor:"end",x:i.range()[0],y:r(t)},e(t)),p.createElement("line",{className:"line-chart-grid",x1:i.range()[0],x2:i.range()[1],y1:r(t),y2:r(t)}))})))},n.renderXAxisTicks=function(){var e=n.state,t=e.xScale,i=e.yScale,r=t.tickFormat(7),a=t.ticks(7),s=i.range()[0];return p.createElement("g",{transform:"translate(0, 20)"},a.slice(0,-1).map((function(e,n){var i=n+1<a.length?a[n+1]:t.domain()[1],o=(t(e)+t(i))/2;return p.createElement("text",{className:"line-chart-tick",key:n,textAnchor:"end",transform:"rotate(-35, "+o+", "+s+")",x:o,y:s},r(e))})))},n.renderNewCodeLegend=function(e){var t,i,r,a,s,o=e.leakStart,l=e.leakWidth,c=e.theme,u=n.state,h=u.leakLegendTextWidth,d=u.xScale,m=u.yScale.range(),f=d.range(),v=(h||0)+c.rawSizes.grid,_=c.rawSizes.grid/2;return l>=v?(i=l,r=0,a=(t=o)+_,s="start"):(i=v,t=f[f.length-1]-i,r=c.rawSizes.grid/2,a=f[f.length-1]-_,s="end"),p.createElement(p.Fragment,null,p.createElement("rect",{fill:c.colors.leakPrimaryColor,height:16,width:i,x:t,y:m[m.length-1]-16-r}),p.createElement("text",{className:"new-code-legend",ref:n.setLeakLegendTextWidth,x:a,y:m[m.length-1]-_-r,textAnchor:s},"new code"))},n.renderLeak=function(){var e=n.props,t=e.displayNewCodeLegend,i=e.leakPeriodDate;if(!i)return null;var r=n.state,a=r.xScale,s=r.yScale.range(),o=a.range(),l=Math.max(a(i),o[0]),c=o[o.length-1]-l;return c<1?null:p.createElement(d.ThemeConsumer,null,(function(e){return p.createElement(p.Fragment,null,t&&n.renderNewCodeLegend({leakStart:l,leakWidth:c,theme:e}),p.createElement("rect",{className:"leak-chart-rect",fill:e.colors.leakPrimaryColor,height:s[0]-s[s.length-1],width:c,x:l,y:s[s.length-1]}))}))},n.renderLines=function(){var e=c.line().defined((function(e){return Boolean(e.y||0===e.y)})).x((function(e){return n.state.xScale(e.x)})).y((function(e){return n.state.yScale(e.y)}));return n.props.basisCurve&&e.curve(c.curveBasis),p.createElement("g",null,n.props.series.map((function(t,n){return p.createElement("path",{className:s("line-chart-path","line-chart-path-"+n),d:e(t.data)||void 0,key:t.name})})))},n.renderDots=function(){return p.createElement("g",null,n.props.series.map((function(e,t){return e.data.map((function(i,r){var a=!i.y&&0!==i.y,o=e.data[r-1]&&(e.data[r-1].y||0===e.data[r-1].y),l=e.data[r+1]&&(e.data[r+1].y||0===e.data[r+1].y);if(!(a||o||l))return p.createElement("circle",{className:s("line-chart-dot","line-chart-dot-"+t),cx:n.state.xScale(i.x),cy:n.state.yScale(i.y),key:e.name+r,r:"2"})})).filter(h.isDefined)})).filter((function(e){return e.length>0})))},n.renderAreas=function(){var e=c.area().defined((function(e){return Boolean(e.y||0===e.y)})).x((function(e){return n.state.xScale(e.x)})).y1((function(e){return n.state.yScale(e.y)})).y0(n.state.yScale(0));return n.props.basisCurve&&e.curve(c.curveBasis),p.createElement("g",null,n.props.series.map((function(t,n){return p.createElement("path",{className:s("line-chart-area","line-chart-area-"+n),d:e(t.data)||void 0,key:t.name})})))},n.renderSelectedDate=function(){var e=n.state,t=e.selectedDateIdx,i=e.selectedDateXPos,r=e.yScale,a=n.props.series[0];return null!=t&&null!=i&&a?p.createElement("g",null,p.createElement("line",{className:"line-tooltip",x1:i,x2:i,y1:r.range()[0],y2:r.range()[1]}),n.props.series.map((function(e,n){var a=e.data[t];return!a||!a.y&&0!==a.y?null:p.createElement("circle",{className:s("line-chart-dot","line-chart-dot-"+n),cx:i,cy:r(a.y),key:e.name,r:"4"})}))):null},n.renderClipPath=function(){return p.createElement("defs",null,p.createElement("clipPath",{id:"chart-clip"},p.createElement("rect",{height:n.state.yScale.range()[0]+10,transform:"translate(0,-5)",width:n.state.xScale.range()[1]})))},n.renderMouseEventsOverlay=function(e){var t={};return e&&(t.onWheel=n.handleWheel),n.props.updateTooltip&&(t.onMouseEnter=n.handleMouseEnter,t.onMouseMove=n.handleMouseMove,t.onMouseOut=n.handleMouseOut),n.props.updateSelectedDate&&(t.onClick=n.handleClick),p.createElement("rect",a({className:"chart-mouse-events-overlay",height:n.state.yScale.range()[0],width:n.state.xScale.range()[1]},t))};var i=n.getScales(t),r=n.getSelectedDatePos(i.xScale,t.selectedDate);return n.state=a(a({},i),r),n.updateTooltipPos=u.throttle(n.updateTooltipPos,40),n.handleZoomUpdate=u.throttle(n.handleZoomUpdate,40),n}return r(t,e),t.prototype.componentDidUpdate=function(e){var t,n;if(this.props.metricType===e.metricType&&this.props.startDate===e.startDate&&this.props.endDate===e.endDate&&this.props.width===e.width&&this.props.padding===e.padding&&this.props.height===e.height&&this.props.series===e.series||(t=this.getScales(this.props),null!=this.state.selectedDate&&(n=this.getSelectedDatePos(t.xScale,this.state.selectedDate))),!u.isEqual(this.props.selectedDate,e.selectedDate)){var i=t?t.xScale:this.state.xScale;n=this.getSelectedDatePos(i,this.props.selectedDate)}(t||n)&&(t&&this.setState(a({},t)),n&&this.setState(a({},n)),n&&this.props.updateTooltip&&this.props.updateTooltip(n.selectedDate,n.selectedDateXPos,n.selectedDateIdx))},t.prototype.render=function(){if(!this.props.width||!this.props.height)return p.createElement("div",null);var e=!this.props.disableZoom&&null!=this.props.updateZoom,t=Boolean(this.props.startDate||this.props.endDate);return p.createElement("svg",{className:s("line-chart",{"chart-zoomed":t}),height:this.props.height,width:this.props.width},e&&this.renderClipPath(),p.createElement("g",{transform:"translate("+this.props.padding[3]+", "+this.props.padding[0]+")"},null!=this.props.leakPeriodDate&&this.renderLeak(),!this.props.hideGrid&&this.renderHorizontalGrid(),!this.props.hideXAxis&&this.renderXAxisTicks(),this.props.showAreas&&this.renderAreas(),this.renderLines(),this.renderDots(),this.renderSelectedDate(),this.renderMouseEventsOverlay(e)))},t.defaultProps={eventSize:8,maxYTicksCount:4,padding:[26,10,50,60],zoomSpeed:1},t}(p.PureComponent);t.default=m},936:function(e,t,n){var i=n(313),r=n(937);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},s=(i(r,a),r.locals?r.locals:{});e.exports=s},937:function(e,t,n){(t=n(314)(!1)).push([e.i,".line-tooltip{fill:none;stroke:#777;stroke-width:1px;shape-rendering:crispEdges}.chart-mouse-events-overlay{fill:none;stroke:none;pointer-events:all}.chart-zoomed .leak-chart-rect,.chart-zoomed .line-chart-area,.chart-zoomed .line-chart-path{-webkit-clip-path:url(#chart-clip);clip-path:url(#chart-clip)}.line-chart-dot{fill:#4b9fd5}.line-chart-dot.line-chart-dot-1{fill:#236a97}.line-chart-dot.line-chart-dot-2{fill:#24c6e0}.line-chart-event{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-event.VERSION{stroke:#4b9fd5}.line-chart-event.QUALITY_GATE{stroke:#0a0}.line-chart-event.QUALITY_PROFILE{stroke:#ed7d20}.line-chart-event.OTHER{stroke:#9139d4}.new-code-legend{fill:#777;font-size:12px}",""]),e.exports=t},938:function(e,t,n){(t=n(314)(!1)).push([e.i,".line-chart-path{fill:none;stroke:#4b9fd5;stroke-width:2px}.line-chart-path.line-chart-path-1{stroke:#236a97}.line-chart-path.line-chart-path-2{stroke:#24c6e0}.line-chart-area{fill:rgba(75,159,213,.3);stroke-width:0}.line-chart-area.line-chart-area-1{fill:rgba(35,106,151,.3)}.line-chart-area.line-chart-area-2{fill:rgba(36,198,224,.3)}.line-chart-point{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-tick{fill:#777;font-size:12px}.line-chart-tick-x{text-anchor:end}.line-chart-tick-x-right{text-anchor:start}.line-chart-grid{shape-rendering:crispedges;stroke:#eee}",""]),e.exports=t},939:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(2),r=n(316),a=n(725),s=n.n(a),o=n(31),l=n(321),c=n(401);n(940);function u(e){const{branchLike:t,component:n,graph:a,label:u,metric:p}=e;return i.createElement(r.Link,{className:"activity-link",to:void 0!==p&&void 0!==a&&Object(c.j)(a)?Object(l.p)(n,p,t):Object(l.a)(n,t,a)},i.createElement(s.a,{className:"little-spacer-right",size:14}),i.createElement("span",null,u||Object(o.translate)("portfolio.activity_link")))}},940:function(e,t,n){var i=n(313),r=n(941);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},s=(i(r,a),r.locals?r.locals:{});e.exports=s},941:function(e,t,n){(t=n(314)(!1)).push([e.i,"a.activity-link{border:none}.activity-link>span{border-bottom:1px solid #cae3f2}",""]),e.exports=t},964:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var i=n(566),r=n.n(i),a=n(2),s=n(317),o=n.n(s),l=n(31),c=n(343),u=n(485),p=n(656),h=n(935),d=n.n(h),m=n(320),f=n(348),v=n(318),_=n.n(v),g=n(311),y=n.n(g),b=n(312),x=n(672),E=n.n(x),w=n(633),O=n.n(w);class k extends a.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.removeMetric&&this.props.removeMetric(this.props.metric)}}render(){const e=null!=this.props.removeMetric,t=g({"activity-graph-legend-actionable":e},this.props.className);return a.createElement("span",{className:t},this.props.showWarning?a.createElement(E.a,{className:"spacer-right"}):a.createElement(O.a,{className:"text-middle spacer-right",index:this.props.index}),a.createElement("span",{className:"text-middle"},this.props.name),e&&a.createElement(b.ClearButton,{className:"button-tiny spacer-left text-middle",iconProps:{size:12},onClick:this.handleClick}))}}var j=n(401);function N(e){const{series:t}=e;return a.createElement("div",{className:"activity-graph-legends display-flex-center"},a.createElement("div",{className:"flex-1"},t.map((t,n)=>{const i=Object(j.h)(t),r=a.createElement(k,{index:n,metric:t.name,name:t.translatedName,removeMetric:e.removeMetric,showWarning:!i});return i?a.createElement("span",{className:"spacer-left spacer-right",key:t.name},r):a.createElement(_.a,{key:t.name,overlay:Object(l.translate)("project_activity.graphs.custom.metric_no_history")},a.createElement("span",{className:"spacer-left spacer-right"},r))})))}function S({series:e}){return a.createElement("div",{className:"activity-graph-legends"},e.map((e,t)=>a.createElement(k,{className:"big-spacer-left big-spacer-right",index:t,key:e.name,metric:e.name,name:e.translatedName})))}var P=n(357),M=n.n(P),L=n(370),T=n(387);function C({name:e,index:t,translatedName:n,value:i}){return a.createElement("tr",{className:"activity-graph-tooltip-line",key:e},a.createElement("td",{className:"thin"},a.createElement(O.a,{className:"spacer-right",index:t})),a.createElement("td",{className:"activity-graph-tooltip-value text-right spacer-right thin"},i),a.createElement("td",null,n))}function D({addSeparator:e,measuresHistory:t,tooltipIdx:n}){const i=t.find(e=>"uncovered_lines"===e.metric),r=t.find(e=>"coverage"===e.metric);if(!(i&&i.history[n]&&r&&r.history[n]))return null;const s=i.history[n].value,o=r.history[n].value;return a.createElement("tbody",null,e&&a.createElement("tr",null,a.createElement("td",{className:"activity-graph-tooltip-separator",colSpan:3},a.createElement("hr",null))),s&&a.createElement("tr",{className:"activity-graph-tooltip-line"},a.createElement("td",{className:"activity-graph-tooltip-value text-right spacer-right thin",colSpan:2},Object(m.formatMeasure)(s,"SHORT_INT")),a.createElement("td",null,Object(l.translate)("metric.uncovered_lines.name"))),o&&a.createElement("tr",{className:"activity-graph-tooltip-line"},a.createElement("td",{className:"activity-graph-tooltip-value text-right spacer-right thin",colSpan:2},Object(m.formatMeasure)(o,"PERCENT")),a.createElement("td",null,Object(l.translate)("metric.coverage.name"))))}function q({addSeparator:e,measuresHistory:t,tooltipIdx:n}){const i=t.find(e=>"duplicated_lines_density"===e.metric);if(!i||!i.history[n])return null;const r=i.history[n].value;return r?a.createElement("tbody",null,e&&a.createElement("tr",null,a.createElement("td",{className:"activity-graph-tooltip-separator",colSpan:3},a.createElement("hr",null))),a.createElement("tr",{className:"activity-graph-tooltip-line"},a.createElement("td",{className:"activity-graph-tooltip-value text-right spacer-right thin",colSpan:2},Object(m.formatMeasure)(r,"PERCENT")),a.createElement("td",null,Object(l.translate)("metric.duplicated_lines_density.name")))):null}var I=n(590),A=n.n(I);function R({addSeparator:e,events:t}){return a.createElement("tbody",null,e&&a.createElement("tr",null,a.createElement("td",{className:"activity-graph-tooltip-separator",colSpan:3},a.createElement("hr",null))),a.createElement("tr",{className:"activity-graph-tooltip-line"},a.createElement("td",{colSpan:3},a.createElement("span",null,Object(l.translate)("events"),":"),t.map(e=>a.createElement("span",{className:"spacer-left",key:e.key},a.createElement(A.a,{className:y()("project-activity-event-icon",e.category)}))))))}var z=n(384),B=n.n(z);const F={bugs:"reliability_rating",vulnerabilities:"security_rating",code_smells:"sqale_rating"};function H(e){const t=e.measuresHistory.find(t=>t.metric===F[e.name]);if(!t||!t.history[e.tooltipIdx])return null;const n=t.history[e.tooltipIdx].value;return a.createElement("tr",{className:"activity-graph-tooltip-issues-line",key:e.name},a.createElement("td",{className:"thin"},a.createElement(O.a,{className:"spacer-right",index:e.index})),a.createElement("td",{className:"text-right spacer-right"},a.createElement("span",{className:"activity-graph-tooltip-value"},e.value),n&&a.createElement(B.a,{className:"spacer-left",small:!0,value:n})),a.createElement("td",null,e.translatedName))}class U extends a.PureComponent{renderContent(){const{tooltipIdx:e}=this.props;return this.props.series.map((t,n)=>{const i=t.data[e];return!i||!i.y&&0!==i.y?null:this.props.graph===j.a?a.createElement(H,{index:n,key:t.name,measuresHistory:this.props.measuresHistory,name:t.name,tooltipIdx:e,translatedName:t.translatedName,value:this.props.formatValue(i.y)}):a.createElement(C,{index:n,key:t.name,name:t.name,translatedName:t.translatedName,value:this.props.formatValue(i.y)})})}render(){const{events:e,measuresHistory:t,tooltipIdx:n}=this.props;let i=this.props.tooltipPos+60,r=L.PopupPlacement.RightTop;i>this.props.graphWidth-250-50&&(i-=250,r=L.PopupPlacement.LeftTop);const s=this.renderContent().filter(T.isDefined),o=s.length>0;return a.createElement(L.Popup,{className:"disabled-pointer-events",placement:r,style:{top:30,left:i,width:250}},a.createElement("div",{className:"activity-graph-tooltip"},a.createElement("div",{className:"activity-graph-tooltip-title spacer-bottom"},a.createElement(M.a,{date:this.props.selectedDate})),a.createElement("table",{className:"width-100"},a.createElement("tbody",null,s),"coverage"===this.props.graph&&a.createElement(D,{addSeparator:o,measuresHistory:t,tooltipIdx:n}),"duplications"===this.props.graph&&a.createElement(q,{addSeparator:o,measuresHistory:t,tooltipIdx:n}),e&&e.length>0&&a.createElement(R,{addSeparator:o,events:e}))))}}class W extends a.PureComponent{constructor(){super(...arguments),this.state={},this.formatValue=e=>Object(m.formatMeasure)(e,Object(f.getShortType)(this.props.metricsType)),this.formatTooltipValue=e=>Object(m.formatMeasure)(e,this.props.metricsType),this.updateTooltip=(e,t,n)=>{this.props.updateTooltip(e),this.setState({tooltipXPos:t,tooltipIdx:n})}}render(){const{events:e,graph:t,graphEndDate:n,graphStartDate:i,isCustom:r,leakPeriodDate:s,measuresHistory:o,metricsType:l,selectedDate:c,series:u,showAreas:h}=this.props,{tooltipIdx:m,tooltipXPos:f}=this.state;return a.createElement("div",{className:"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center"},r&&this.props.removeCustomMetric?a.createElement(N,{removeMetric:this.props.removeCustomMetric,series:u}):a.createElement(S,{series:u}),a.createElement("div",{className:"flex-1"},a.createElement(p.AutoSizer,null,({height:r,width:p})=>a.createElement("div",null,a.createElement(d.a,{displayNewCodeLegend:!0,endDate:n,formatYTick:this.formatValue,height:r,leakPeriodDate:s,metricType:l,selectedDate:c,series:u,showAreas:h,startDate:i,updateSelectedDate:this.props.updateSelectedDate,updateTooltip:this.updateTooltip,updateZoom:this.props.updateGraphZoom,width:p}),void 0!==c&&void 0!==m&&void 0!==f&&a.createElement(U,{events:e,formatValue:this.formatTooltipValue,graph:t,graphWidth:p,measuresHistory:o,selectedDate:c,series:u,tooltipIdx:m,tooltipPos:f})))))}}n(735);class G extends a.PureComponent{constructor(e){super(e),this.getSelectedDateEvents=()=>{const{selectedDate:e}=this.state,{analyses:t}=this.props;if(t&&e){const n=t.find(t=>t.date.valueOf()===e.valueOf());if(n)return n.events}return[]},this.updateTooltip=e=>{this.setState({selectedDate:e})},this.state={selectedDate:e.selectedDate}}componentWillReceiveProps(e){r()(e.selectedDate,this.props.selectedDate)||this.setState({selectedDate:e.selectedDate})}render(){const{graph:e,loading:t,series:n}=this.props,i=Object(j.j)(e);if(t)return a.createElement("div",{className:"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center"},a.createElement("div",{className:"text-center"},a.createElement(o.a,{loading:t})));if(!Object(j.i)(n))return a.createElement("div",{className:"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center"},a.createElement("div",{className:"display-flex-center display-flex-justify-center"},a.createElement("img",{alt:"",className:"spacer-right",height:52,src:"".concat(Object(c.getBaseUrl)(),"/images/activity-chart.svg")}),a.createElement("div",{className:"big-spacer-left big text-muted",style:{maxWidth:300}},Object(l.translate)(i?"project_activity.graphs.custom.no_history":"component_measures.no_history"))));const r=this.getSelectedDateEvents(),s=[u.a.coverage,u.a.duplications].includes(e);return a.createElement("div",{className:"display-flex-justify-center display-flex-column display-flex-stretch flex-grow"},this.props.graphs.map((t,n)=>a.createElement(W,{events:r,graph:e,graphEndDate:this.props.graphEndDate,graphStartDate:this.props.graphStartDate,isCustom:i,key:n,leakPeriodDate:this.props.leakPeriodDate,measuresHistory:this.props.measuresHistory,metricsType:Object(j.g)(t),removeCustomMetric:this.props.removeCustomMetric,selectedDate:this.state.selectedDate,series:t,showAreas:s,updateGraphZoom:this.props.updateGraphZoom,updateSelectedDate:this.props.updateSelectedDate,updateTooltip:this.updateTooltip})))}}},966:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n(311),r=n.n(i),a=n(2),s=n(345),o=n.n(s),l=n(31),c=n(328),u=n.n(c),p=n(506),h=n.n(p),d=n(312),m=n(329),f=n.n(m),v=n(336),_=n.n(v),g=n(348),y=n(322),b=n(487);function x(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E(e){let{elements:t,metricsTypeFilter:n}=e,i=x(e,["elements","metricsTypeFilter"]),r="";return i.selectedElements.length>=6?r=a.createElement(y.Alert,{className:"spacer-left spacer-right spacer-top",variant:"info"},Object(l.translate)("project_activity.graphs.custom.add_metric_info")):n&&n.length>0&&(r=a.createElement(y.Alert,{className:"spacer-left spacer-right spacer-top",variant:"info"},Object(l.translateWithParameters)("project_activity.graphs.custom.type_x_message",n.map(e=>Object(l.translate)("metric.type",e)).sort().join(", ")))),a.createElement("div",{className:"menu abs-width-300"},a.createElement(b.a,{allowNewElements:!1,allowSelection:i.selectedElements.length<6,elements:t,filterSelected:i.filterSelected,footerNode:r,onSearch:i.onSearch,onSelect:e=>t.includes(e)&&i.onSelect(e),onUnselect:i.onUnselect,placeholder:Object(l.translate)("search.search_for_tags"),renderLabel:i.renderLabel,selectedElements:i.selectedElements}))}class w extends a.PureComponent{constructor(){super(...arguments),this.state={metrics:[],query:"",selectedMetrics:[]},this.filterSelected=(e,t)=>t.filter(t=>this.getLocalizedMetricNameFromKey(t).toLowerCase().includes(e.toLowerCase())),this.filterMetricsElements=({metricsTypeFilter:e,metrics:t,selectedMetrics:n},i)=>t.filter(t=>!(t.hidden||Object(g.isDiffMetric)(t.key)||["DATA","DISTRIB"].includes(t.type)||n.includes(t.key)||!Object(l.getLocalizedMetricName)(t).toLowerCase().includes(i.toLowerCase()))&&(!(e&&e.length>0)||e.includes(t.type))).map(e=>e.key),this.getSelectedMetricsElements=(e,t)=>{const n=t||this.props.selectedMetrics;return e.filter(e=>n.includes(e.key)).map(e=>e.key)},this.getLocalizedMetricNameFromKey=e=>{const t=h()(this.props.metrics,{key:e});return void 0===t?e:Object(l.getLocalizedMetricName)(t)},this.onSearch=e=>(this.setState({query:e}),Promise.resolve()),this.onSelect=e=>{this.props.addMetric(e),this.setState(t=>({selectedMetrics:u()([...t.selectedMetrics,e]),metrics:this.filterMetricsElements(this.props,t.query)}))},this.onUnselect=e=>{this.props.removeMetric(e),this.setState(t=>({metrics:u()([...t.metrics,e]),selectedMetrics:t.selectedMetrics.filter(t=>t!==e)}))}}render(){const{query:e}=this.state,t=this.filterMetricsElements(this.props,e),n=this.getSelectedMetricsElements(this.props.metrics,this.props.selectedMetrics);return a.createElement(f.a,{className:"display-inline-block",closeOnClick:!1,closeOnClickOutside:!0,overlay:a.createElement(E,{elements:t,filterSelected:this.filterSelected,metricsTypeFilter:this.props.metricsTypeFilter,onSearch:this.onSearch,onSelect:this.onSelect,onUnselect:this.onUnselect,renderLabel:e=>this.getLocalizedMetricNameFromKey(e),selectedElements:n})},a.createElement(d.Button,{className:"spacer-left"},a.createElement("span",{className:"text-ellipsis text-middle"},Object(l.translate)("project_activity.graphs.custom.add")),a.createElement(_.a,{className:"text-top little-spacer-left"})))}}n(735);var O=n(401);class k extends a.PureComponent{constructor(){super(...arguments),this.handleGraphChange=e=>{e.value!==this.props.graph&&this.props.updateGraph(e.value)}}render(){const{addCustomMetric:e,className:t,graph:n,metrics:i,metricsTypeFilter:s,removeCustomMetric:c,selectedMetrics:u=[]}=this.props,p=Object(O.e)(void 0===e||void 0===c).map(e=>({label:Object(l.translate)("project_activity.graphs",e),value:e}));return a.createElement("div",{className:r()(t,"position-relative")},a.createElement(o.a,{className:"pull-left input-medium",clearable:!1,onChange:this.handleGraphChange,options:p,searchable:!1,value:n}),Object(O.j)(n)&&void 0!==e&&void 0!==c&&a.createElement(w,{addMetric:e,className:"pull-left spacer-left",metrics:i,metricsTypeFilter:s,removeMetric:c,selectedMetrics:u}))}}}}]);
//# sourceMappingURL=273.m.3923d2dc.chunk.js.map