(window.webpackJsonp=window.webpackJsonp||[]).push([[350],{1885:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return k}));var n=i(2),o=i(958),s=i(489),a=i.n(s),r=i(317),l=i.n(r),c=i(459),p=i(1155),h=i(1156),m=(i(1062),i(494));class d extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0,referencedRepositories:{}},this.fetchRuleDetails=()=>{this.setState({loading:!0}),Promise.all([Object(c.e)(this.props.organizationKey),Object(c.c)({key:this.props.ruleKey,organization:this.props.organizationKey})]).then(([{repositories:e},{rule:t}])=>{this.mounted&&(this.setState({loading:!1,referencedRepositories:a()(e,"key"),ruleDetails:t}),this.props.onLoad({name:t.name}))},()=>{this.mounted&&this.setState({loading:!1})})},this.noOp=()=>{}}componentDidMount(){this.mounted=!0,this.fetchRuleDetails()}componentDidUpdate(e){e.ruleKey===this.props.ruleKey&&e.organizationKey===this.props.organizationKey||this.fetchRuleDetails()}componentWillUnmount(){this.mounted=!1}render(){const{organizationKey:e}=this.props,{organizationsEnabled:t}=this.props.appState,i=t?e:void 0;return n.createElement(l.a,{loading:this.state.loading},this.state.ruleDetails&&n.createElement(n.Fragment,null,n.createElement(h.a,{canWrite:!1,hideSimilarRulesFilter:!0,onFilterChange:this.noOp,onTagsChange:this.noOp,organization:i,referencedRepositories:this.state.referencedRepositories,ruleDetails:this.state.ruleDetails}),n.createElement(p.a,{canWrite:!1,onChange:this.noOp,organization:i,ruleDetails:this.state.ruleDetails})))}}var u=Object(m.a)(d),g=i(956);class k extends n.PureComponent{constructor(){super(...arguments),this.state={loading:!0},this.handleClose=()=>{this.props.onClose(this.props.rule.key)},this.handleLoaded=e=>{this.props.onLoad({key:this.props.rule.key,name:e.name}),setTimeout(()=>{this.setState({loading:!1})},1e3)}}componentDidUpdate(e){e.rule.key!==this.props.rule.key&&this.setState({loading:!0})}render(){const{rule:e}=this.props,{loading:t}=this.state;return n.createElement("div",{className:"workspace-viewer"},n.createElement(o.a,{maximized:this.props.maximized,onClose:this.handleClose,onCollapse:this.props.onCollapse,onMaximize:this.props.onMaximize,onMinimize:this.props.onMinimize,onResize:this.props.onResize},n.createElement(g.a,{rule:e})),n.createElement("div",{"aria-busy":t,"aria-live":"polite",className:"workspace-viewer-container",style:{height:this.props.height}},n.createElement(u,{onLoad:this.handleLoaded,organizationKey:e.organization,ruleKey:e.key})))}}},956:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(2),o=i(957),s=i.n(o),a=i(342);function r({limited:e,rule:t}){const{name:i="â€”"}=t;return n.createElement(n.Fragment,null,n.createElement(s.a,{className:"little-spacer-right",fill:a.colors.blue}),e?n.createElement("span",{className:"text-limited"},i):i)}},958:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i(2),o=i(741),s=i(312),a=i(646),r=i.n(a),l=i(959),c=i.n(l),p=i(960),h=i.n(p),m=i(961),d=i.n(m),u=i(31);class g extends n.PureComponent{constructor(){super(...arguments),this.handleDrag=(e,t)=>{this.props.onResize(t.deltaY)}}render(){return n.createElement("header",{className:"workspace-viewer-header"},n.createElement("h6",{className:"workspace-viewer-name"},this.props.children),n.createElement(o.DraggableCore,{offsetParent:document.body,onDrag:this.handleDrag},n.createElement("div",{className:"workspace-viewer-resize js-resize"})),n.createElement("div",{className:"workspace-viewer-actions"},n.createElement(k,{icon:d.a,onClick:this.props.onCollapse,tooltip:"workspace.minimize"}),this.props.maximized?n.createElement(k,{icon:c.a,onClick:this.props.onMinimize,tooltip:"workspace.normal_size"}):n.createElement(k,{icon:h.a,onClick:this.props.onMaximize,tooltip:"workspace.full_window"}),n.createElement(k,{icon:r.a,onClick:this.props.onClose,tooltip:"workspace.close"})))}}function k({icon:e,onClick:t,tooltip:i}){return n.createElement(s.ButtonIcon,{className:"workspace-header-icon",color:"#fff",onClick:t,tooltip:Object(u.translate)(i)},n.createElement(e,{fill:void 0}))}}}]);
//# sourceMappingURL=350.m.fb318ec9.chunk.js.map