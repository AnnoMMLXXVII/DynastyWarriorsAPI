(window.webpackJsonp=window.webpackJsonp||[]).push([[302],{1040:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(660),r=n(13),a=n(667),i=n.n(a),s=n(176);function l(e){var t=e.className,n=e.qualifier,a=e.visibility;return"private"!==a?null:r.createElement(i.a,{overlay:Object(s.translate)("visibility",a,"description",n)},r.createElement("div",{className:o("badge",t)},Object(s.translate)("visibility",a)))}},1291:function(e,t,n){"use strict";var o,r=n(660),a=n(13),i=n(765),s=n.n(i),l=n(176),c=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this;return a.createElement("div",{className:r(this.props.className)},["public","private"].map((function(t){return a.createElement(s.a,{className:"huge-spacer-right visibility-"+t,key:t,value:t,checked:e.props.visibility===t,onCheck:e.props.onChange,disabled:"private"===t&&!e.props.canTurnToPrivate},a.createElement("div",null,Object(l.translate)("visibility",t),e.props.showDetails&&a.createElement("p",{className:"note"},Object(l.translate)("visibility",t,"description.long"))))})))},t}(a.PureComponent);t.a=p},1292:function(e,t,n){"use strict";var o,r=n(13),a=n(661),i=n(693),s=n.n(i),l=n(682),c=n.n(l),p=n(672),u=n(666),m=n.n(u),d=n(176),h=n(857),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={done:!1,loading:!0},t.fetchPermissionTemplates=function(){Object(h.l)(t.props.organization).then((function(e){var n=e.permissionTemplates;t.mounted&&t.setState({loading:!1,permissionTemplates:n})}),(function(){t.mounted&&t.setState({loading:!1})}))},t.handleSubmit=function(){return t.state.permissionTemplate?Object(h.b)({organization:t.props.organization,projectKey:t.props.project.key,templateId:t.state.permissionTemplate}).then((function(){t.mounted&&(t.props.onApply&&t.props.onApply(),t.setState({done:!0}))})):Promise.reject(void 0)},t.handlePermissionTemplateChange=function(e){var n=e.value;t.setState({permissionTemplate:n})},t}return f(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchPermissionTemplates()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this,t=Object(d.translateWithParameters)("projects_role.apply_template_to_xxx",this.props.project.name);return r.createElement(c.a,{header:t,onClose:this.props.onClose,onSubmit:this.handleSubmit,size:"small"},(function(n){var o=n.onCloseClick,i=n.onFormSubmit,l=n.submitting;return r.createElement("form",{id:"project-permissions-apply-template-form",onSubmit:i},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,t)),r.createElement("div",{className:"modal-body"},e.state.done?r.createElement(p.Alert,{variant:"success"},Object(d.translate)("projects_role.apply_template.success")):r.createElement(r.Fragment,null,e.state.loading?r.createElement("i",{className:"spinner"}):r.createElement("div",{className:"modal-field"},r.createElement("label",{htmlFor:"project-permissions-template"},Object(d.translate)("template"),r.createElement("em",{className:"mandatory"},"*")),e.state.permissionTemplates&&r.createElement(s.a,{clearable:!1,id:"project-permissions-template",onChange:e.handlePermissionTemplateChange,options:e.state.permissionTemplates.map((function(e){return{label:e.name,value:e.id}})),value:e.state.permissionTemplate})))),r.createElement("footer",{className:"modal-foot"},r.createElement(m.a,{className:"spacer-right",loading:l}),!e.state.done&&r.createElement(a.SubmitButton,{disabled:l||!e.state.permissionTemplate},Object(d.translate)("apply")),r.createElement(a.ResetButtonLink,{onClick:o},Object(d.translate)(e.state.done?"close":"cancel"))))}))},t}(r.PureComponent);t.a=y},2093:function(e,t,n){"use strict";(function(e){var o,r=n(13),a=n(668),i=n(665),s=n(661),l=n(679),c=n.n(l),p=n(672),u=n(176),m=n(713),d=n(1291),h=n(670),f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(t){function n(e){var n=t.call(this,e)||this;return n.mounted=!1,n.handleInputChange=function(e){var t,o=e.currentTarget,r=o.name,a=o.value;n.setState(((t={})[r]=a,t))},n.handleVisibilityChange=function(e){n.setState({visibility:e})},n.handleFormSubmit=function(e){e.preventDefault();var t={name:n.state.name,organization:n.props.organization&&n.props.organization.key,project:n.state.key,visibility:n.state.visibility};n.setState({loading:!0}),Object(m.c)(t).then((function(e){n.mounted&&(n.setState({createdProject:e.project,loading:!1}),n.props.onProjectCreated())}),(function(){n.mounted&&n.setState({loading:!1})}))},n.state={key:"",loading:!1,name:"",visibility:e.organization.projectVisibility},n}return f(n,t),n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentDidUpdate=function(){var t=this;e((function(){t.closeButton&&t.closeButton.focus()}))},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.render=function(){var e=this,t=this.props.organization,n=this.state.createdProject;return r.createElement(c.a,{contentLabel:"modal form",onRequestClose:this.props.onClose},n?r.createElement("div",null,r.createElement("header",{className:"modal-head"},r.createElement("h2",null,Object(u.translate)("qualifiers.create.TRK"))),r.createElement("div",{className:"modal-body"},r.createElement(p.Alert,{variant:"success"},r.createElement(a.FormattedMessage,{defaultMessage:Object(u.translate)("projects_management.project_has_been_successfully_created"),id:"projects_management.project_has_been_successfully_created",values:{project:r.createElement(i.Link,{to:Object(h.u)(n.key)},n.name)}}))),r.createElement("footer",{className:"modal-foot"},r.createElement(s.ResetButtonLink,{id:"create-project-close",innerRef:function(t){return e.closeButton=t},onClick:this.props.onClose},Object(u.translate)("close")))):r.createElement("form",{id:"create-project-form",onSubmit:this.handleFormSubmit},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,Object(u.translate)("qualifiers.create.TRK"))),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"modal-field"},r.createElement("label",{htmlFor:"create-project-name"},Object(u.translate)("name"),r.createElement("em",{className:"mandatory"},"*")),r.createElement("input",{autoFocus:!0,id:"create-project-name",maxLength:2e3,name:"name",onChange:this.handleInputChange,required:!0,type:"text",value:this.state.name})),r.createElement("div",{className:"modal-field"},r.createElement("label",{htmlFor:"create-project-key"},Object(u.translate)("key"),r.createElement("em",{className:"mandatory"},"*")),r.createElement("input",{id:"create-project-key",maxLength:400,name:"key",onChange:this.handleInputChange,required:!0,type:"text",value:this.state.key})),r.createElement("div",{className:"modal-field"},r.createElement("label",null,Object(u.translate)("visibility")),r.createElement(d.a,{canTurnToPrivate:t.canUpdateProjectsVisibilityToPrivate,className:"little-spacer-top",onChange:this.handleVisibilityChange,visibility:this.state.visibility}))),r.createElement("footer",{className:"modal-foot"},this.state.loading&&r.createElement("i",{className:"spinner spacer-right"}),r.createElement(s.SubmitButton,{disabled:this.state.loading,id:"create-project-submit"},Object(u.translate)("create")),r.createElement(s.ResetButtonLink,{id:"create-project-cancel",onClick:this.props.onClose},Object(u.translate)("cancel")))))},n}(r.PureComponent);t.a=y}).call(this,n(2094).setImmediate)},2096:function(e,t,n){var o=n(662),r=n(2097);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},i=(o(r,a),r.locals?r.locals:{});e.exports=i},2097:function(e,t,n){(t=n(663)(!1)).push([e.i,".project-row-text-cell{max-width:20em}",""]),e.exports=t},2202:function(e,t,n){"use strict";n.r(t);var o,r=n(13),a=n(671),i=n(857),s=n(1028),l=n(817),c=n(674),p=n(718),u=n.n(p),m=n(760),d=n.n(m),h=n(722),f=n.n(h),y=n(681),g=n(696),b=n.n(g),v=n(129),j=n(176),_=n(713),O=n(684),E=n(2093),C=n(661),k=n(38),P=n(679),S=n.n(P),N=n(765),D=n.n(N),w=n(672),z=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),q=function(e){function t(t){var n=e.call(this,t)||this;return n.handleConfirmClick=function(){n.props.onConfirm(n.state.visibility),n.props.onClose()},n.handleVisibilityChange=function(e){n.setState({visibility:e})},n.state={visibility:t.organization.projectVisibility},n}return z(t,e),t.prototype.render=function(){var e=this,t=this.props.organization;return r.createElement(S.a,{contentLabel:"modal form",onRequestClose:this.props.onClose},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,Object(j.translate)("organization.change_visibility_form.header"))),r.createElement("div",{className:"modal-body"},["public","private"].map((function(n){return r.createElement("div",{className:"big-spacer-bottom",key:n},r.createElement(D.a,{value:n,checked:e.state.visibility===n,onCheck:e.handleVisibilityChange,disabled:"private"===n&&!t.canUpdateProjectsVisibilityToPrivate},r.createElement("div",null,Object(j.translate)("visibility",n),r.createElement("p",{className:"text-muted spacer-top"},Object(j.translate)("visibility",n,"description.short")))))})),t.canUpdateProjectsVisibilityToPrivate&&r.createElement(w.Alert,{variant:"warning"},Object(j.translate)("organization.change_visibility_form.warning"))),r.createElement("footer",{className:"modal-foot"},r.createElement(C.Button,{className:"js-confirm",onClick:this.handleConfirmClick},Object(j.translate)("organization.change_visibility_form.submit")),r.createElement(C.ResetButtonLink,{className:"js-modal-close",onClick:this.props.onClose},Object(j.translate)("cancel"))))},t}(r.PureComponent),x=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={visibilityForm:!1},t.handleChangeVisibilityClick=function(){t.setState({visibilityForm:!0})},t.closeVisiblityForm=function(){t.setState({visibilityForm:!1})},t}return x(t,e),t.prototype.render=function(){var e=this.props.organization;return r.createElement("header",{className:"page-header"},r.createElement("h1",{className:"page-title"},Object(j.translate)("projects_management")),r.createElement("div",{className:"page-actions"},!Object(k.isSonarCloud)()&&e.projectVisibility&&r.createElement("span",{className:"big-spacer-right"},r.createElement("span",{className:"text-middle"},Object(j.translate)("organization.default_visibility_of_new_projects")," ",r.createElement("strong",null,Object(j.translate)("visibility",e.projectVisibility))),r.createElement(C.EditButton,{className:"js-change-visibility spacer-left button-small",onClick:this.handleChangeVisibilityClick})),this.props.hasProvisionPermission&&r.createElement(C.Button,{id:"create-project",onClick:this.props.onProjectCreate},Object(j.translate)("qualifiers.create.TRK"))),r.createElement("p",{className:"page-description"},Object(j.translate)("projects_management.page.description")),!Object(k.isSonarCloud)()&&this.state.visibilityForm&&r.createElement(q,{onClose:this.closeVisiblityForm,onConfirm:this.props.onVisibilityChange,organization:e}))},t}(r.PureComponent),M=n(660),T=n(665),B=n(694),F=n.n(B),R=n(667),V=n.n(R),U=n(692),W=n.n(U),I=n(699),L=n.n(I),Q=n(1040),J=n(670),K=(n(2096),n(732)),Y=n.n(K),H=n(666),G=n.n(H),X=n(899),Z=n(1292),$=n(668),ee=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!1},t.handleFormSubmit=function(e){e.preventDefault(),t.setState({loading:!0}),Promise.all([t.grantPermission("user"),t.grantPermission("admin")]).then(t.props.onRestoreAccess,(function(){t.mounted&&t.setState({loading:!1})}))},t.grantPermission=function(e){return Object(i.p)({projectKey:t.props.project.key,login:t.props.currentUser.login,permission:e,organization:t.props.project.organization})},t}return ee(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=Object(j.translate)("global_permissions.restore_access");return r.createElement(S.a,{contentLabel:e,onRequestClose:this.props.onClose},r.createElement("form",{onSubmit:this.handleFormSubmit},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,e)),r.createElement("div",{className:"modal-body"},r.createElement($.FormattedMessage,{defaultMessage:Object(j.translate)("global_permissions.restore_access.message"),id:"global_permissions.restore_access.message",values:{browse:r.createElement("strong",null,Object(j.translate)("projects_role.user")),administer:r.createElement("strong",null,Object(j.translate)("projects_role.admin"))}})),r.createElement("footer",{className:"modal-foot"},this.state.loading&&r.createElement("i",{className:"spinner spacer-right"}),r.createElement(C.SubmitButton,{disabled:this.state.loading},Object(j.translate)("restore")),r.createElement(C.ResetButtonLink,{onClick:this.props.onClose},Object(j.translate)("cancel")))))},t}(r.PureComponent),ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={applyTemplateModal:!1,loading:!1,restoreAccessModal:!1},t.fetchPermissions=function(){t.setState({loading:!0}),Object(X.a)({component:t.props.project.key}).then((function(e){var n=e.configuration;if(t.mounted){var o=Boolean(n&&n.showPermissions&&n.canBrowseProject);t.setState({hasAccess:o,loading:!1})}}),(function(){t.mounted&&t.setState({loading:!1})}))},t.handleDropdownOpen=function(){void 0!==t.state.hasAccess||t.state.loading||t.fetchPermissions()},t.handleApplyTemplateClick=function(){t.setState({applyTemplateModal:!0})},t.handleApplyTemplateClose=function(){t.mounted&&t.setState({applyTemplateModal:!1})},t.handleRestoreAccessClick=function(){t.setState({restoreAccessModal:!0})},t.handleRestoreAccessClose=function(){return t.setState({restoreAccessModal:!1})},t.handleRestoreAccessDone=function(){t.setState({hasAccess:!0,restoreAccessModal:!1})},t}return ne(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.hasAccess,n=e.loading;return r.createElement(r.Fragment,null,r.createElement(Y.a,{onOpen:this.handleDropdownOpen},n?r.createElement(K.ActionsDropdownItem,null,r.createElement(G.a,null)):r.createElement(r.Fragment,null,!0===t&&r.createElement(K.ActionsDropdownItem,{className:"js-edit-permissions",to:Object(J.j)(this.props.project.key)},Object(j.translate)("edit_permissions")),!1===t&&r.createElement(K.ActionsDropdownItem,{className:"js-restore-access",onClick:this.handleRestoreAccessClick},Object(j.translate)("global_permissions.restore_access"))),r.createElement(K.ActionsDropdownItem,{className:"js-apply-template",onClick:this.handleApplyTemplateClick},Object(j.translate)("projects_role.apply_template"))),this.state.restoreAccessModal&&r.createElement(te,{currentUser:this.props.currentUser,onClose:this.handleRestoreAccessClose,onRestoreAccess:this.handleRestoreAccessDone,project:this.props.project}),this.state.applyTemplateModal&&r.createElement(Z.a,{onClose:this.handleApplyTemplateClose,organization:this.props.organization,project:this.props.project}))},t}(r.PureComponent),re=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleProjectCheck=function(e){t.props.onProjectCheck(t.props.project,e)},t}return re(t,e),t.prototype.render=function(){var e=this.props,t=e.organization,n=e.project,o=e.selected;return r.createElement("tr",{"data-project-key":n.key},r.createElement("td",{className:"thin"},r.createElement(F.a,{checked:o,onCheck:this.handleProjectCheck})),r.createElement("td",{className:"nowrap hide-overflow project-row-text-cell"},r.createElement(T.Link,{className:"link-with-icon",to:Object(J.i)(n.key,n.qualifier)},r.createElement(W.a,{className:"little-spacer-right",qualifier:n.qualifier}),r.createElement(V.a,{overlay:n.name,placement:"left"},r.createElement("span",null,n.name)))),r.createElement("td",{className:"thin nowrap"},r.createElement(Q.a,{qualifier:n.qualifier,visibility:n.visibility})),r.createElement("td",{className:"nowrap hide-overflow project-row-text-cell"},r.createElement(V.a,{overlay:n.key,placement:"left"},r.createElement("span",{className:"note"},n.key))),r.createElement("td",{className:"thin nowrap text-right"},n.lastAnalysisDate?r.createElement(L.a,{date:n.lastAnalysisDate}):r.createElement("span",{className:"note"},"â€”")),r.createElement("td",{className:"thin nowrap"},r.createElement(oe,{currentUser:this.props.currentUser,organization:t,project:n})))},t}(r.PureComponent),ie=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onProjectCheck=function(e,n){n?t.props.onProjectSelected(e.key):t.props.onProjectDeselected(e.key)},t}return ie(t,e),t.prototype.render=function(){var e=this;return r.createElement("div",{className:"boxed-group boxed-group-inner"},r.createElement("table",{className:M("data","zebra",{"new-loading":!this.props.ready}),id:"projects-management-page-projects"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null),r.createElement("th",null,Object(j.translate)("name")),r.createElement("th",null),r.createElement("th",null,Object(j.translate)("key")),r.createElement("th",{className:"thin nowrap text-right"},Object(j.translate)("last_analysis")),r.createElement("th",null))),r.createElement("tbody",null,this.props.projects.map((function(t){return r.createElement(ae,{currentUser:e.props.currentUser,key:t.key,onProjectCheck:e.onProjectCheck,organization:e.props.organization&&e.props.organization.key,project:t,selected:e.props.selection.includes(t.key)})})))))},t}(r.PureComponent),le=n(678),ce=n.n(le),pe=n(673),ue=n.n(pe),me=n(701),de=n.n(me),he=n(693),fe=n.n(he),ye=n(867),ge=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={done:!1,loading:!0,submitting:!1},t.handleConfirmClick=function(){var e=t.props.analyzedBefore,n=t.state.permissionTemplate;if(n){t.setState({submitting:!0});var o=t.props.selection.length?{organization:t.props.organization,projects:t.props.selection.join(),qualifiers:t.props.qualifier,templateId:n}:{analyzedBefore:e&&Object(v.toNotSoISOString)(e),onProvisionedOnly:t.props.provisioned||void 0,organization:t.props.organization,qualifiers:t.props.qualifier,q:t.props.query||void 0,templateId:n};Object(i.c)(o).then((function(){t.mounted&&t.setState({done:!0,submitting:!1})}),(function(){t.mounted&&t.setState({submitting:!1})}))}},t.handlePermissionTemplateChange=function(e){var n=e.value;t.setState({permissionTemplate:n})},t.renderWarning=function(){return r.createElement(w.Alert,{variant:"warning"},t.props.selection.length?Object(j.translateWithParameters)("permission_templates.bulk_apply_permission_template.apply_to_selected",t.props.selection.length):Object(j.translateWithParameters)("permission_templates.bulk_apply_permission_template.apply_to_all",t.props.total))},t.renderSelect=function(){return r.createElement("div",{className:"modal-field"},r.createElement("label",null,Object(j.translate)("template"),r.createElement("em",{className:"mandatory"},"*")),r.createElement(fe.a,{clearable:!1,disabled:t.state.submitting,onChange:t.handlePermissionTemplateChange,options:t.state.permissionTemplates.map((function(e){return{label:e.name,value:e.id}})),value:t.state.permissionTemplate}))},t}return ge(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadPermissionTemplates()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadPermissionTemplates=function(){var e=this;this.setState({loading:!0}),Object(i.l)(this.props.organization).then((function(t){var n=t.permissionTemplates;e.mounted&&e.setState({loading:!1,permissionTemplate:n.length>0?n[0].id:void 0,permissionTemplates:n})}),(function(){e.mounted&&e.setState({loading:!1})}))},t.prototype.render=function(){var e=this.state,t=e.done,n=e.loading,o=e.permissionTemplates,a=e.submitting,i=Object(j.translate)("permission_templates.bulk_apply_permission_template");return r.createElement(S.a,{contentLabel:i,onRequestClose:this.props.onClose,size:"small"},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,i)),r.createElement("div",{className:"modal-body"},t&&r.createElement(w.Alert,{variant:"success"},Object(j.translate)("projects_role.apply_template.success")),n&&r.createElement("i",{className:"spinner"}),!n&&!t&&o&&this.renderWarning(),!n&&!t&&o&&this.renderSelect()),r.createElement("footer",{className:"modal-foot"},a&&r.createElement("i",{className:"spinner spacer-right"}),!n&&!t&&o&&r.createElement(C.SubmitButton,{disabled:a,onClick:this.handleConfirmClick},Object(j.translate)("apply")),r.createElement(C.ResetButtonLink,{onClick:this.props.onClose},t?Object(j.translate)("close"):Object(j.translate)("cancel"))))},t}(r.PureComponent),ve=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!1},t.handleConfirmClick=function(){t.setState({loading:!0});var e=t.props.analyzedBefore,n=t.props.selection.length?{organization:t.props.organization,projects:t.props.selection.join()}:{analyzedBefore:e&&Object(v.toNotSoISOString)(e),onProvisionedOnly:t.props.provisioned||void 0,organization:t.props.organization,qualifiers:t.props.qualifier,q:t.props.query||void 0};Object(_.a)(n).then((function(){t.mounted&&t.props.onConfirm()}),(function(){t.mounted&&t.setState({loading:!1})}))},t.renderWarning=function(){return r.createElement(w.Alert,{variant:"warning"},t.props.selection.length?Object(j.translateWithParameters)("projects_management.delete_selected_warning",t.props.selection.length):Object(j.translateWithParameters)("projects_management.delete_all_warning",t.props.total))},t}return ve(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=Object(j.translate)("qualifiers.delete",this.props.qualifier);return r.createElement(S.a,{contentLabel:e,onRequestClose:this.props.onClose},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,e)),r.createElement("div",{className:"modal-body"},this.renderWarning(),Object(j.translate)("qualifiers.delete_confirm",this.props.qualifier)),r.createElement("footer",{className:"modal-foot"},this.state.loading&&r.createElement("i",{className:"spinner spacer-right"}),r.createElement(C.SubmitButton,{className:"button-red",disabled:this.state.loading,onClick:this.handleConfirmClick},Object(j.translate)("delete")),r.createElement(C.ResetButtonLink,{onClick:this.props.onClose},Object(j.translate)("cancel"))))},t}(r.PureComponent),_e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Oe=["TRK","VW","APP"],Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={bulkApplyTemplateModal:!1,deleteModal:!1},t.getQualifierOptions=function(){var e=t.props.topLevelQualifiers.map((function(e){return{label:Object(j.translate)("qualifiers",e),value:e}}));return ce()(e,(function(e){return Oe.indexOf(e.value)}))},t.onCheck=function(e){e?t.props.onAllSelected():t.props.onAllDeselected()},t.handleDeleteClick=function(){t.setState({deleteModal:!0})},t.closeDeleteModal=function(){t.setState({deleteModal:!1})},t.handleDeleteConfirm=function(){t.closeDeleteModal(),t.props.onDeleteProjects()},t.handleBulkApplyTemplateClick=function(){t.setState({bulkApplyTemplateModal:!0})},t.closeBulkApplyTemplateModal=function(){t.setState({bulkApplyTemplateModal:!1})},t.handleQualifierChange=function(e){var n=e.value;return t.props.onQualifierChanged(n)},t.handleVisibilityChange=function(e){var n=e.value;return t.props.onVisibilityChanged(n)},t.renderCheckbox=function(){var e=t.props.projects.length>0&&t.props.selection.length===t.props.projects.length,n=t.props.projects.length>0&&t.props.selection.length>0&&t.props.selection.length<t.props.projects.length,o=e||n;return r.createElement(F.a,{checked:o,id:"projects-selection",onCheck:t.onCheck,thirdState:n})},t.renderQualifierOption=function(e){return r.createElement("span",null,r.createElement(W.a,{className:"little-spacer-right",qualifier:e.value}),e.label)},t.renderQualifierFilter=function(){return t.getQualifierOptions().length<2?null:r.createElement("td",{className:"thin nowrap text-middle"},r.createElement(fe.a,{className:"input-medium",clearable:!1,disabled:!t.props.ready,name:"projects-qualifier",onChange:t.handleQualifierChange,optionRenderer:t.renderQualifierOption,options:t.getQualifierOptions(),searchable:!1,value:t.props.qualifiers,valueRenderer:t.renderQualifierOption}))},t.renderVisibilityFilter=function(){return r.createElement("td",{className:"thin nowrap text-middle"},r.createElement(fe.a,{className:"input-small",clearable:!1,disabled:!t.props.ready,name:"projects-visibility",onChange:t.handleVisibilityChange,options:[{value:"all",label:Object(j.translate)("visibility.both")},{value:"public",label:Object(j.translate)("visibility.public")},{value:"private",label:Object(j.translate)("visibility.private")}],searchable:!1,value:t.props.visibility||"all"}))},t.renderTypeFilter=function(){return"TRK"===t.props.qualifiers?r.createElement("td",{className:"thin nowrap text-middle"},r.createElement(F.a,{checked:t.props.provisioned,className:"link-checkbox-control",id:"projects-provisioned",onCheck:t.props.onProvisionedChanged},r.createElement("span",{className:"text-middle little-spacer-left"},Object(j.translate)("provisioning.only_provisioned"))),r.createElement(ue.a,{className:"spacer-left",overlay:Object(j.translate)("provisioning.only_provisioned.tooltip")})):null},t.renderDateFilter=function(){return r.createElement("td",{className:"thin nowrap text-middle"},r.createElement(ye.a,{inputClassName:"input-medium",name:"analyzed-before",onChange:t.props.onDateChanged,placeholder:Object(j.translate)("last_analysis_before"),value:t.props.analyzedBefore}))},t}return _e(t,e),t.prototype.render=function(){return r.createElement("div",{className:"big-spacer-bottom"},r.createElement("table",{className:"data"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:"thin text-middle"},this.props.ready?this.renderCheckbox():r.createElement("i",{className:"spinner"})),this.renderQualifierFilter(),this.renderDateFilter(),this.renderVisibilityFilter(),this.renderTypeFilter(),r.createElement("td",{className:"text-middle"},r.createElement(de.a,{minLength:3,onChange:this.props.onSearch,placeholder:Object(j.translate)("search.search_by_name_or_key"),value:this.props.query})),r.createElement("td",{className:"thin nowrap text-middle"},r.createElement(C.Button,{className:"js-bulk-apply-permission-template",disabled:0===this.props.selection.length,onClick:this.handleBulkApplyTemplateClick},Object(j.translate)("permission_templates.bulk_apply_permission_template")),"TRK"===this.props.qualifiers&&r.createElement(C.Button,{className:"js-delete spacer-left button-red",disabled:0===this.props.selection.length,onClick:this.handleDeleteClick,title:0===this.props.selection.length?Object(j.translate)("permission_templates.select_to_delete"):Object(j.translate)("permission_templates.delete_selected")},Object(j.translate)("delete")))))),this.state.bulkApplyTemplateModal&&r.createElement(be,{analyzedBefore:this.props.analyzedBefore,onClose:this.closeBulkApplyTemplateModal,organization:this.props.organization.key,provisioned:this.props.provisioned,qualifier:this.props.qualifiers,query:this.props.query,selection:this.props.selection,total:this.props.total}),this.state.deleteModal&&r.createElement(je,{analyzedBefore:this.props.analyzedBefore,onClose:this.closeDeleteModal,onConfirm:this.handleDeleteConfirm,organization:this.props.organization.key,provisioned:this.props.provisioned,qualifier:this.props.qualifiers,query:this.props.query,selection:this.props.selection,total:this.props.total}))},t}(r.PureComponent),Ce=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ke=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,r++)o[r]=a[i];return o},Pe=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.requestProjects=function(){var e=n.state.analyzedBefore,t={analyzedBefore:e&&Object(v.toShortNotSoISOString)(e),onProvisionedOnly:n.state.provisioned||void 0,organization:n.props.organization.key,p:1!==n.state.page?n.state.page:void 0,ps:50,q:n.state.query||void 0,qualifiers:n.state.qualifiers,visibility:n.state.visibility};Object(_.o)(t).then((function(e){if(n.mounted){var t=e.components;n.state.page>1&&(t=ke(n.state.projects,t)),n.setState({ready:!0,projects:t,selection:[],total:e.paging.total})}}),(function(){}))},n.loadMore=function(){n.setState((function(e){return{ready:!1,page:e.page+1}}),n.requestProjects)},n.onSearch=function(e){n.setState({ready:!1,page:1,query:e,selection:[]},n.requestProjects)},n.onProvisionedChanged=function(e){n.setState({ready:!1,page:1,query:"",provisioned:e,qualifiers:"TRK",selection:[]},n.requestProjects)},n.onQualifierChanged=function(e){n.setState({ready:!1,page:1,provisioned:!1,query:"",qualifiers:e,selection:[]},n.requestProjects)},n.onVisibilityChanged=function(e){n.setState({ready:!1,page:1,provisioned:!1,query:"",visibility:"all"===e?void 0:e,selection:[]},n.requestProjects)},n.handleDateChanged=function(e){return n.setState({ready:!1,page:1,analyzedBefore:e},n.requestProjects)},n.onProjectSelected=function(e){n.setState((function(t){var n=t.selection;return{selection:d()(ke(n,[e]))}}))},n.onProjectDeselected=function(e){n.setState((function(t){var n=t.selection;return{selection:u()(n,e)}}))},n.onAllSelected=function(){n.setState((function(e){return{selection:e.projects.map((function(e){return e.key}))}}))},n.onAllDeselected=function(){n.setState({selection:[]})},n.openCreateProjectForm=function(){n.setState({createProjectForm:!0})},n.closeCreateProjectForm=function(){n.setState({createProjectForm:!1})},n.state={createProjectForm:!1,ready:!1,projects:[],provisioned:!1,total:0,page:1,query:"",qualifiers:"TRK",selection:[]},n.requestProjects=f()(n.requestProjects,250),n}return Ce(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.requestProjects()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return r.createElement("div",{className:"page page-limited",id:"projects-management-page"},r.createElement(O.a,{suggestions:"projects_management"}),r.createElement(y.a,{defer:!1,title:Object(j.translate)("projects_management")}),r.createElement(A,{hasProvisionPermission:this.props.hasProvisionPermission,onProjectCreate:this.openCreateProjectForm,onVisibilityChange:this.props.onVisibilityChange,organization:this.props.organization}),r.createElement(Ee,{analyzedBefore:this.state.analyzedBefore,onAllDeselected:this.onAllDeselected,onAllSelected:this.onAllSelected,onDateChanged:this.handleDateChanged,onDeleteProjects:this.requestProjects,onProvisionedChanged:this.onProvisionedChanged,onQualifierChanged:this.onQualifierChanged,onSearch:this.onSearch,onVisibilityChanged:this.onVisibilityChanged,organization:this.props.organization,projects:this.state.projects,provisioned:this.state.provisioned,qualifiers:this.state.qualifiers,query:this.state.query,ready:this.state.ready,selection:this.state.selection,topLevelQualifiers:this.props.topLevelQualifiers,total:this.state.total,visibility:this.state.visibility}),r.createElement(se,{currentUser:this.props.currentUser,onProjectDeselected:this.onProjectDeselected,onProjectSelected:this.onProjectSelected,organization:this.props.organization,projects:this.state.projects,ready:this.state.ready,selection:this.state.selection}),r.createElement(b.a,{count:this.state.projects.length,loadMore:this.loadMore,ready:this.state.ready,total:this.state.total}),this.state.createProjectForm&&r.createElement(E.a,{onClose:this.closeCreateProjectForm,onOrganizationUpgrade:this.props.onOrganizationUpgrade,onProjectCreated:this.requestProjects,organization:this.props.organization}))},t}(r.PureComponent),Se=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ne=function(){return(Ne=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOrganizationUpgrade=function(){t.props.fetchOrganization(t.props.organization.key)},t.handleVisibilityChange=function(e){t.props.organization&&t.props.onVisibilityChange(t.props.organization,e)},t}return Se(t,e),t.prototype.componentDidMount=function(){this.props.organization&&this.props.organization.projectVisibility||this.props.fetchOrganization(this.props.appState.defaultOrganization)},t.prototype.render=function(){var e=this.props.organization;if(!e)return null;var t=e.isDefault?this.props.appState.qualifiers:["TRK"],n=e.actions,o=void 0===n?{}:n;return r.createElement(Pe,{currentUser:this.props.currentUser,hasProvisionPermission:o.provision,onOrganizationUpgrade:this.handleOrganizationUpgrade,onVisibilityChange:this.handleVisibilityChange,organization:e,topLevelQualifiers:t})},t}(r.PureComponent);t.default=Object(a.connect)((function(e,t){return{appState:Object(c.getAppState)(e),currentUser:Object(c.getCurrentUser)(e),organization:t.organization||Object(c.getOrganizationByKey)(e,Object(c.getAppState)(e).defaultOrganization)}}),(function(e){return{fetchOrganization:function(t){return e(Object(l.f)(t))},onVisibilityChange:function(t,n){return e(function(e,t){return function(n){var o=e.projectVisibility;n(Object(s.e)([Ne(Ne({},e),{projectVisibility:t})])),Object(i.d)(e.key,t).catch((function(){n(Object(s.e)([Ne(Ne({},e),{projectVisibility:o})]))}))}}(t,n))}}}))(De)},684:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o,r=n(13),a=n(716),i=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function s(e){var t=e.suggestions;return r.createElement(a.a.Consumer,null,(function(e){var n=e.addSuggestions,o=e.removeSuggestions;return r.createElement(l,{addSuggestions:n,removeSuggestions:o,suggestions:t})}))}var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentDidMount=function(){this.props.addSuggestions(this.props.suggestions)},t.prototype.componentDidUpdate=function(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))},t.prototype.componentWillUnmount=function(){this.props.removeSuggestions(this.props.suggestions)},t.prototype.render=function(){return null},t}(r.PureComponent)},857:function(e,t,n){"use strict";n.d(t,"p",(function(){return a})),n.d(t,"u",(function(){return i})),n.d(t,"o",(function(){return s})),n.d(t,"t",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"f",(function(){return p})),n.d(t,"y",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"x",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"r",(function(){return y})),n.d(t,"w",(function(){return g})),n.d(t,"q",(function(){return b})),n.d(t,"v",(function(){return v})),n.d(t,"a",(function(){return j})),n.d(t,"s",(function(){return _})),n.d(t,"n",(function(){return O})),n.d(t,"m",(function(){return E})),n.d(t,"i",(function(){return C})),n.d(t,"h",(function(){return k})),n.d(t,"k",(function(){return P})),n.d(t,"j",(function(){return S})),n.d(t,"e",(function(){return N})),n.d(t,"d",(function(){return D}));var o=n(49),r=n(675);function a(e){return Object(o.post)("/api/permissions/add_user",e).catch(r.a)}function i(e){return Object(o.post)("/api/permissions/remove_user",e).catch(r.a)}function s(e){return Object(o.post)("/api/permissions/add_group",e).catch(r.a)}function l(e){return Object(o.post)("/api/permissions/remove_group",e).catch(r.a)}function c(e){var t="/api/permissions/search_templates";return e?Object(o.getJSON)(t,{organization:e}):Object(o.getJSON)(t)}function p(e){return Object(o.postJSON)("/api/permissions/create_template",e)}function u(e){return Object(o.post)("/api/permissions/update_template",e)}function m(e){return Object(o.post)("/api/permissions/delete_template",e).catch(r.a)}function d(e,t){return Object(o.post)("/api/permissions/set_default_template",{templateId:e,qualifier:t})}function h(e){return Object(o.post)("/api/permissions/apply_template",e).catch(r.a)}function f(e){return Object(o.post)("/api/permissions/bulk_apply_template",e)}function y(e){return Object(o.post)("/api/permissions/add_user_to_template",e)}function g(e){return Object(o.post)("/api/permissions/remove_user_from_template",e)}function b(e){return Object(o.post)("/api/permissions/add_group_to_template",e)}function v(e){return Object(o.post)("/api/permissions/remove_group_from_template",e)}function j(e,t){return Object(o.post)("/api/permissions/add_project_creator_to_template",{templateId:e,permission:t})}function _(e,t){return Object(o.post)("/api/permissions/remove_project_creator_from_template",{templateId:e,permission:t})}function O(e){return e.ps||(e.ps=100),Object(o.getJSON)("/api/permissions/users",e).catch(r.a)}function E(e){return e.ps||(e.ps=100),Object(o.getJSON)("/api/permissions/groups",e).catch(r.a)}function C(e){return e.ps||(e.ps=100),Object(o.getJSON)("/api/permissions/users",e)}function k(e){return e.ps||(e.ps=100),Object(o.getJSON)("/api/permissions/groups",e)}function P(e,t,n,r){var a={templateId:e,ps:100};return t&&(a.q=t),n&&(a.permission=n),r&&Object.assign(a,{organization:r}),Object(o.getJSON)("/api/permissions/template_users",a).then((function(e){return e.users}))}function S(e,t,n,r){var a={templateId:e,ps:100};return t&&(a.q=t),n&&(a.permission=n),r&&Object.assign(a,{organization:r}),Object(o.getJSON)("/api/permissions/template_groups",a).then((function(e){return e.groups}))}function N(e,t){return Object(o.post)("/api/projects/update_visibility",{project:e,visibility:t}).catch(r.a)}function D(e,t){return Object(o.post)("/api/projects/update_default_visibility",{organization:e,projectVisibility:t}).catch(r.a)}},867:function(e,t,n){"use strict";var o,r=n(825),a=n.n(r),i=n(660),s=n(764),l=n(847),c=n(863),p=n(864),u=n(13),m=n(668),d=n(661),h=n(882),f=n.n(h),y=n(693),g=n.n(y),b=n(868),v=n.n(b),j=n(830),_=n.n(j),O=n(761),E=n.n(O),C=n(680),k=n(176),P=(n(869),n(871),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=function(){return(S=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},N=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},D=Object(C.lazyLoadComponent)((function(){return n.e(304).then(n.t.bind(null,1018,7))}),"DayPicker"),w=function(e){function t(t){var n=e.call(this,t)||this;return n.focus=function(){n.input&&n.input.focus(),n.openCalendar()},n.handleResetClick=function(){n.closeCalendar(),n.props.onChange(void 0)},n.openCalendar=function(){n.setState({currentMonth:n.props.value||n.props.currentMonth||new Date,lastHovered:void 0,open:!0})},n.closeCalendar=function(){n.setState({open:!1})},n.handleDayClick=function(e,t){t.disabled||(n.closeCalendar(),n.props.onChange(e))},n.handleDayMouseEnter=function(e,t){n.setState({lastHovered:t.disabled?void 0:e})},n.handleCurrentMonthChange=function(e){var t=e.value;n.setState((function(e){return{currentMonth:l(e.currentMonth,t)}}))},n.handleCurrentYearChange=function(e){var t=e.value;n.setState((function(e){return{currentMonth:c(e.currentMonth,t)}}))},n.handlePreviousMonthClick=function(){n.setState((function(e){return{currentMonth:p(e.currentMonth,1)}}))},n.handleNextMonthClick=function(){n.setState((function(e){return{currentMonth:s(e.currentMonth,1)}}))},n.state={currentMonth:t.value||t.currentMonth||new Date,open:!1},n}return P(t,e),t.prototype.render=function(){var e,t=this,n=this.props,o=n.highlightFrom,r=n.highlightTo,s=n.minDate,l=n.value,c=this.state.lastHovered,p=this.props.maxDate||new Date,m=a()(12),h=a()((new Date).getFullYear()-10,(new Date).getFullYear()+1),y=l?[l]:[],b=c||l;o&&b&&(e={highlighted:{from:o,to:b}},y.push(o)),r&&b&&(e={highlighted:{from:b,to:r}},y.push(r));var j=a()(7).map(k.getWeekDayName),O=a()(7).map(k.getShortWeekDayName);return u.createElement(f.a,{onClickOutside:this.closeCalendar},u.createElement("span",{className:i("date-input-control",this.props.className)},u.createElement(q,{className:i("date-input-control-input",this.props.inputClassName,{"is-filled":void 0!==this.props.value}),innerRef:function(e){return t.input=e},name:this.props.name,onFocus:this.openCalendar,placeholder:this.props.placeholder,readOnly:!0,type:"text",value:l}),u.createElement(v.a,{className:"date-input-control-icon",fill:""}),void 0!==this.props.value&&u.createElement(d.ClearButton,{className:"button-tiny date-input-control-reset",iconProps:{size:12},onClick:this.handleResetClick}),this.state.open&&u.createElement("div",{className:"date-input-calendar"},u.createElement("nav",{className:"date-input-calendar-nav"},u.createElement(d.ButtonIcon,{className:"button-small",onClick:this.handlePreviousMonthClick},u.createElement(_.a,null)),u.createElement("div",{className:"date-input-calender-month"},u.createElement(g.a,{className:"date-input-calender-month-select",onChange:this.handleCurrentMonthChange,options:m.map((function(e){return{label:Object(k.getShortMonthName)(e),value:e}})),value:this.state.currentMonth.getMonth()}),u.createElement(g.a,{className:"date-input-calender-month-select spacer-left",onChange:this.handleCurrentYearChange,options:h.map((function(e){return{label:String(e),value:e}})),value:this.state.currentMonth.getFullYear()})),u.createElement(d.ButtonIcon,{className:"button-small",onClick:this.handleNextMonthClick},u.createElement(E.a,null))),u.createElement(D,{captionElement:u.createElement(z,null),disabledDays:{after:p,before:s},firstDayOfWeek:1,modifiers:e,month:this.state.currentMonth,navbarElement:u.createElement(z,null),onDayClick:this.handleDayClick,onDayMouseEnter:this.handleDayMouseEnter,selectedDays:y,weekdaysLong:j,weekdaysShort:O}))))},t}(u.PureComponent);function z(){return null}t.a=w;var q=Object(m.injectIntl)((function(e){var t=e.innerRef,n=e.intl,o=e.value,r=N(e,["innerRef","intl","value"]),a=o&&n.formatDate(o,{year:"numeric",month:"short",day:"numeric"});return u.createElement("input",S({},r,{ref:t,value:a||""}))}))},869:function(e,t,n){var o=n(662),r=n(870);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},i=(o(r,a),r.locals?r.locals:{});e.exports=i},870:function(e,t,n){(t=n(663)(!1)).push([e.i,".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}",""]),e.exports=t},871:function(e,t,n){var o=n(662),r=n(872);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1},i=(o(r,a),r.locals?r.locals:{});e.exports=i},872:function(e,t,n){(t=n(663)(!1)).push([e.i,".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}",""]),e.exports=t},899:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var o=n(49),r=n(675);function a(e){return Object(o.getJSON)("/api/navigation/component",e).catch(r.a)}function i(){return Object(o.getJSON)("/api/navigation/marketplace").catch(r.a)}function s(){return Object(o.getJSON)("/api/navigation/settings").catch(r.a)}}}]);
//# sourceMappingURL=302.1601658702741.chunk.js.map