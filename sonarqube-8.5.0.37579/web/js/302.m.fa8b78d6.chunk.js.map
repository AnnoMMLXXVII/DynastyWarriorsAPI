{"version":3,"sources":["webpack:///./src/main/js/apps/projectsManagement/CreateProjectForm.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRow.css?1a9a","webpack:///./src/main/js/apps/projectsManagement/ProjectRow.css","webpack:///./src/main/js/apps/projectsManagement/ChangeDefaultVisibilityForm.tsx","webpack:///./src/main/js/apps/projectsManagement/Header.tsx","webpack:///./src/main/js/apps/projectsManagement/RestoreAccessModal.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRowActions.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRow.tsx","webpack:///./src/main/js/apps/projectsManagement/Projects.tsx","webpack:///./src/main/js/apps/projectsManagement/BulkApplyTemplateModal.tsx","webpack:///./src/main/js/apps/projectsManagement/DeleteModal.tsx","webpack:///./src/main/js/apps/projectsManagement/Search.tsx","webpack:///./src/main/js/apps/projectsManagement/App.tsx","webpack:///./src/main/js/apps/projectsManagement/AppContainer.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/api/permissions.ts","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./src/main/js/components/controls/DayPicker.css?d7e1","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/styles.css?5633","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/api/nav.ts","webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///./src/main/js/components/common/VisibilitySelector.tsx","webpack:///./src/main/js/apps/permissions/project/components/ApplyTemplate.tsx"],"names":["CreateProjectForm","props","super","mounted","handleInputChange","event","name","value","currentTarget","this","setState","handleVisibilityChange","visibility","handleFormSubmit","preventDefault","data","state","organization","key","project","loading","then","response","createdProject","onProjectCreated","projectVisibility","setImmediate","closeButton","focus","contentLabel","onRequestClose","onClose","className","variant","defaultMessage","id","values","to","innerRef","node","onClick","onSubmit","htmlFor","autoFocus","maxLength","onChange","required","type","canTurnToPrivate","canUpdateProjectsVisibilityToPrivate","disabled","api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","handleConfirmClick","onConfirm","map","checked","onCheck","Alert","visibilityForm","handleChangeVisibilityClick","closeVisiblityForm","hasProvisionPermission","onProjectCreate","onVisibilityChange","Promise","all","grantPermission","onRestoreAccess","permission","projectKey","login","currentUser","header","browse","administer","applyTemplateModal","restoreAccessModal","fetchPermissions","component","configuration","hasAccess","Boolean","showPermissions","canBrowseProject","handleDropdownOpen","undefined","handleApplyTemplateClick","handleApplyTemplateClose","handleRestoreAccessClick","handleRestoreAccessClose","handleRestoreAccessDone","onOpen","ActionsDropdown","ApplyTemplate","handleProjectCheck","onProjectCheck","selected","qualifier","overlay","placement","PrivacyBadgeContainer","lastAnalysisDate","date","onProjectSelected","onProjectDeselected","ready","projects","selection","includes","done","submitting","analyzedBefore","permissionTemplate","parameters","length","join","qualifiers","templateId","onProvisionedOnly","provisioned","q","query","handlePermissionTemplateChange","renderWarning","total","renderSelect","clearable","permissionTemplates","t","label","loadPermissionTemplates","size","QUALIFIERS_ORDER","bulkApplyTemplateModal","deleteModal","getQualifierOptions","topLevelQualifiers","option","indexOf","onAllSelected","onAllDeselected","handleDeleteClick","closeDeleteModal","handleDeleteConfirm","onDeleteProjects","handleBulkApplyTemplateClick","closeBulkApplyTemplateModal","handleQualifierChange","onQualifierChanged","onVisibilityChanged","renderCheckbox","isAllChecked","thirdState","renderQualifierOption","renderQualifierFilter","optionRenderer","searchable","valueRenderer","renderVisibilityFilter","renderTypeFilter","onProvisionedChanged","renderDateFilter","DateInput","inputClassName","onDateChanged","placeholder","minLength","onSearch","title","requestProjects","p","page","ps","r","components","paging","loadMore","newQualifier","newVisibility","handleDateChanged","openCreateProjectForm","createProjectForm","closeCreateProjectForm","Suggestions","suggestions","defer","count","onOrganizationUpgrade","handleOrganizationUpgrade","fetchOrganization","appState","defaultOrganization","isDefault","actions","provision","ownProps","dispatch","currentVisibility","catch","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","prevProps","grantPermissionToUser","revokePermissionFromUser","grantPermissionToGroup","revokePermissionFromGroup","getPermissionTemplates","url","createPermissionTemplate","updatePermissionTemplate","deletePermissionTemplate","setDefaultPermissionTemplate","applyTemplateToProject","bulkApplyTemplate","grantTemplatePermissionToUser","revokeTemplatePermissionFromUser","grantTemplatePermissionToGroup","revokeTemplatePermissionFromGroup","addProjectCreatorToTemplate","removeProjectCreatorFromTemplate","getPermissionsUsersForComponent","getPermissionsGroupsForComponent","getGlobalPermissionsUsers","getGlobalPermissionsGroups","getPermissionTemplateUsers","Object","assign","users","getPermissionTemplateGroups","groups","changeProjectVisibility","changeProjectDefaultVisibility","DayPicker","input","openCalendar","handleResetClick","closeCalendar","currentMonth","Date","lastHovered","open","handleDayClick","day","modifiers","handleDayMouseEnter","handleCurrentMonthChange","handleCurrentYearChange","handlePreviousMonthClick","handleNextMonthClick","highlightFrom","highlightTo","minDate","after","maxDate","months","years","getFullYear","selectedDays","lastHoveredOrValue","highlighted","from","weekdaysLong","weekdaysShort","onClickOutside","InputWrapper","onFocus","readOnly","fill","iconProps","month","getMonth","year","String","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","intl","other","formattedValue","formatDate","ref","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation","VisibilitySelector","showDetails","fetchPermissionTemplates","handleSubmit","onApply","reject","onCloseClick","onFormSubmit"],"mappings":"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","file":"js/302.m.fa8b78d6.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { createProject } from '../../api/components';\nimport VisibilitySelector from '../../components/common/VisibilitySelector';\nimport { getProjectUrl } from '../../helpers/urls';\n\ninterface Props {\n  onClose: () => void;\n  onProjectCreated: () => void;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  createdProject?: { key: string; name: string };\n  key: string;\n  loading: boolean;\n  name: string;\n  visibility?: T.Visibility;\n  // add index declaration to be able to do `this.setState({ [name]: value });`\n  [x: string]: any;\n}\n\nexport default class CreateProjectForm extends React.PureComponent<Props, State> {\n  closeButton?: HTMLElement | null;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      key: '',\n      loading: false,\n      name: '',\n      visibility: props.organization.projectVisibility\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate() {\n    // wrap with `setImmediate` because of https://github.com/reactjs/react-modal/issues/338\n    setImmediate(() => {\n      if (this.closeButton) {\n        this.closeButton.focus();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleInputChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    this.setState({ visibility });\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const data = {\n      name: this.state.name,\n      organization: this.props.organization && this.props.organization.key,\n      project: this.state.key,\n      visibility: this.state.visibility\n    };\n\n    this.setState({ loading: true });\n    createProject(data).then(\n      response => {\n        if (this.mounted) {\n          this.setState({ createdProject: response.project, loading: false });\n          this.props.onProjectCreated();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { organization } = this.props;\n    const { createdProject } = this.state;\n\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        {createdProject ? (\n          <div>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <Alert variant=\"success\">\n                <FormattedMessage\n                  defaultMessage={translate(\n                    'projects_management.project_has_been_successfully_created'\n                  )}\n                  id=\"projects_management.project_has_been_successfully_created\"\n                  values={{\n                    project: (\n                      <Link to={getProjectUrl(createdProject.key)}>{createdProject.name}</Link>\n                    )\n                  }}\n                />\n              </Alert>\n            </div>\n\n            <footer className=\"modal-foot\">\n              <ResetButtonLink\n                id=\"create-project-close\"\n                innerRef={node => (this.closeButton = node)}\n                onClick={this.props.onClose}>\n                {translate('close')}\n              </ResetButtonLink>\n            </footer>\n          </div>\n        ) : (\n          <form id=\"create-project-form\" onSubmit={this.handleFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-name\">\n                  {translate('name')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  autoFocus={true}\n                  id=\"create-project-name\"\n                  maxLength={2000}\n                  name=\"name\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.name}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-key\">\n                  {translate('key')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  id=\"create-project-key\"\n                  maxLength={400}\n                  name=\"key\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.key}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label>{translate('visibility')}</label>\n                <VisibilitySelector\n                  canTurnToPrivate={organization.canUpdateProjectsVisibilityToPrivate}\n                  className=\"little-spacer-top\"\n                  onChange={this.handleVisibilityChange}\n                  visibility={this.state.visibility}\n                />\n              </div>\n            </div>\n\n            <footer className=\"modal-foot\">\n              {this.state.loading && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={this.state.loading} id=\"create-project-submit\">\n                {translate('create')}\n              </SubmitButton>\n              <ResetButtonLink id=\"create-project-cancel\" onClick={this.props.onClose}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </Modal>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ProjectRow.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".project-row-text-cell{max-width:20em}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface Props {\n  onClose: () => void;\n  onConfirm: (visiblity: T.Visibility) => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  visibility: T.Visibility;\n}\n\nexport default class ChangeDefaultVisibilityForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { visibility: props.organization.projectVisibility as T.Visibility };\n  }\n\n  handleConfirmClick = () => {\n    this.props.onConfirm(this.state.visibility);\n    this.props.onClose();\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    this.setState({ visibility });\n  };\n\n  render() {\n    const { organization } = this.props;\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{translate('organization.change_visibility_form.header')}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {['public', 'private'].map(visibility => (\n            <div className=\"big-spacer-bottom\" key={visibility}>\n              <Radio\n                value={visibility}\n                checked={this.state.visibility === visibility}\n                onCheck={this.handleVisibilityChange}\n                disabled={\n                  visibility === 'private' && !organization.canUpdateProjectsVisibilityToPrivate\n                }>\n                <div>\n                  {translate('visibility', visibility)}\n                  <p className=\"text-muted spacer-top\">\n                    {translate('visibility', visibility, 'description.short')}\n                  </p>\n                </div>\n              </Radio>\n            </div>\n          ))}\n\n          {organization.canUpdateProjectsVisibilityToPrivate && (\n            <Alert variant=\"warning\">\n              {translate('organization.change_visibility_form.warning')}\n            </Alert>\n          )}\n        </div>\n\n        <footer className=\"modal-foot\">\n          <Button className=\"js-confirm\" onClick={this.handleConfirmClick}>\n            {translate('organization.change_visibility_form.submit')}\n          </Button>\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\nimport ChangeDefaultVisibilityForm from './ChangeDefaultVisibilityForm';\n\nexport interface Props {\n  hasProvisionPermission?: boolean;\n  onProjectCreate: () => void;\n  onVisibilityChange: (visibility: T.Visibility) => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  visibilityForm: boolean;\n}\n\nexport default class Header extends React.PureComponent<Props, State> {\n  state: State = { visibilityForm: false };\n\n  handleChangeVisibilityClick = () => {\n    this.setState({ visibilityForm: true });\n  };\n\n  closeVisiblityForm = () => {\n    this.setState({ visibilityForm: false });\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{translate('projects_management')}</h1>\n\n        <div className=\"page-actions\">\n          {!isSonarCloud() && organization.projectVisibility && (\n            <span className=\"big-spacer-right\">\n              <span className=\"text-middle\">\n                {translate('organization.default_visibility_of_new_projects')}{' '}\n                <strong>{translate('visibility', organization.projectVisibility)}</strong>\n              </span>\n              <EditButton\n                className=\"js-change-visibility spacer-left button-small\"\n                onClick={this.handleChangeVisibilityClick}\n              />\n            </span>\n          )}\n          {this.props.hasProvisionPermission && (\n            <Button id=\"create-project\" onClick={this.props.onProjectCreate}>\n              {translate('qualifiers.create.TRK')}\n            </Button>\n          )}\n        </div>\n\n        <p className=\"page-description\">{translate('projects_management.page.description')}</p>\n\n        {!isSonarCloud() && this.state.visibilityForm && (\n          <ChangeDefaultVisibilityForm\n            onClose={this.closeVisiblityForm}\n            onConfirm={this.props.onVisibilityChange}\n            organization={organization}\n          />\n        )}\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Project } from '../../api/components';\nimport { grantPermissionToUser } from '../../api/permissions';\n\ninterface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  onClose: () => void;\n  onRestoreAccess: () => void;\n  project: Project;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class RestoreAccessModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ loading: true });\n    Promise.all([this.grantPermission('user'), this.grantPermission('admin')]).then(\n      this.props.onRestoreAccess,\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  grantPermission = (permission: string) =>\n    grantPermissionToUser({\n      projectKey: this.props.project.key,\n      login: this.props.currentUser.login,\n      permission,\n      organization: this.props.project.organization\n    });\n\n  render() {\n    const header = translate('global_permissions.restore_access');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            <FormattedMessage\n              defaultMessage={translate('global_permissions.restore_access.message')}\n              id=\"global_permissions.restore_access.message\"\n              values={{\n                browse: <strong>{translate('projects_role.user')}</strong>,\n                administer: <strong>{translate('projects_role.admin')}</strong>\n              }}\n            />\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.loading && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={this.state.loading}>{translate('restore')}</SubmitButton>\n            <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActionsDropdown, {\n  ActionsDropdownItem\n} from 'sonar-ui-common/components/controls/ActionsDropdown';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Project } from '../../api/components';\nimport { getComponentNavigation } from '../../api/nav';\nimport { getComponentPermissionsUrl } from '../../helpers/urls';\nimport ApplyTemplate from '../permissions/project/components/ApplyTemplate';\nimport RestoreAccessModal from './RestoreAccessModal';\n\nexport interface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  organization: string | undefined;\n  project: Project;\n}\n\ninterface State {\n  applyTemplateModal: boolean;\n  hasAccess?: boolean;\n  loading: boolean;\n  restoreAccessModal: boolean;\n}\n\nexport default class ProjectRowActions extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { applyTemplateModal: false, loading: false, restoreAccessModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissions = () => {\n    this.setState({ loading: true });\n    getComponentNavigation({ component: this.props.project.key }).then(\n      ({ configuration }) => {\n        if (this.mounted) {\n          const hasAccess = Boolean(\n            configuration && configuration.showPermissions && configuration.canBrowseProject\n          );\n          this.setState({ hasAccess, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleDropdownOpen = () => {\n    if (this.state.hasAccess === undefined && !this.state.loading) {\n      this.fetchPermissions();\n    }\n  };\n\n  handleApplyTemplateClick = () => {\n    this.setState({ applyTemplateModal: true });\n  };\n\n  handleApplyTemplateClose = () => {\n    if (this.mounted) {\n      this.setState({ applyTemplateModal: false });\n    }\n  };\n\n  handleRestoreAccessClick = () => {\n    this.setState({ restoreAccessModal: true });\n  };\n\n  handleRestoreAccessClose = () => this.setState({ restoreAccessModal: false });\n\n  handleRestoreAccessDone = () => {\n    this.setState({ hasAccess: true, restoreAccessModal: false });\n  };\n\n  render() {\n    const { hasAccess, loading } = this.state;\n\n    return (\n      <>\n        <ActionsDropdown onOpen={this.handleDropdownOpen}>\n          {loading ? (\n            <ActionsDropdownItem>\n              <DeferredSpinner />\n            </ActionsDropdownItem>\n          ) : (\n            <>\n              {hasAccess === true && (\n                <ActionsDropdownItem\n                  className=\"js-edit-permissions\"\n                  to={getComponentPermissionsUrl(this.props.project.key)}>\n                  {translate('edit_permissions')}\n                </ActionsDropdownItem>\n              )}\n\n              {hasAccess === false && (\n                <ActionsDropdownItem\n                  className=\"js-restore-access\"\n                  onClick={this.handleRestoreAccessClick}>\n                  {translate('global_permissions.restore_access')}\n                </ActionsDropdownItem>\n              )}\n            </>\n          )}\n\n          <ActionsDropdownItem\n            className=\"js-apply-template\"\n            onClick={this.handleApplyTemplateClick}>\n            {translate('projects_role.apply_template')}\n          </ActionsDropdownItem>\n        </ActionsDropdown>\n\n        {this.state.restoreAccessModal && (\n          <RestoreAccessModal\n            currentUser={this.props.currentUser}\n            onClose={this.handleRestoreAccessClose}\n            onRestoreAccess={this.handleRestoreAccessDone}\n            project={this.props.project}\n          />\n        )}\n\n        {this.state.applyTemplateModal && (\n          <ApplyTemplate\n            onClose={this.handleApplyTemplateClose}\n            organization={this.props.organization}\n            project={this.props.project}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport DateFormatter from 'sonar-ui-common/components/intl/DateFormatter';\nimport { Project } from '../../api/components';\nimport PrivacyBadgeContainer from '../../components/common/PrivacyBadgeContainer';\nimport { getComponentOverviewUrl } from '../../helpers/urls';\nimport './ProjectRow.css';\nimport ProjectRowActions from './ProjectRowActions';\n\ninterface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  onProjectCheck: (project: Project, checked: boolean) => void;\n  organization: string | undefined;\n  project: Project;\n  selected: boolean;\n}\n\nexport default class ProjectRow extends React.PureComponent<Props> {\n  handleProjectCheck = (checked: boolean) => {\n    this.props.onProjectCheck(this.props.project, checked);\n  };\n\n  render() {\n    const { organization, project, selected } = this.props;\n\n    return (\n      <tr data-project-key={project.key}>\n        <td className=\"thin\">\n          <Checkbox checked={selected} onCheck={this.handleProjectCheck} />\n        </td>\n\n        <td className=\"nowrap hide-overflow project-row-text-cell\">\n          <Link\n            className=\"link-with-icon\"\n            to={getComponentOverviewUrl(project.key, project.qualifier)}>\n            <QualifierIcon className=\"little-spacer-right\" qualifier={project.qualifier} />\n\n            <Tooltip overlay={project.name} placement=\"left\">\n              <span>{project.name}</span>\n            </Tooltip>\n          </Link>\n        </td>\n\n        <td className=\"thin nowrap\">\n          <PrivacyBadgeContainer qualifier={project.qualifier} visibility={project.visibility} />\n        </td>\n\n        <td className=\"nowrap hide-overflow project-row-text-cell\">\n          <Tooltip overlay={project.key} placement=\"left\">\n            <span className=\"note\">{project.key}</span>\n          </Tooltip>\n        </td>\n\n        <td className=\"thin nowrap text-right\">\n          {project.lastAnalysisDate ? (\n            <DateFormatter date={project.lastAnalysisDate} />\n          ) : (\n            <span className=\"note\">—</span>\n          )}\n        </td>\n\n        <td className=\"thin nowrap\">\n          <ProjectRowActions\n            currentUser={this.props.currentUser}\n            organization={organization}\n            project={project}\n          />\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Project } from '../../api/components';\nimport ProjectRow from './ProjectRow';\n\ninterface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  onProjectDeselected: (project: string) => void;\n  onProjectSelected: (project: string) => void;\n  organization: T.Organization;\n  projects: Project[];\n  ready?: boolean;\n  selection: string[];\n}\n\nexport default class Projects extends React.PureComponent<Props> {\n  onProjectCheck = (project: Project, checked: boolean) => {\n    if (checked) {\n      this.props.onProjectSelected(project.key);\n    } else {\n      this.props.onProjectDeselected(project.key);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"boxed-group boxed-group-inner\">\n        <table\n          className={classNames('data', 'zebra', { 'new-loading': !this.props.ready })}\n          id=\"projects-management-page-projects\">\n          <thead>\n            <tr>\n              <th />\n              <th>{translate('name')}</th>\n              <th />\n              <th>{translate('key')}</th>\n              <th className=\"thin nowrap text-right\">{translate('last_analysis')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            {this.props.projects.map(project => (\n              <ProjectRow\n                currentUser={this.props.currentUser}\n                key={project.key}\n                onProjectCheck={this.onProjectCheck}\n                organization={this.props.organization && this.props.organization.key}\n                project={project}\n                selected={this.props.selection.includes(project.key)}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { toNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { bulkApplyTemplate, getPermissionTemplates } from '../../api/permissions';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n  submitting: boolean;\n}\n\nexport default class BulkApplyTemplateModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true, submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadPermissionTemplates() {\n    this.setState({ loading: true });\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            permissionTemplate:\n              permissionTemplates.length > 0 ? permissionTemplates[0].id : undefined,\n            permissionTemplates\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  handleConfirmClick = () => {\n    const { analyzedBefore } = this.props;\n    const { permissionTemplate } = this.state;\n    if (permissionTemplate) {\n      this.setState({ submitting: true });\n      const parameters = this.props.selection.length\n        ? {\n            organization: this.props.organization,\n            projects: this.props.selection.join(),\n            qualifiers: this.props.qualifier,\n            templateId: permissionTemplate\n          }\n        : {\n            analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n            onProvisionedOnly: this.props.provisioned || undefined,\n            organization: this.props.organization,\n            qualifiers: this.props.qualifier,\n            q: this.props.query || undefined,\n            templateId: permissionTemplate\n          };\n      bulkApplyTemplate(parameters).then(\n        () => {\n          if (this.mounted) {\n            this.setState({ done: true, submitting: false });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  renderWarning = () => (\n    <Alert variant=\"warning\">\n      {this.props.selection.length\n        ? translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_selected',\n            this.props.selection.length\n          )\n        : translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_all',\n            this.props.total\n          )}\n    </Alert>\n  );\n\n  renderSelect = () => (\n    <div className=\"modal-field\">\n      <label>\n        {translate('template')}\n        <em className=\"mandatory\">*</em>\n      </label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        onChange={this.handlePermissionTemplateChange}\n        options={this.state.permissionTemplates!.map(t => ({ label: t.name, value: t.id }))}\n        value={this.state.permissionTemplate}\n      />\n    </div>\n  );\n\n  render() {\n    const { done, loading, permissionTemplates, submitting } = this.state;\n    const header = translate('permission_templates.bulk_apply_permission_template');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {done && (\n            <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n          )}\n\n          {loading && <i className=\"spinner\" />}\n\n          {!loading && !done && permissionTemplates && this.renderWarning()}\n          {!loading && !done && permissionTemplates && this.renderSelect()}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          {!loading && !done && permissionTemplates && (\n            <SubmitButton disabled={submitting} onClick={this.handleConfirmClick}>\n              {translate('apply')}\n            </SubmitButton>\n          )}\n          <ResetButtonLink onClick={this.props.onClose}>\n            {done ? translate('close') : translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { toNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { bulkDeleteProjects } from '../../api/components';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  onConfirm: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class DeleteModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleConfirmClick = () => {\n    this.setState({ loading: true });\n    const { analyzedBefore } = this.props;\n    const parameters = this.props.selection.length\n      ? {\n          organization: this.props.organization,\n          projects: this.props.selection.join()\n        }\n      : {\n          analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n          onProvisionedOnly: this.props.provisioned || undefined,\n          organization: this.props.organization,\n          qualifiers: this.props.qualifier,\n          q: this.props.query || undefined\n        };\n    bulkDeleteProjects(parameters).then(\n      () => {\n        if (this.mounted) {\n          this.props.onConfirm();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWarning = () => (\n    <Alert variant=\"warning\">\n      {this.props.selection.length\n        ? translateWithParameters(\n            'projects_management.delete_selected_warning',\n            this.props.selection.length\n          )\n        : translateWithParameters('projects_management.delete_all_warning', this.props.total)}\n    </Alert>\n  );\n\n  render() {\n    const header = translate('qualifiers.delete', this.props.qualifier);\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {this.renderWarning()}\n          {translate('qualifiers.delete_confirm', this.props.qualifier)}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {this.state.loading && <i className=\"spinner spacer-right\" />}\n          <SubmitButton\n            className=\"button-red\"\n            disabled={this.state.loading}\n            onClick={this.handleConfirmClick}>\n            {translate('delete')}\n          </SubmitButton>\n          <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Project } from '../../api/components';\nimport DateInput from '../../components/controls/DateInput';\nimport BulkApplyTemplateModal from './BulkApplyTemplateModal';\nimport DeleteModal from './DeleteModal';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onAllDeselected: () => void;\n  onAllSelected: () => void;\n  onDateChanged: (analyzedBefore: Date | undefined) => void;\n  onDeleteProjects: () => void;\n  onProvisionedChanged: (provisioned: boolean) => void;\n  onQualifierChanged: (qualifier: string) => void;\n  onVisibilityChanged: (qualifier: string) => void;\n  onSearch: (query: string) => void;\n  organization: T.Organization;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: any[];\n  topLevelQualifiers: string[];\n  total: number;\n  visibility?: T.Visibility;\n}\n\ninterface State {\n  bulkApplyTemplateModal: boolean;\n  deleteModal: boolean;\n}\n\nconst QUALIFIERS_ORDER = ['TRK', 'VW', 'APP'];\n\nexport default class Search extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { bulkApplyTemplateModal: false, deleteModal: false };\n\n  getQualifierOptions = () => {\n    const options = this.props.topLevelQualifiers.map(q => ({\n      label: translate('qualifiers', q),\n      value: q\n    }));\n    return sortBy(options, option => QUALIFIERS_ORDER.indexOf(option.value));\n  };\n\n  onCheck = (checked: boolean) => {\n    if (checked) {\n      this.props.onAllSelected();\n    } else {\n      this.props.onAllDeselected();\n    }\n  };\n\n  handleDeleteClick = () => {\n    this.setState({ deleteModal: true });\n  };\n\n  closeDeleteModal = () => {\n    this.setState({ deleteModal: false });\n  };\n\n  handleDeleteConfirm = () => {\n    this.closeDeleteModal();\n    this.props.onDeleteProjects();\n  };\n\n  handleBulkApplyTemplateClick = () => {\n    this.setState({ bulkApplyTemplateModal: true });\n  };\n\n  closeBulkApplyTemplateModal = () => {\n    this.setState({ bulkApplyTemplateModal: false });\n  };\n\n  handleQualifierChange = ({ value }: { value: string }) => this.props.onQualifierChanged(value);\n\n  handleVisibilityChange = ({ value }: { value: string }) => this.props.onVisibilityChanged(value);\n\n  renderCheckbox = () => {\n    const isAllChecked =\n      this.props.projects.length > 0 && this.props.selection.length === this.props.projects.length;\n    const thirdState =\n      this.props.projects.length > 0 &&\n      this.props.selection.length > 0 &&\n      this.props.selection.length < this.props.projects.length;\n    const checked = isAllChecked || thirdState;\n    return (\n      <Checkbox\n        checked={checked}\n        id=\"projects-selection\"\n        onCheck={this.onCheck}\n        thirdState={thirdState}\n      />\n    );\n  };\n\n  renderQualifierOption = (option: { label: string; value: string }) => (\n    <span>\n      <QualifierIcon className=\"little-spacer-right\" qualifier={option.value} />\n      {option.label}\n    </span>\n  );\n\n  renderQualifierFilter = () => {\n    const options = this.getQualifierOptions();\n    if (options.length < 2) {\n      return null;\n    }\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-qualifier\"\n          onChange={this.handleQualifierChange}\n          optionRenderer={this.renderQualifierOption}\n          options={this.getQualifierOptions()}\n          searchable={false}\n          value={this.props.qualifiers}\n          valueRenderer={this.renderQualifierOption}\n        />\n      </td>\n    );\n  };\n\n  renderVisibilityFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-small\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-visibility\"\n          onChange={this.handleVisibilityChange}\n          options={[\n            { value: 'all', label: translate('visibility.both') },\n            { value: 'public', label: translate('visibility.public') },\n            { value: 'private', label: translate('visibility.private') }\n          ]}\n          searchable={false}\n          value={this.props.visibility || 'all'}\n        />\n      </td>\n    );\n  };\n\n  renderTypeFilter = () =>\n    this.props.qualifiers === 'TRK' ? (\n      <td className=\"thin nowrap text-middle\">\n        <Checkbox\n          checked={this.props.provisioned}\n          className=\"link-checkbox-control\"\n          id=\"projects-provisioned\"\n          onCheck={this.props.onProvisionedChanged}>\n          <span className=\"text-middle little-spacer-left\">\n            {translate('provisioning.only_provisioned')}\n          </span>\n        </Checkbox>\n        <HelpTooltip\n          className=\"spacer-left\"\n          overlay={translate('provisioning.only_provisioned.tooltip')}\n        />\n      </td>\n    ) : null;\n\n  renderDateFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <DateInput\n          inputClassName=\"input-medium\"\n          name=\"analyzed-before\"\n          onChange={this.props.onDateChanged}\n          placeholder={translate('last_analysis_before')}\n          value={this.props.analyzedBefore}\n        />\n      </td>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <table className=\"data\">\n          <tbody>\n            <tr>\n              <td className=\"thin text-middle\">\n                {this.props.ready ? this.renderCheckbox() : <i className=\"spinner\" />}\n              </td>\n              {this.renderQualifierFilter()}\n              {this.renderDateFilter()}\n              {this.renderVisibilityFilter()}\n              {this.renderTypeFilter()}\n              <td className=\"text-middle\">\n                <SearchBox\n                  minLength={3}\n                  onChange={this.props.onSearch}\n                  placeholder={translate('search.search_by_name_or_key')}\n                  value={this.props.query}\n                />\n              </td>\n              <td className=\"thin nowrap text-middle\">\n                <Button\n                  className=\"js-bulk-apply-permission-template\"\n                  disabled={this.props.selection.length === 0}\n                  onClick={this.handleBulkApplyTemplateClick}>\n                  {translate('permission_templates.bulk_apply_permission_template')}\n                </Button>\n                {this.props.qualifiers === 'TRK' && (\n                  <Button\n                    className=\"js-delete spacer-left button-red\"\n                    disabled={this.props.selection.length === 0}\n                    onClick={this.handleDeleteClick}\n                    title={\n                      this.props.selection.length === 0\n                        ? translate('permission_templates.select_to_delete')\n                        : translate('permission_templates.delete_selected')\n                    }>\n                    {translate('delete')}\n                  </Button>\n                )}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        {this.state.bulkApplyTemplateModal && (\n          <BulkApplyTemplateModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeBulkApplyTemplateModal}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n\n        {this.state.deleteModal && (\n          <DeleteModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeDeleteModal}\n            onConfirm={this.handleDeleteConfirm}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce, uniq, without } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport { toShortNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getComponents, Project } from '../../api/components';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport CreateProjectForm from './CreateProjectForm';\nimport Header from './Header';\nimport Projects from './Projects';\nimport Search from './Search';\n\nexport interface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  hasProvisionPermission?: boolean;\n  onOrganizationUpgrade: () => void;\n  onVisibilityChange: (visibility: T.Visibility) => void;\n  organization: T.Organization;\n  topLevelQualifiers: string[];\n}\n\ninterface State {\n  analyzedBefore?: Date;\n  createProjectForm: boolean;\n  page: number;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: string[];\n  total: number;\n  visibility?: T.Visibility;\n}\n\nconst PAGE_SIZE = 50;\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      createProjectForm: false,\n      ready: false,\n      projects: [],\n      provisioned: false,\n      total: 0,\n      page: 1,\n      query: '',\n      qualifiers: 'TRK',\n      selection: []\n    };\n    this.requestProjects = debounce(this.requestProjects, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.requestProjects();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  requestProjects = () => {\n    const { analyzedBefore } = this.state;\n    const parameters = {\n      analyzedBefore: analyzedBefore && toShortNotSoISOString(analyzedBefore),\n      onProvisionedOnly: this.state.provisioned || undefined,\n      organization: this.props.organization.key,\n      p: this.state.page !== 1 ? this.state.page : undefined,\n      ps: PAGE_SIZE,\n      q: this.state.query || undefined,\n      qualifiers: this.state.qualifiers,\n      visibility: this.state.visibility\n    };\n    getComponents(parameters).then(\n      r => {\n        if (this.mounted) {\n          let projects: Project[] = r.components;\n          if (this.state.page > 1) {\n            projects = [...this.state.projects, ...projects];\n          }\n          this.setState({ ready: true, projects, selection: [], total: r.paging.total });\n        }\n      },\n      () => {}\n    );\n  };\n\n  loadMore = () => {\n    this.setState(({ page }) => ({ ready: false, page: page + 1 }), this.requestProjects);\n  };\n\n  onSearch = (query: string) => {\n    this.setState({ ready: false, page: 1, query, selection: [] }, this.requestProjects);\n  };\n\n  onProvisionedChanged = (provisioned: boolean) => {\n    this.setState(\n      { ready: false, page: 1, query: '', provisioned, qualifiers: 'TRK', selection: [] },\n      this.requestProjects\n    );\n  };\n\n  onQualifierChanged = (newQualifier: string) => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        qualifiers: newQualifier,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  onVisibilityChanged = (newVisibility: T.Visibility | 'all') => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        visibility: newVisibility === 'all' ? undefined : newVisibility,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  handleDateChanged = (analyzedBefore: Date | undefined) =>\n    this.setState({ ready: false, page: 1, analyzedBefore }, this.requestProjects);\n\n  onProjectSelected = (project: string) => {\n    this.setState(({ selection }) => ({ selection: uniq([...selection, project]) }));\n  };\n\n  onProjectDeselected = (project: string) => {\n    this.setState(({ selection }) => ({ selection: without(selection, project) }));\n  };\n\n  onAllSelected = () => {\n    this.setState(({ projects }) => ({ selection: projects.map(project => project.key) }));\n  };\n\n  onAllDeselected = () => {\n    this.setState({ selection: [] });\n  };\n\n  openCreateProjectForm = () => {\n    this.setState({ createProjectForm: true });\n  };\n\n  closeCreateProjectForm = () => {\n    this.setState({ createProjectForm: false });\n  };\n\n  render() {\n    return (\n      <div className=\"page page-limited\" id=\"projects-management-page\">\n        <Suggestions suggestions=\"projects_management\" />\n        <Helmet defer={false} title={translate('projects_management')} />\n\n        <Header\n          hasProvisionPermission={this.props.hasProvisionPermission}\n          onProjectCreate={this.openCreateProjectForm}\n          onVisibilityChange={this.props.onVisibilityChange}\n          organization={this.props.organization}\n        />\n\n        <Search\n          analyzedBefore={this.state.analyzedBefore}\n          onAllDeselected={this.onAllDeselected}\n          onAllSelected={this.onAllSelected}\n          onDateChanged={this.handleDateChanged}\n          onDeleteProjects={this.requestProjects}\n          onProvisionedChanged={this.onProvisionedChanged}\n          onQualifierChanged={this.onQualifierChanged}\n          onSearch={this.onSearch}\n          onVisibilityChanged={this.onVisibilityChanged}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          provisioned={this.state.provisioned}\n          qualifiers={this.state.qualifiers}\n          query={this.state.query}\n          ready={this.state.ready}\n          selection={this.state.selection}\n          topLevelQualifiers={this.props.topLevelQualifiers}\n          total={this.state.total}\n          visibility={this.state.visibility}\n        />\n\n        <Projects\n          currentUser={this.props.currentUser}\n          onProjectDeselected={this.onProjectDeselected}\n          onProjectSelected={this.onProjectSelected}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          ready={this.state.ready}\n          selection={this.state.selection}\n        />\n\n        <ListFooter\n          count={this.state.projects.length}\n          loadMore={this.loadMore}\n          ready={this.state.ready}\n          total={this.state.total}\n        />\n\n        {this.state.createProjectForm && (\n          <CreateProjectForm\n            onClose={this.closeCreateProjectForm}\n            onOrganizationUpgrade={this.props.onOrganizationUpgrade}\n            onProjectCreated={this.requestProjects}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { changeProjectDefaultVisibility } from '../../api/permissions';\nimport { receiveOrganizations } from '../../store/organizations';\nimport { fetchOrganization } from '../../store/rootActions';\nimport { getAppState, getCurrentUser, getOrganizationByKey, Store } from '../../store/rootReducer';\nimport App from './App';\n\ninterface StateProps {\n  appState: { defaultOrganization: string; qualifiers: string[] };\n  currentUser: T.LoggedInUser;\n  organization?: T.Organization;\n}\n\ninterface DispatchProps {\n  fetchOrganization: (organization: string) => void;\n  onVisibilityChange: (organization: T.Organization, visibility: T.Visibility) => void;\n}\n\ninterface OwnProps {\n  onRequestFail: (error: any) => void;\n  organization: T.Organization;\n}\n\nclass AppContainer extends React.PureComponent<OwnProps & StateProps & DispatchProps> {\n  componentDidMount() {\n    // if there is no organization, that means we are in the global scope\n    // let's fetch defails for the default organization in this case\n    if (!this.props.organization || !this.props.organization.projectVisibility) {\n      this.props.fetchOrganization(this.props.appState.defaultOrganization);\n    }\n  }\n\n  handleOrganizationUpgrade = () => {\n    this.props.fetchOrganization(this.props.organization.key);\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    if (this.props.organization) {\n      this.props.onVisibilityChange(this.props.organization, visibility);\n    }\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    if (!organization) {\n      return null;\n    }\n\n    const topLevelQualifiers = organization.isDefault ? this.props.appState.qualifiers : ['TRK'];\n    const { actions = {} } = organization;\n\n    return (\n      <App\n        currentUser={this.props.currentUser}\n        hasProvisionPermission={actions.provision}\n        onOrganizationUpgrade={this.handleOrganizationUpgrade}\n        onVisibilityChange={this.handleVisibilityChange}\n        organization={organization}\n        topLevelQualifiers={topLevelQualifiers}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps) => ({\n  appState: getAppState(state),\n  currentUser: getCurrentUser(state) as T.LoggedInUser,\n  organization:\n    ownProps.organization || getOrganizationByKey(state, getAppState(state).defaultOrganization)\n});\n\nconst onVisibilityChange = (organization: T.Organization, visibility: T.Visibility) => (\n  dispatch: Function\n) => {\n  const currentVisibility = organization.projectVisibility;\n  dispatch(receiveOrganizations([{ ...organization, projectVisibility: visibility }]));\n  changeProjectDefaultVisibility(organization.key, visibility).catch(() => {\n    dispatch(receiveOrganizations([{ ...organization, projectVisibility: currentVisibility }]));\n  });\n};\n\nconst mapDispatchToProps = (dispatch: Function) => ({\n  fetchOrganization: (key: string) => dispatch(fetchOrganization(key)),\n  onVisibilityChange: (organization: T.Organization, visibility: T.Visibility) =>\n    dispatch(onVisibilityChange(organization, visibility))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppContainer);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BaseSearchProjectsParameters } from './components';\n\nconst PAGE_SIZE = 100;\n\nexport function grantPermissionToUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_user', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_user', data).catch(throwGlobalError);\n}\n\nexport function grantPermissionToGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_group', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_group', data).catch(throwGlobalError);\n}\n\ninterface GetPermissionTemplatesResponse {\n  permissionTemplates: T.PermissionTemplate[];\n  defaultTemplates: Array<{ templateId: string; qualifier: string }>;\n  permissions: Array<{ key: string; name: string; description: string }>;\n}\n\nexport function getPermissionTemplates(\n  organization?: string\n): Promise<GetPermissionTemplatesResponse> {\n  const url = '/api/permissions/search_templates';\n  return organization ? getJSON(url, { organization }) : getJSON(url);\n}\n\nexport function createPermissionTemplate(data: RequestData) {\n  return postJSON('/api/permissions/create_template', data);\n}\n\nexport function updatePermissionTemplate(data: RequestData): Promise<void> {\n  return post('/api/permissions/update_template', data);\n}\n\nexport function deletePermissionTemplate(data: RequestData) {\n  return post('/api/permissions/delete_template', data).catch(throwGlobalError);\n}\n\n/**\n * Set default permission template for a given qualifier\n */\nexport function setDefaultPermissionTemplate(templateId: string, qualifier: string): Promise<void> {\n  return post('/api/permissions/set_default_template', { templateId, qualifier });\n}\n\nexport function applyTemplateToProject(data: RequestData) {\n  return post('/api/permissions/apply_template', data).catch(throwGlobalError);\n}\n\nexport function bulkApplyTemplate(data: BaseSearchProjectsParameters): Promise<void> {\n  return post('/api/permissions/bulk_apply_template', data);\n}\n\nexport function grantTemplatePermissionToUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/add_user_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/remove_user_from_template', data);\n}\n\nexport function grantTemplatePermissionToGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/add_group_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/remove_group_from_template', data);\n}\n\nexport function addProjectCreatorToTemplate(templateId: string, permission: string): Promise<void> {\n  return post('/api/permissions/add_project_creator_to_template', { templateId, permission });\n}\n\nexport function removeProjectCreatorFromTemplate(\n  templateId: string,\n  permission: string\n): Promise<void> {\n  return post('/api/permissions/remove_project_creator_from_template', { templateId, permission });\n}\n\nexport function getPermissionsUsersForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data).catch(throwGlobalError);\n}\n\nexport function getPermissionsGroupsForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data).catch(throwGlobalError);\n}\n\nexport function getGlobalPermissionsUsers(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data);\n}\n\nexport function getGlobalPermissionsGroups(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data);\n}\n\nexport function getPermissionTemplateUsers(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_users', data).then(r => r.users);\n}\n\nexport function getPermissionTemplateGroups(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_groups', data).then(r => r.groups);\n}\n\nexport function changeProjectVisibility(\n  project: string,\n  visibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_visibility', { project, visibility }).catch(throwGlobalError);\n}\n\nexport function changeProjectDefaultVisibility(\n  organization: string,\n  projectVisibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_default_visibility', { organization, projectVisibility }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport { range } from 'lodash';\nimport * as React from 'react';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { ButtonIcon, ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport CalendarIcon from 'sonar-ui-common/components/icons/CalendarIcon';\nimport ChevronLeftIcon from 'sonar-ui-common/components/icons/ChevronLeftIcon';\nimport ChevronRightIcon from 'sonar-ui-common/components/icons/ChevronRightIcon';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport {\n  getShortMonthName,\n  getShortWeekDayName,\n  getWeekDayName\n} from 'sonar-ui-common/helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoadComponent(() => import('react-day-picker'), 'DayPicker');\n\ninterface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { lastHovered } = this.state;\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <InputWrapper\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            innerRef={node => (this.input = node)}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            type=\"text\"\n            value={value}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ClearButton\n              className=\"button-tiny date-input-control-reset\"\n              iconProps={{ size: 12 }}\n              onClick={this.handleResetClick}\n            />\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n\ntype InputWrapperProps = T.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value'> &\n  InjectedIntlProps & {\n    innerRef: React.Ref<HTMLInputElement>;\n    value: Date | undefined;\n  };\n\nconst InputWrapper = injectIntl(({ innerRef, intl, value, ...other }: InputWrapperProps) => {\n  const formattedValue =\n    value && intl.formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n  return <input {...other} ref={innerRef} value={formattedValue || ''} />;\n});\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\ntype NavComponent = T.Omit<T.Component, 'alm' | 'qualifier' | 'leakPeriodDate' | 'path' | 'tags'>;\n\nexport function getComponentNavigation(\n  data: { component: string } & BranchParameters\n): Promise<NavComponent> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface PrivacyBadgeContainerProps {\n  className?: string;\n  qualifier: string;\n  visibility: T.Visibility;\n}\n\nexport default function PrivacyBadgeContainer({\n  className,\n  qualifier,\n  visibility\n}: PrivacyBadgeContainerProps) {\n  if (visibility !== 'private') {\n    return null;\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      <div className={classNames('badge', className)}>{translate('visibility', visibility)}</div>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  canTurnToPrivate?: boolean;\n  className?: string;\n  onChange: (visibility: T.Visibility) => void;\n  showDetails?: boolean;\n  visibility?: T.Visibility;\n}\n\nexport default class VisibilitySelector extends React.PureComponent<Props> {\n  render() {\n    return (\n      <div className={classNames(this.props.className)}>\n        {['public', 'private'].map(visibility => (\n          <Radio\n            className={`huge-spacer-right visibility-${visibility}`}\n            key={visibility}\n            value={visibility}\n            checked={this.props.visibility === visibility}\n            onCheck={this.props.onChange}\n            disabled={visibility === 'private' && !this.props.canTurnToPrivate}>\n            <div>\n              {translate('visibility', visibility)}\n              {this.props.showDetails && (\n                <p className=\"note\">{translate('visibility', visibility, 'description.long')}</p>\n              )}\n            </div>\n          </Radio>\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { applyTemplateToProject, getPermissionTemplates } from '../../../../api/permissions';\n\ninterface Props {\n  onApply?: () => void;\n  onClose: () => void;\n  organization: string | undefined;\n  project: { key: string; name: string };\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n}\n\nexport default class ApplyTemplate extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissionTemplates = () => {\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, permissionTemplates });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleSubmit = () => {\n    if (this.state.permissionTemplate) {\n      return applyTemplateToProject({\n        organization: this.props.organization,\n        projectKey: this.props.project.key,\n        templateId: this.state.permissionTemplate\n      }).then(() => {\n        if (this.mounted) {\n          if (this.props.onApply) {\n            this.props.onApply();\n          }\n          this.setState({ done: true });\n        }\n      });\n    } else {\n      return Promise.reject(undefined);\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  render() {\n    const header = translateWithParameters(\n      'projects_role.apply_template_to_xxx',\n      this.props.project.name\n    );\n\n    return (\n      <SimpleModal\n        header={header}\n        onClose={this.props.onClose}\n        onSubmit={this.handleSubmit}\n        size=\"small\">\n        {({ onCloseClick, onFormSubmit, submitting }) => (\n          <form id=\"project-permissions-apply-template-form\" onSubmit={onFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              {this.state.done ? (\n                <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n              ) : (\n                <>\n                  {this.state.loading ? (\n                    <i className=\"spinner\" />\n                  ) : (\n                    <div className=\"modal-field\">\n                      <label htmlFor=\"project-permissions-template\">\n                        {translate('template')}\n                        <em className=\"mandatory\">*</em>\n                      </label>\n                      {this.state.permissionTemplates && (\n                        <Select\n                          clearable={false}\n                          id=\"project-permissions-template\"\n                          onChange={this.handlePermissionTemplateChange}\n                          options={this.state.permissionTemplates.map(permissionTemplate => ({\n                            label: permissionTemplate.name,\n                            value: permissionTemplate.id\n                          }))}\n                          value={this.state.permissionTemplate}\n                        />\n                      )}\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n              {!this.state.done && (\n                <SubmitButton disabled={submitting || !this.state.permissionTemplate}>\n                  {translate('apply')}\n                </SubmitButton>\n              )}\n              <ResetButtonLink onClick={onCloseClick}>\n                {translate(this.state.done ? 'close' : 'cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n"],"sourceRoot":""}