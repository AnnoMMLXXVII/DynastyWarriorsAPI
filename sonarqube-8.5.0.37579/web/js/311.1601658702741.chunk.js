(window.webpackJsonp=window.webpackJsonp||[]).push([[311],{2219:function(e,t,n){"use strict";n.r(t);var r=n(13),o=n(681),a=n(176),i=n(711),u=n(704),c=n(684),l=n(785),s=n(956),p=n(673),f=n.n(p);function g(){return r.createElement("header",{className:"page-header"},r.createElement("div",{className:"page-title display-flex-center"},r.createElement("h1",null,Object(a.translate)("project_quality_profiles.page")),r.createElement(f.a,{className:"spacer-left",overlay:r.createElement("div",{className:"big-padded-top big-padded-bottom"},Object(a.translate)("quality_profiles.list.projects.help"))})),r.createElement("div",{className:"page-description"},Object(a.translate)("project_quality_profiles.page.description")))}var d,m=n(945),h=n.n(m),y=n(726),v=n.n(y),O=n(693),b=n.n(O),j=(d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!1},t.stopLoading=function(){t.mounted&&t.setState({loading:!1})},t.handleChange=function(e){t.props.profile.key!==e.value&&(t.setState({loading:!0}),t.props.onChangeProfile(t.props.profile.key,e.value).then(t.stopLoading,t.stopLoading))},t.renderProfileName=function(e){return e.isDefault?r.createElement("span",null,r.createElement("strong",null,Object(a.translate)("default")),": ",e.label):r.createElement("span",null,e.label)},t}return j(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.renderProfileSelect=function(){var e=this.props,t=e.profile,n=e.possibleProfiles.map((function(e){return{value:e.key,label:e.name,isDefault:e.isDefault}}));return r.createElement(b.a,{clearable:!1,disabled:this.state.loading,onChange:this.handleChange,optionRenderer:this.renderProfileName,options:n,style:{width:300},value:t.key,valueRenderer:this.renderProfileName})},t.prototype.render=function(){var e=this.props.profile;return r.createElement("tr",{"data-key":e.language},r.createElement("td",{className:"thin nowrap"},e.languageName),r.createElement("td",{className:"thin nowrap"},this.renderProfileSelect()),r.createElement("td",null,this.state.loading&&r.createElement("i",{className:"spinner"})))},t}(r.PureComponent);function P(e){var t=v()(e.allProfiles,"language"),n=h()(e.profiles,"languageName").map((function(n){return r.createElement(_,{key:n.language,onChangeProfile:e.onChangeProfile,possibleProfiles:t[n.language],profile:n})}));return r.createElement("div",{className:"boxed-group boxed-group-inner"},r.createElement("table",{className:"data zebra"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"thin nowrap"},Object(a.translate)("language")),r.createElement("th",{className:"thin nowrap"},Object(a.translate)("quality_profile")),r.createElement("th",null,"Â "))),r.createElement("tbody",null,n)))}var q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i];return r},k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0},t.handleChangeProfile=function(e,n){var r,o=t.props.component,u=t.state,c=u.allProfiles,s=u.profiles,p=c&&c.find((function(t){return t.key===e})),f=c&&c.find((function(e){return e.key===n}));return f&&(r=f.isDefault&&p?Object(i.m)(p,o.key):Object(i.d)(f,o.key)),r?r.then((function(){if(t.mounted&&s&&f){var n=E(s.filter((function(t){return t.key!==e})),[f]);t.setState({profiles:n}),Object(l.a)(Object(a.translateWithParameters)("project_quality_profile.successfully_updated",f.languageName))}})):Promise.resolve()},t}return q(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.checkPermissions()?this.fetchProfiles():Object(s.a)()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.checkPermissions=function(){var e=this.props.component.configuration;return!!(e&&e.showQualityProfiles)},t.prototype.fetchProfiles=function(){var e=this,t=this.props.component,n=t.key,r=t.organization;Promise.all([Object(i.A)({organization:r}).then((function(e){return e.profiles})),Object(i.A)({organization:r,project:n}).then((function(e){return e.profiles}))]).then((function(t){var n=t[0],r=t[1];e.mounted&&e.setState({loading:!1,allProfiles:n,profiles:r})}),(function(){e.mounted&&e.setState({loading:!1})}))},t.prototype.render=function(){if(!this.checkPermissions())return null;var e=this.state,t=e.allProfiles,n=e.loading,i=e.profiles;return r.createElement("div",{className:"page page-limited"},r.createElement(c.a,{suggestions:"project_quality_profiles"}),r.createElement(o.a,{defer:!1,title:Object(a.translate)("project_quality_profiles.page")}),r.createElement(u.a,{anchor:"profiles_main"}),r.createElement(g,null),n?r.createElement("i",{className:"spinner"}):t&&i&&r.createElement(P,{allProfiles:t,onChangeProfile:this.handleChangeProfile,profiles:i}))},t}(r.PureComponent);t.default=k},673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(660),o=n(13),a=n(721),i=n(687);n(688);var u=n(667);t.default=function(e){var t=e.tagName,n=void 0===t?"div":t;return o.createElement(n,{className:r("help-tooltip",e.className)},o.createElement(u.default,{mouseLeaveDelay:.25,onShow:e.onShow,overlay:e.overlay,placement:e.placement},o.createElement("span",{className:"display-inline-flex-center"},e.children||o.createElement(i.ThemeConsumer,null,(function(e){return o.createElement(a.default,{fill:e.colors.gray71,size:12})})))))}},684:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,o=n(13),a=n(716),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function u(e){var t=e.suggestions;return o.createElement(a.a.Consumer,null,(function(e){var n=e.addSuggestions,r=e.removeSuggestions;return o.createElement(c,{addSuggestions:n,removeSuggestions:r,suggestions:t})}))}var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentDidMount=function(){this.props.addSuggestions(this.props.suggestions)},t.prototype.componentDidUpdate=function(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))},t.prototype.componentWillUnmount=function(){this.props.removeSuggestions(this.props.suggestions)},t.prototype.render=function(){return null},t}(o.PureComponent)},688:function(e,t,n){var r=n(662),o=n(689);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},i=(r(o,a),o.locals?o.locals:{});e.exports=i},689:function(e,t,n){(t=n(663)(!1)).push([e.i,".help-tooltip{display:inline-flex;align-items:center;vertical-align:middle}.help-toolip-link{display:block;width:12px;height:12px;border:none}",""]),e.exports=t},703:function(e,t,n){var r=n(702),o=n(683),a=n(778),i=n(715);e.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},704:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,o=n(13),a=n(176),i=n(751),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e){return o.createElement(i.a.Consumer,null,(function(t){var n=t.addA11ySkipLink,r=t.removeA11ySkipLink;return o.createElement(s,c({addA11ySkipLink:n,removeA11ySkipLink:r},e))}))}var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getLink=function(){var e=t.props,n=e.anchor,r=e.label;return{key:n,label:void 0===r?Object(a.translate)("skip_to_content"):r,weight:e.weight}},t}return u(t,e),t.prototype.componentDidMount=function(){this.props.addA11ySkipLink(this.getLink())},t.prototype.componentWillUnmount=function(){this.props.removeA11ySkipLink(this.getLink())},t.prototype.render=function(){var e=this.props.anchor;return o.createElement("span",{id:"a11y_target__"+e})},t}(o.PureComponent)},711:function(e,t,n){"use strict";n.d(t,"A",(function(){return l})),n.d(t,"s",(function(){return s})),n.d(t,"j",(function(){return p})),n.d(t,"y",(function(){return f})),n.d(t,"r",(function(){return g})),n.d(t,"q",(function(){return d})),n.d(t,"C",(function(){return m})),n.d(t,"x",(function(){return h})),n.d(t,"i",(function(){return y})),n.d(t,"l",(function(){return v})),n.d(t,"g",(function(){return O})),n.d(t,"t",(function(){return b})),n.d(t,"u",(function(){return j})),n.d(t,"o",(function(){return _})),n.d(t,"n",(function(){return P})),n.d(t,"p",(function(){return q})),n.d(t,"h",(function(){return E})),n.d(t,"d",(function(){return k})),n.d(t,"m",(function(){return N})),n.d(t,"B",(function(){return S})),n.d(t,"z",(function(){return w})),n.d(t,"c",(function(){return z})),n.d(t,"w",(function(){return C})),n.d(t,"b",(function(){return J})),n.d(t,"v",(function(){return x})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return L})),n.d(t,"a",(function(){return D})),n.d(t,"k",(function(){return M}));var r=n(703),o=n.n(r),a=n(812),i=n(49),u=n(675),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e){return Object(i.getJSON)("/api/qualityprofiles/search",e).catch(u.a)}function s(e){var t=e.compareToSonarWay,n=e.profile.key;return Object(i.getJSON)("/api/qualityprofiles/show",{compareToSonarWay:t,key:n})}function p(e){return Object(i.postJSON)("/api/qualityprofiles/create",e).catch(u.a)}function f(e){return Object(i.postJSON)("/api/qualityprofiles/restore",e).catch(u.a)}function g(e){return Object(i.getJSON)("/api/qualityprofiles/projects",e).catch(u.a)}function d(e){var t=e.language,n=e.name,r=e.organization;return Object(i.getJSON)("/api/qualityprofiles/inheritance",{language:t,qualityProfile:n,organization:r}).catch(u.a)}function m(e){var t=e.language,n=e.name,r=e.organization;return Object(i.post)("/api/qualityprofiles/set_default",{language:t,qualityProfile:n,organization:r})}function h(e,t){return Object(i.post)("/api/qualityprofiles/rename",{key:e,name:t}).catch(u.a)}function y(e,t){return Object(i.postJSON)("/api/qualityprofiles/copy",{fromKey:e,toName:t}).catch(u.a)}function v(e){var t=e.language,n=e.name,r=e.organization;return Object(i.post)("/api/qualityprofiles/delete",{language:t,qualityProfile:n,organization:r}).catch(u.a)}function O(e,t){var n=e.language,r=e.name,o=e.organization;return Object(i.post)("/api/qualityprofiles/change_parent",{language:n,qualityProfile:r,organization:o,parentQualityProfile:t?t.name:void 0}).catch(u.a)}function b(e){var t=e.language,n=e.name,r=e.organization;return"/api/qualityprofiles/backup?"+Object.entries({language:t,qualityProfile:n,organization:r}).map((function(e){var t=e[0],n=e[1];return t+"="+encodeURIComponent(n)})).join("&")}function j(e,t){var n=e.key,r=t.language,o=t.name,a=t.organization;return"/api/qualityprofiles/export?"+Object.entries({exporterKey:n,language:r,qualityProfile:o,organization:a}).map((function(e){var t=e[0],n=e[1];return t+"="+encodeURIComponent(n)})).join("&")}function _(){return Object(i.getJSON)("/api/qualityprofiles/importers").then((function(e){return e.importers}),u.a)}function P(){return Object(i.getJSON)("/api/qualityprofiles/exporters").then((function(e){return e.exporters}))}function q(e,t,n,r){var o=n.language,a=n.name,u=n.organization;return Object(i.getJSON)("/api/qualityprofiles/changelog",{since:e,to:t,language:o,qualityProfile:a,organization:u,p:r})}function E(e,t){return Object(i.getJSON)("/api/qualityprofiles/compare",{leftKey:e,rightKey:t})}function k(e,t){var n=e.language,r=e.name,o=e.organization;return Object(i.post)("/api/qualityprofiles/add_project",{language:n,qualityProfile:r,organization:o,project:t}).catch(u.a)}function N(e,t){var n=e.language,r=e.name,o=e.organization;return Object(i.post)("/api/qualityprofiles/remove_project",{language:n,qualityProfile:r,organization:o,project:t}).catch(u.a)}function S(e){return Object(i.getJSON)("/api/qualityprofiles/search_users",e).catch(u.a)}function w(e){return Object(i.getJSON)("/api/qualityprofiles/search_groups",e).catch(u.a)}function z(e){return Object(i.post)("/api/qualityprofiles/add_user",e).catch(u.a)}function C(e){return Object(i.post)("/api/qualityprofiles/remove_user",e).catch(u.a)}function J(e){return Object(i.post)("/api/qualityprofiles/add_group",e).catch(u.a)}function x(e){return Object(i.post)("/api/qualityprofiles/remove_group",e).catch(u.a)}function A(e){return Object(i.postJSON)("/api/qualityprofiles/activate_rules",e)}function L(e){return Object(i.postJSON)("/api/qualityprofiles/deactivate_rules",e)}function D(e){var t=e.params&&o()(e.params,(function(e,t){return t+"="+Object(a.csvEscape)(e)})).join(";");return Object(i.post)("/api/qualityprofiles/activate_rule",c(c({},e),{params:t})).catch(u.a)}function M(e){return Object(i.post)("/api/qualityprofiles/deactivate_rule",e).catch(u.a)}},726:function(e,t,n){var r=n(790),o=n(743),a=Object.prototype.hasOwnProperty,i=o((function(e,t,n){a.call(e,n)?e[n].push(t):r(e,n,[t])}));e.exports=i},785:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(742),o=n(741);function a(e){Object(o.default)().dispatch(r.b(e))}},812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csvEscape=function(e){return'"'+e.replace(/"/g,'\\"')+'"'}},956:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(182),o=n.n(r),a=n(894),i=n(741);function u(){var e=Object(i.default)(),t=o()(),n=window.location.pathname+window.location.search+window.location.hash;e.dispatch(Object(a.c)()),t.replace({pathname:"/sessions/new",query:{return_to:n}})}}}]);
//# sourceMappingURL=311.1601658702741.chunk.js.map