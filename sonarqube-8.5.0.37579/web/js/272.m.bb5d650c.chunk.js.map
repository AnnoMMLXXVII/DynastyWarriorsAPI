{"version":3,"sources":["webpack:///./node_modules/lodash/toPairs.js","webpack:///./node_modules/lodash/_createToPairs.js","webpack:///./node_modules/lodash/_baseToPairs.js","webpack:///./node_modules/lodash/_setToPairs.js","webpack:///./src/main/js/apps/component-measures/style.css?df54","webpack:///./src/main/js/apps/component-measures/style.css","webpack:///./node_modules/sonar-ui-common/components/charts/ColorGradientLegend.js","webpack:///./node_modules/sonar-ui-common/components/charts/ColorGradientLegend.css?f61a","webpack:///./node_modules/sonar-ui-common/components/charts/ColorGradientLegend.css","webpack:///./node_modules/sonar-ui-common/components/charts/TreeMap.js","webpack:///./node_modules/sonar-ui-common/components/charts/TreeMap.css?ab4e","webpack:///./node_modules/sonar-ui-common/components/charts/TreeMap.css","webpack:///./node_modules/sonar-ui-common/components/charts/TreeMapRect.js","webpack:///./node_modules/sonar-ui-common/components/charts/Histogram.js","webpack:///./node_modules/sonar-ui-common/components/charts/Histogram.css?7e27","webpack:///./node_modules/sonar-ui-common/components/charts/Histogram.css","webpack:///./node_modules/sonar-ui-common/components/icons/TreeIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/TreemapIcon.js","webpack:///./node_modules/d3-hierarchy/src/cluster.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack:///./node_modules/d3-hierarchy/src/array.js","webpack:///./node_modules/d3-hierarchy/src/pack/enclose.js","webpack:///./node_modules/d3-hierarchy/src/pack/siblings.js","webpack:///./node_modules/d3-hierarchy/src/accessors.js","webpack:///./node_modules/d3-hierarchy/src/constant.js","webpack:///./node_modules/d3-hierarchy/src/pack/index.js","webpack:///./node_modules/d3-hierarchy/src/treemap/round.js","webpack:///./node_modules/d3-hierarchy/src/treemap/dice.js","webpack:///./node_modules/d3-hierarchy/src/partition.js","webpack:///./node_modules/d3-hierarchy/src/stratify.js","webpack:///./node_modules/d3-hierarchy/src/tree.js","webpack:///./node_modules/d3-hierarchy/src/treemap/slice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack:///./node_modules/d3-hierarchy/src/treemap/index.js","webpack:///./node_modules/d3-hierarchy/src/treemap/binary.js","webpack:///./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack:///./src/main/js/apps/component-measures/config/bubbles.ts","webpack:///./src/main/js/apps/component-measures/config/domains.ts","webpack:///./src/main/js/apps/component-measures/utils.ts","webpack:///./src/main/js/apps/component-measures/sidebar/FacetMeasureValue.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/DomainFacet.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/ProjectOverviewFacet.tsx","webpack:///./src/main/js/apps/component-measures/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/component-measures/config/complementary.ts","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentCell.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/MeasureCell.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentsListRow.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/EmptyResult.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/ComponentsList.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/FilesView.tsx","webpack:///./src/main/js/components/charts/ColorBoxLegend.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/TreeMapView.tsx","webpack:///./src/main/js/apps/component-measures/components/Breadcrumb.tsx","webpack:///./src/main/js/apps/component-measures/components/Breadcrumbs.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureContentHeader.tsx","webpack:///./src/main/js/components/charts/LanguageDistribution.tsx","webpack:///./src/main/js/components/charts/LanguageDistributionContainer.tsx","webpack:///./src/main/js/apps/component-measures/components/LeakPeriodLegend.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureHeader.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureViewSelect.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureContent.tsx","webpack:///./src/main/js/apps/component-measures/drilldown/BubbleChart.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureOverview.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasureOverviewContainer.tsx","webpack:///./src/main/js/apps/component-measures/components/MeasuresEmpty.tsx","webpack:///./src/main/js/apps/component-measures/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/QualifierIcon.js","webpack:///./node_modules/sonar-ui-common/components/controls/ListFooter.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFormatter.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNow.js","webpack:///./node_modules/d3-selection/src/namespaces.js","webpack:///./node_modules/d3-selection/src/namespace.js","webpack:///./node_modules/d3-selection/src/creator.js","webpack:///./node_modules/d3-selection/src/selector.js","webpack:///./node_modules/d3-selection/src/selectorAll.js","webpack:///./node_modules/d3-selection/src/matcher.js","webpack:///./node_modules/d3-selection/src/selection/sparse.js","webpack:///./node_modules/d3-selection/src/selection/enter.js","webpack:///./node_modules/d3-selection/src/selection/data.js","webpack:///./node_modules/d3-selection/src/selection/sort.js","webpack:///./node_modules/d3-selection/src/selection/attr.js","webpack:///./node_modules/d3-selection/src/window.js","webpack:///./node_modules/d3-selection/src/selection/style.js","webpack:///./node_modules/d3-selection/src/selection/property.js","webpack:///./node_modules/d3-selection/src/selection/classed.js","webpack:///./node_modules/d3-selection/src/selection/text.js","webpack:///./node_modules/d3-selection/src/selection/html.js","webpack:///./node_modules/d3-selection/src/selection/raise.js","webpack:///./node_modules/d3-selection/src/selection/lower.js","webpack:///./node_modules/d3-selection/src/selection/insert.js","webpack:///./node_modules/d3-selection/src/selection/remove.js","webpack:///./node_modules/d3-selection/src/selection/clone.js","webpack:///./node_modules/d3-selection/src/selection/on.js","webpack:///./node_modules/d3-selection/src/selection/dispatch.js","webpack:///./node_modules/d3-selection/src/selection/index.js","webpack:///./node_modules/d3-selection/src/selection/select.js","webpack:///./node_modules/d3-selection/src/selection/selectAll.js","webpack:///./node_modules/d3-selection/src/selection/filter.js","webpack:///./node_modules/d3-selection/src/constant.js","webpack:///./node_modules/d3-selection/src/selection/exit.js","webpack:///./node_modules/d3-selection/src/selection/join.js","webpack:///./node_modules/d3-selection/src/selection/merge.js","webpack:///./node_modules/d3-selection/src/selection/order.js","webpack:///./node_modules/d3-selection/src/selection/call.js","webpack:///./node_modules/d3-selection/src/selection/nodes.js","webpack:///./node_modules/d3-selection/src/selection/node.js","webpack:///./node_modules/d3-selection/src/selection/size.js","webpack:///./node_modules/d3-selection/src/selection/empty.js","webpack:///./node_modules/d3-selection/src/selection/each.js","webpack:///./node_modules/d3-selection/src/selection/append.js","webpack:///./node_modules/d3-selection/src/selection/datum.js","webpack:///./node_modules/d3-selection/src/select.js","webpack:///./node_modules/d3-selection/src/create.js","webpack:///./node_modules/d3-selection/src/local.js","webpack:///./node_modules/d3-selection/src/sourceEvent.js","webpack:///./node_modules/d3-selection/src/point.js","webpack:///./node_modules/d3-selection/src/mouse.js","webpack:///./node_modules/d3-selection/src/selectAll.js","webpack:///./node_modules/d3-selection/src/touch.js","webpack:///./node_modules/d3-selection/src/touches.js","webpack:///./node_modules/sonar-ui-common/components/icons/IssueTypeIcon.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/BranchIcon.js","webpack:///./node_modules/sonar-ui-common/helpers/pages.js","webpack:///./node_modules/sonar-ui-common/components/icons/OpenCloseIcon.js","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/IssueIcon.js","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/LinkIcon.js","webpack:///./src/main/js/components/search-navigator.css?9a2e","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/sonar-ui-common/components/icons/HistoryIcon.js","webpack:///./node_modules/sonar-ui-common/components/icons/ListIcon.js","webpack:///./node_modules/sonar-ui-common/components/ui/PageActions.js","webpack:///./src/main/js/components/charts/ColorBoxLegend.css?a720","webpack:///./src/main/js/helpers/periods.ts","webpack:///./node_modules/sonar-ui-common/components/charts/BubbleChart.js","webpack:///./src/main/js/components/charts/ColorRatingsLegend.tsx","webpack:///./node_modules/sonar-ui-common/components/ui/FilesCounter.js","webpack:///./node_modules/sonar-ui-common/components/icons/BubblesIcon.js","webpack:///./src/main/js/components/charts/ColorBoxLegend.css","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css?3f5e","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css","webpack:///./node_modules/sonar-ui-common/node_modules/react-virtualized/dist/commonjs/AutoSizer/index.js","webpack:///./node_modules/sonar-ui-common/node_modules/react-virtualized/dist/commonjs/AutoSizer/AutoSizer.js","webpack:///./node_modules/sonar-ui-common/node_modules/react-virtualized/dist/commonjs/vendor/detectElementResize.js","webpack:///./node_modules/sonar-ui-common/components/charts/BubbleChart.css?300e","webpack:///./node_modules/sonar-ui-common/components/charts/BubbleChart.css","webpack:///./node_modules/d3-dispatch/src/dispatch.js","webpack:///./node_modules/d3-drag/src/noevent.js","webpack:///./node_modules/d3-drag/src/nodrag.js","webpack:///./node_modules/d3-drag/src/event.js","webpack:///./node_modules/d3-drag/src/drag.js","webpack:///./node_modules/d3-interpolate/src/basis.js","webpack:///./node_modules/d3-interpolate/src/constant.js","webpack:///./node_modules/d3-interpolate/src/color.js","webpack:///./node_modules/d3-interpolate/src/rgb.js","webpack:///./node_modules/d3-interpolate/src/basisClosed.js","webpack:///./node_modules/d3-interpolate/src/number.js","webpack:///./node_modules/d3-interpolate/src/string.js","webpack:///./node_modules/d3-interpolate/src/transform/parse.js","webpack:///./node_modules/d3-interpolate/src/transform/decompose.js","webpack:///./node_modules/d3-interpolate/src/transform/index.js","webpack:///./node_modules/d3-interpolate/src/zoom.js","webpack:///./node_modules/d3-interpolate/src/hsl.js","webpack:///./node_modules/d3-interpolate/src/hcl.js","webpack:///./node_modules/d3-interpolate/src/cubehelix.js","webpack:///./node_modules/d3-interpolate/src/quantize.js","webpack:///./node_modules/d3-timer/src/timer.js","webpack:///./node_modules/d3-timer/src/timeout.js","webpack:///./node_modules/d3-transition/src/transition/schedule.js","webpack:///./node_modules/d3-transition/src/interrupt.js","webpack:///./node_modules/d3-transition/src/transition/tween.js","webpack:///./node_modules/d3-transition/src/transition/interpolate.js","webpack:///./node_modules/d3-transition/src/transition/attr.js","webpack:///./node_modules/d3-transition/src/transition/attrTween.js","webpack:///./node_modules/d3-transition/src/transition/delay.js","webpack:///./node_modules/d3-transition/src/transition/duration.js","webpack:///./node_modules/d3-transition/src/transition/ease.js","webpack:///./node_modules/d3-transition/src/transition/on.js","webpack:///./node_modules/d3-transition/src/transition/remove.js","webpack:///./node_modules/d3-transition/src/transition/selection.js","webpack:///./node_modules/d3-transition/src/transition/style.js","webpack:///./node_modules/d3-transition/src/transition/styleTween.js","webpack:///./node_modules/d3-transition/src/transition/text.js","webpack:///./node_modules/d3-transition/src/transition/index.js","webpack:///./node_modules/d3-transition/src/transition/select.js","webpack:///./node_modules/d3-transition/src/transition/selectAll.js","webpack:///./node_modules/d3-transition/src/transition/filter.js","webpack:///./node_modules/d3-transition/src/transition/merge.js","webpack:///./node_modules/d3-transition/src/transition/transition.js","webpack:///./node_modules/d3-transition/src/transition/end.js","webpack:///./node_modules/d3-ease/src/poly.js","webpack:///./node_modules/d3-ease/src/sin.js","webpack:///./node_modules/d3-ease/src/back.js","webpack:///./node_modules/d3-ease/src/elastic.js","webpack:///./node_modules/d3-transition/src/selection/transition.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./node_modules/d3-transition/src/selection/index.js","webpack:///./node_modules/d3-transition/src/selection/interrupt.js","webpack:///./node_modules/d3-transition/src/active.js","webpack:///./node_modules/d3-zoom/src/constant.js","webpack:///./node_modules/d3-zoom/src/event.js","webpack:///./node_modules/d3-zoom/src/transform.js","webpack:///./node_modules/d3-zoom/src/noevent.js","webpack:///./node_modules/d3-zoom/src/zoom.js"],"names":["toPairs","createToPairs","module","exports","baseToPairs","getTag","mapToArray","setToPairs","keysFunc","object","tag","arrayMap","props","key","set","index","result","Array","size","forEach","value","api","content","__esModule","default","i","options","exported","locals","___CSS_LOADER_API_IMPORT___","push","Object","defineProperty","React","_a","className","colorScale","colorNA","_b","padding","height","width","colorRange","range","colorDomain","domain","lastColorIdx","length","lastDomainIdx","widthNoPadding","rectHeight","createElement","id","map","color","idx","offset","stopColor","String","transform","fill","x","y","d","dy","extendStatics","__extends","this","b","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","prototype","create","d3_hierarchy_1","TreeMapRect_1","TreeMap","_super","_this","apply","arguments","mostCommitPrefix","labels","sortedLabels","slice","sort","firstLabel","firstLabelLength","lastLabel","charAt","prefix","substr","prefixTokens","split","lastPrefixPart","render","items","hierarchy","children","sum","a","nodes","treemap","round","leaves","item","label","halfWidth","style","node","data","y1","y0","icon","itemKey","link","onClick","onRectangleClick","placement","x0","x1","tooltip","PureComponent","classNames","d3_scale_1","react_router_1","Tooltip_1","LinkIcon_1","SIZE_SCALE","scaleLinear","clamp","TreeMapRect","handleLinkClick","event","stopPropagation","handleRectClick","renderLink","Link","to","renderCell","cellStyles","left","top","backgroundColor","fontSize","lineHeight","cursor","isTextVisible","isIconVisible","role","tabIndex","maxWidth","overlay","undefined","d3_array_1","DEFAULT_PADDING","Histogram","renderBar","xScale","yScale","alignTicks","Math","bandwidth","renderValue","yValues","BAR_HEIGHT","yTooltips","dx","renderTick","yTicks","tick","historyTickClass","renderBars","bars","availableWidth","max","availableHeight","scaleBand","_","rangeRound","__assign","assign","t","s","n","call","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Icon_1","iconProps","_c","defaultSeparation","parent","meanXReduce","c","maxYReduce","separation","nodeSize","cluster","root","previousNode","eachAfter","reduce","meanX","maxY","leafLeft","right","leafRight","count","child","childs","Node","valued","defaultChildren","pop","depth","eachBefore","computeHeight","copyData","each","current","next","reverse","callback","compare","path","start","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","end","k","splice","descendants","links","source","target","copy","circles","array","m","random","shuffle","B","enclosesWeak","encloseBasis","extendBasis","j","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","Error","dr","r","r1","x2","y2","r2","x21","y21","r21","l","sqrt","x3","y3","r3","a2","a3","b2","b3","c2","c3","d1","d2","d3","ab","xa","xb","ya","yb","A","C","place","intersects","score","circle","previous","packEnclose","aa","ca","sj","sk","pack","enclose","optional","f","required","constantZero","defaultRadius","radius","radiusLeaf","packChildren","translateChild","min","constant","partition","positionNode","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","v","nextRight","moveSubtree","wm","wp","shift","change","z","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","bottom","tx","kx","ky","siblings","w","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","phi","squarifyRatio","ratio","row","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","rows","i0","i1","dice","squarify","custom","tile","paddingStack","paddingInner","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingOuter","sums","valueOffset","valueTarget","hi","mid","valueLeft","valueRight","xk","yk","resquarify","_squarify","bubbles","Reliability","ncloc","reliability_remediation_effort","bugs","colors","reliability_rating","Security","security_remediation_effort","vulnerabilities","security_rating","Maintainability","sqale_index","code_smells","sqale_rating","Coverage","complexity","coverage","uncovered_lines","yDomain","Duplications","duplicated_lines","duplicated_blocks","project_overview","categories","order","new_bugs","new_reliability_rating","new_reliability_remediation_effort","new_vulnerabilities","new_security_rating","new_security_remediation_effort","SecurityReview","new_security_hotspots","new_security_review_rating","new_security_hotspots_reviewed","security_hotspots","security_review_rating","security_hotspots_reviewed","new_code_smells","new_technical_debt","new_sqale_debt_ratio","new_maintainability_rating","sqale_debt_ratio","effort_to_reach_maintainability_rating_a","new_coverage","new_lines_to_cover","new_uncovered_lines","new_line_coverage","new_conditions_to_cover","new_uncovered_conditions","new_branch_coverage","lines_to_cover","line_coverage","conditions_to_cover","uncovered_conditions","branch_coverage","tests","test_errors","test_failures","skipped_tests","test_success_density","test_execution_time","new_duplicated_lines_density","new_duplicated_lines","new_duplicated_blocks","duplicated_lines_density","duplicated_files","Size","new_lines","lines","statements","functions","classes","files","directories","Complexity","Releasability","Issues","new_violations","new_blocker_violations","new_critical_violations","new_major_violations","new_minor_violations","new_info_violations","violations","blocker_violations","critical_violations","major_violations","minor_violations","info_violations","open_issues","reopened_issues","confirmed_issues","false_positive_issues","KNOWN_DOMAINS","BANNED_MEASURES","sortMeasures","domainName","measures","configOrder","metric","enhanceComponent","component","metrics","enhancedMeasures","measure","find","leak","isFileType","File","TestFile","includes","qualifier","isViewType","Portfolio","SubPortfolio","Application","groupByDomains","domains","name","hasList","hasTree","hasTreemap","type","hasBubbleChart","hasFullMeasures","branch","getBubbleMetrics","conf","isProjectOverview","parseView","rawView","view","parseQuery","urlQuery","selected","serializeQuery","query","FacetMeasureValue","displayLeak","Measure","metricKey","metricType","getValues","measureSelected","overviewSelected","hasOverview","handleHeaderClick","onToggle","hasFacetSelected","showFullMeasures","renderItemFacetStat","renderCategoryItem","renderItemsFacet","addMeasureCategories","filter","translateMetric","some","sortedItems","FacetItem","active","disabled","onChange","stat","renderOverviewFacet","helperMessageKey","helper","FacetBox","property","FacetHeader","open","values","FacetItemsList","ProjectOverviewFacet","facetName","state","openFacets","toggleFacet","setState","changeMetric","updateQuery","getOpenFacets","A11ySkipTarget","anchor","weight","selectedMetric","newOpenFacets","complementary","handleClick","isLeftClickEvent","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","preventDefault","componentKey","head","tail","isApp","rootComponent","title","branchLike","refKey","renderInner","href","MeasureCell","ComponentsListRow","otherMeasures","otherMetrics","rowClass","isSelected","EmptyResult","ComponentsList","components","selectedComponent","keyScope","super","getVisibleComponents","showBestMeasures","filtered","hasBestValue","handleShowBestMeasures","focusedMeasure","Boolean","bestValue","openSelected","selectedKey","handleOpen","selectPrevious","selectedIdx","visibleComponents","handleSelect","selectNext","scrollToElement","listContainer","elem","getElementsByClassName","topOffset","bottomOffset","defaultShowBestMeasures","attachShortcuts","prevProps","detachShortcuts","action","filteredComponents","hidingBestMeasures","ref","paging","Alert","variant","total","loadMore","fetchMore","loading","loadingMore","borderColor","COLORS","green","lightGreen","yellow","orange","red","LEVEL_COLORS","gray71","getTreemapComponents","getColorScale","colorMeasure","sizeMeasure","colorValue","rawSizeValue","sizeValue","Number","secondFontColor","baseFontColor","getTooltip","colorMetric","componentName","sizeMetric","getLevelColorScale","getPercentColorScale","higherValuesAreBetter","getRatingColorScale","formatted","treemapItems","renderLegend","AutoSizer","disableHeight","currentTarget","blur","canBrowse","isLast","breadcrumbItem","mounted","breadcrumbs","fetchBreadcrumbs","then","backToFirst","lastItem","MeasureContentHeader","cutLanguageName","languages","distribution","point","tokens","language","parseInt","langKey","lang","getLanguageName","formatDate","date","intl","formatDateTime","formatTime","period","leakClass","leakPeriodLabel","mode","Date","long","MeasureHeader","leakPeriod","measureValue","secondaryMeasure","isDiff","hasHistory","LanguageDistributionContainer","getOptions","handleChange","option","handleViewChange","renderOption","autoBlur","clearable","optionRenderer","searchable","valueRenderer","loadingMoreComponents","fetchComponentTree","metricKeys","opts","strategy","getComponentRequestParams","requestedMetric","baseComponentMetrics","Promise","all","join","baseComponent","fetchMoreComponents","pageIndex","updateSelected","updateView","onOpenComponent","router","container","focus","onSelectComponent","getSelectedIndex","findIndex","additionalFields","ps","setMetricSort","metricSortFilter","metricPeriodSort","asc","direction","metricSort","isFile","showShortcuts","SourceViewer","onIssueChange","renderMeasure","getMeasureVal","handleBubbleClick","inner","valuesColors","metricColors","line","description","translatedDescription","formatXTick","formatYTick","onBubbleClick","colorsMetric","getDescription","ColorRatingsLegend","renderChartHeader","renderBubbleChart","fetchComponents","metricsKey","updateLoading","renderContent","fetchComponent","MeasuresEmpty","getHelmetTitle","displayOverview","getSelectedMetric","domainMeasures","firstMeasure","handleIssueChange","refreshBranchStatus","newQuery","location","pathname","fetchBranchStatus","byKey","fetchMeasures","prevState","prevQuery","filteredKeys","getMeasuresPageMetricKeys","bannedMetrics","banQualityGateMeasure","Project","Suggestions","suggestions","defer","ScreenPositionHelper","mapDispatchToProps","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","qualifierIcons","app","ThemedIcon","theme","blue","brc","dev","dir","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","toLowerCase","FoundIcon","l10n_1","measures_1","DeferredSpinner_1","buttons_1","needReload","ready","hasMore","reload","Button","translate","translateWithParameters","formatMeasure","react_intl_1","dates_1","formatterOption","year","month","day","longFormatterOption","FormattedDate","parseDate","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","date_fns_1","DateTimeFormatter_1","originalChildren","hourPrecision","Fragment","differenceInHours","now","parsedDate","formattedDate","FormattedRelative","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","empty","querySelectorAll","matches","update","EnterNode","datum","_next","_parent","__data__","appendChild","insertBefore","bindIndex","group","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","NaN","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","add","classedRemove","remove","classedTrue","classedFalse","classedFunction","contains","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","constantNull","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","filterEvents","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","parseTypenames","typenames","onRemove","typename","on","__on","o","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","select","subgroups","subnode","subgroup","selectAll","selectorAll","match","matcher","bind","enterGroup","updateGroup","_enter","_exit","sparse","onenter","append","onupdate","onexit","merge","groups0","groups1","selection","m0","m1","merges","group0","group1","compareNode","sortgroups","sortgroup","attr","getAttributeNS","classed","text","html","creator","insert","before","clone","deep","dispatch","nextId","Local","toString","get","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","changedTouches","identifier","touches","touch","points","IssueIcon_1","baseAssignValue","createAggregator","groupBy","KNOWN_RATINGS","enhanceMeasure","getLeakValue","getRatingTooltip","finalMetricKey","decimals","small","level","formattedValue","omitExtraDecimalZeros","rating","toggleBodyClass","force","body","toggle","addSideBarClass","addWhitePageClass","addNoFooterPageClass","console","warn","removeSideBarClass","removeWhitePageClass","removeNoFooterPageClass","ChevronDownIcon_1","ChevronRightIcon_1","showClearButton","onClear","renderHelper","renderValueIndicator","fetching","defaultProps","getPosition","containerPos","pageYOffset","pageXOffset","debouncedOnResize","forceUpdate","BugIcon_1","CodeSmellIcon_1","SecurityHotspotIcon_1","VulnerabilityIcon_1","debounce","isObject","func","wait","leading","trailing","TypeError","FilesCounter_1","getPeriodLabel","dateFormatter","parameter","modeParam","getPeriodDate","isApplicationPeriod","project","d3_selection_1","d3_zoom_1","lodash_1","AutoSizer_1","BubbleChart","boundNode","zoom","scaleExtent","zoomed","resetZoom","zoomIdentity","getZoomLevelLabel","floor","renderXGrid","ticks","displayXGrid","renderYGrid","displayYGrid","renderXTicks","xTicks","displayXTicks","innerText","renderYTicks","displayYTicks","renderChart","xDomain","nice","sizeScale","sizeDomain","sizeRange","xScaleOriginal","yScaleOriginal","getXRange","getYRange","sortBy","Bubble","scale","getTicks","clipPath","componentDidUpdate","translateExtent","minX","maxX","minY","dMinY","format","ceil","uniqueTicksCount","uniq","ticksCount","stroke","fillRule","_AutoSizer","_interopRequireDefault","obj","enumerable","_extends3","_getPrototypeOf2","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","newObj","_interopRequireWildcard","_detectElementResize2","_React$PureComponent","_ref","_temp","_ret","_len","_key","concat","defaultHeight","defaultWidth","_onResize","_this$props","disableWidth","onResize","_parentNode","_height","offsetHeight","_width","offsetWidth","_style","newHeight","newWidth","_setRef","autoSizer","_autoSizer","nonce","HTMLElement","_detectElementResize","addResizeListener","removeResizeListener","_props","_state","outerStyle","overflow","childParams","propTypes","_window","self","global","attachEvent","requestFrame","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","resetTriggers","element","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","scrollListener","__resizeRAF__","__resizeLast__","checkTriggers","__resizeListeners__","animation","keyframeprefix","animationstartevent","domPrefixes","startEvents","pfx","elm","animationName","animationKeyframes","animationStyle","doc","elementStyle","position","getElementById","css","getElementsByTagName","styleSheet","cssText","createTextNode","createStyles","__animationListener__","detachEvent","noop","Dispatch","types","T","stopImmediatePropagation","noevent","__noselect","MozUserSelect","yesdrag","noclick","DragEvent","subject","basis","t1","v0","v1","v2","v3","t2","t3","linear","isNaN","gamma","nogamma","pow","exponential","rgb","g","opacity","rgbGamma","rgbSpline","spline","reA","reB","RegExp","cssNode","cssRoot","cssView","svgNode","am","bm","bs","bi","lastIndex","q","exec","number","one","zero","degrees","PI","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","interpolateTransformCss","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","rho","SQRT2","cosh","exp","S","ux0","p0","uy0","w0","ux1","p1","uy1","w1","log","b0","b1","r0","coshr0","u","sinh","duration","hsl","hue","h","hcl","cubehelixGamma","cubehelix","taskHead","taskTail","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","Infinity","sleep","nap","poke","clearInterval","setInterval","stop","elapsed","emptyOn","emptyTween","schedules","__transition","tween","ease","timing","init","schedule","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","resolve","reject","interrupt","polyIn","exponent","polyOut","polyInOut","backIn","overshoot","backOut","backInOut","tau","defaultTiming","asin","elasticIn","sin","amplitude","elasticOut","elasticInOut","ZoomEvent","Transform","applyX","applyY","invert","invertX","invertY","rescaleX","rescaleY","__zoom","defaultExtent","SVGElement","hasAttribute","viewBox","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","navigator","maxTouchPoints","defaultConstrain","extent","dx0","dx1","dy0","dy1","touchstarting","touchending","constrain","wheelDelta","touchable","listeners","clickDistance2","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","centroid","gesture","clean","__zooming","Gesture","taps","wheel","mouse","wheelidled","mousemoved","mouseupped","moved","k1","started","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","k0","translateBy","translateTo","emit","clickDistance"],"mappings":"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","file":"js/272.m.bb5d650c.chunk.js","sourcesContent":["var createToPairs = require('./_createToPairs'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable string keyed-value pairs for `object`\n * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n * entries are returned.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias entries\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the key-value pairs.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.toPairs(new Foo);\n * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n */\nvar toPairs = createToPairs(keys);\n\nmodule.exports = toPairs;\n","var baseToPairs = require('./_baseToPairs'),\n    getTag = require('./_getTag'),\n    mapToArray = require('./_mapToArray'),\n    setToPairs = require('./_setToPairs');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Creates a `_.toPairs` or `_.toPairsIn` function.\n *\n * @private\n * @param {Function} keysFunc The function to get the keys of a given object.\n * @returns {Function} Returns the new pairs function.\n */\nfunction createToPairs(keysFunc) {\n  return function(object) {\n    var tag = getTag(object);\n    if (tag == mapTag) {\n      return mapToArray(object);\n    }\n    if (tag == setTag) {\n      return setToPairs(object);\n    }\n    return baseToPairs(object, keysFunc(object));\n  };\n}\n\nmodule.exports = createToPairs;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n * of key-value pairs for `object` corresponding to the property names of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the key-value pairs.\n */\nfunction baseToPairs(object, props) {\n  return arrayMap(props, function(key) {\n    return [key, object[key]];\n  });\n}\n\nmodule.exports = baseToPairs;\n","/**\n * Converts `set` to its value-value pairs.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the value-value pairs.\n */\nfunction setToPairs(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = [value, value];\n  });\n  return result;\n}\n\nmodule.exports = setToPairs;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".domain-measures-value{margin-right:4px}.domain-measures-value span{line-height:16px}.domain-measures-value .rating{margin-left:-4px;margin-right:-4px}.search-navigator-facet .leak-box{height:24px;line-height:24px;padding:0 8px;margin-top:-1px;margin-right:-7px;border-radius:2px;box-sizing:border-box}.search-navigator-facet.active .leak-box,.search-navigator-facet:hover .leak-box{height:22px;margin-top:0;margin-right:-6px;border-top:none;border-bottom:none;border-right:none;border-top-left-radius:0;border-bottom-left-radius:0}.search-navigator-facet.active .leak-box{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.domain-measures-header{display:inline-block;padding:4px 10px;white-space:nowrap}.measure-details-metric,.measure-details-primary{display:flex;align-items:center}.measure-details-primary{flex-wrap:nowrap;justify-content:space-between}.measure-details-primary-actions{display:flex;align-items:center}.measure-details-secondary{display:inline-block;width:260px;margin-top:4px}.measure-details-component-row.selected{background-color:#cae3f2!important}.measure-details-component-cell{max-width:0}.measure-details-component-cell>div{max-width:100%}.domain-measures-value .rating,.measure-details-value .rating{width:18px;height:18px;line-height:18px;margin-top:-2px;margin-bottom:-2px;font-size:12px}.domain-measures-value .level{height:18px;line-height:18px;border-radius:18px;margin-top:-2px;margin-bottom:-2px;margin-right:-4px}.measure-details-treemap-legend{margin-right:-4px}.measure-details-treemap-legend.color-box-legend{margin-right:0}.measure-details-viewer .issue-list{min-width:600px;width:800px}@media (max-width:1320px){.measure-details-viewer .issue-list{width:calc(60vw - 80px)}}.measure-view-select{width:102px}.measure-view-select .Select-menu-outer{width:100px;border-top-right-radius:4px}.measure-content-header{display:flex;align-items:center}.measure-content-header-left{flex:1;min-width:0;white-space:nowrap}.measure-content-header-right .page-actions{margin-bottom:0}.measure-content-header-right{margin-left:16px;white-space:nowrap}.measure-favorite svg{vertical-align:middle}.measure-overview-bubble-chart{position:relative;border:1px solid #e6e6e6;background-color:#fff}.measure-overview-bubble-chart-content{padding:0 0 0 60px}.measure-overview-bubble-chart-header{display:flex;align-items:center;padding:16px;border-bottom:1px solid #e6e6e6}.measure-overview-bubble-chart-title{position:absolute}.measure-overview-bubble-chart-legend{display:flex;flex-direction:column;text-align:center;flex-grow:1}.measure-overview-bubble-chart-footer{padding:15px 60px;border-top:1px solid #e6e6e6;text-align:center;font-size:12px;line-height:1.4}.measure-overview-bubble-chart-axis{color:#777;font-size:12px}.measure-overview-bubble-chart-axis.x{position:relative;top:-8px;padding-bottom:8px;text-align:center}.measure-overview-bubble-chart-axis.y{position:absolute;top:50%;left:30px;transform:rotate(-90deg) translateX(-50%);transform-origin:left}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nrequire(\"./ColorGradientLegend.css\");\nvar NA_SPACING = 4;\nfunction ColorGradientLegend(_a) {\n    var className = _a.className, colorScale = _a.colorScale, colorNA = _a.colorNA, _b = _a.padding, padding = _b === void 0 ? [12, 24, 0, 0] : _b, height = _a.height, width = _a.width;\n    var colorRange = colorScale.range();\n    var colorDomain = colorScale.domain();\n    var lastColorIdx = colorRange.length - 1;\n    var lastDomainIdx = colorDomain.length - 1;\n    var widthNoPadding = width - padding[1];\n    var rectHeight = height - padding[0];\n    return (React.createElement(\"svg\", { className: className, height: height, width: width },\n        React.createElement(\"defs\", null,\n            React.createElement(\"linearGradient\", { id: \"gradient-legend\" }, colorRange.map(function (color, idx) { return (React.createElement(\"stop\", { key: idx, offset: idx / lastColorIdx, stopColor: String(color) })); }))),\n        React.createElement(\"g\", { transform: \"translate(\" + padding[3] + \", \" + padding[0] + \")\" },\n            React.createElement(\"rect\", { fill: \"url(#gradient-legend)\", height: rectHeight, width: widthNoPadding, x: 0, y: 0 }),\n            colorDomain.map(function (d, idx) { return (React.createElement(\"text\", { className: \"gradient-legend-text\", dy: \"-2px\", key: idx, x: widthNoPadding * (idx / lastDomainIdx), y: 0 }, d)); })),\n        colorNA && (React.createElement(\"g\", { transform: \"translate(\" + widthNoPadding + \", \" + padding[0] + \")\" },\n            React.createElement(\"rect\", { fill: colorNA, height: rectHeight, width: padding[1] - NA_SPACING, x: NA_SPACING, y: 0 }),\n            React.createElement(\"text\", { className: \"gradient-legend-na\", dy: \"-2px\", x: NA_SPACING + (padding[1] - NA_SPACING) / 2, y: 0 }, \"N/A\")))));\n}\nexports.default = ColorGradientLegend;\n//# sourceMappingURL=ColorGradientLegend.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./ColorGradientLegend.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".gradient-legend-na,.gradient-legend-text{text-anchor:middle;fill:#777;font-size:10px}.gradient-legend-text:first-of-type{text-anchor:start}.gradient-legend-text:last-of-type{text-anchor:end}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d3_hierarchy_1 = require(\"d3-hierarchy\");\nvar React = require(\"react\");\nrequire(\"./TreeMap.css\");\nvar TreeMapRect_1 = require(\"./TreeMapRect\");\nvar TreeMap = (function (_super) {\n    __extends(TreeMap, _super);\n    function TreeMap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mostCommitPrefix = function (labels) {\n            var sortedLabels = labels.slice(0).sort();\n            var firstLabel = sortedLabels[0];\n            var firstLabelLength = firstLabel.length;\n            var lastLabel = sortedLabels[sortedLabels.length - 1];\n            var i = 0;\n            while (i < firstLabelLength && firstLabel.charAt(i) === lastLabel.charAt(i)) {\n                i++;\n            }\n            var prefix = firstLabel.substr(0, i);\n            var prefixTokens = prefix.split(/[\\s\\\\/]/);\n            var lastPrefixPart = prefixTokens[prefixTokens.length - 1];\n            return prefix.substr(0, prefix.length - lastPrefixPart.length);\n        };\n        return _this;\n    }\n    TreeMap.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, items = _a.items, height = _a.height, width = _a.width;\n        var hierarchy = d3_hierarchy_1.hierarchy({ children: items })\n            .sum(function (d) { return d.size; })\n            .sort(function (a, b) { return (b.value || 0) - (a.value || 0); });\n        var treemap = d3_hierarchy_1.treemap().round(true).size([width, height]);\n        var nodes = treemap(hierarchy).leaves();\n        var prefix = this.mostCommitPrefix(items.map(function (item) { return item.label; }));\n        var halfWidth = width / 2;\n        return (React.createElement(\"div\", { className: \"sonar-d3\" },\n            React.createElement(\"div\", { className: \"treemap-container\", style: { width: width, height: height } }, nodes.map(function (node) { return (React.createElement(TreeMapRect_1.default, { fill: node.data.color, height: node.y1 - node.y0, icon: node.data.icon, itemKey: node.data.key, key: node.data.key, label: node.data.label, link: node.data.link, onClick: _this.props.onRectangleClick, placement: node.x0 === 0 || node.x1 < halfWidth ? 'right' : 'left', prefix: prefix, tooltip: node.data.tooltip, width: node.x1 - node.x0, x: node.x0, y: node.y0 })); }))));\n    };\n    return TreeMap;\n}(React.PureComponent));\nexports.default = TreeMap;\n//# sourceMappingURL=TreeMap.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./TreeMap.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".sonar-d3 .treemap-container{position:relative}.sonar-d3 .treemap-cell{position:absolute;border-right:1px solid #fff;border-bottom:1px solid #fff;box-sizing:border-box;text-align:center}.sonar-d3 .treemap-cell:focus{outline:none}.sonar-d3 .treemap-inner{display:inline-flex;vertical-align:middle;align-items:center;justify-content:center;flex-wrap:wrap;padding:0 4px;box-sizing:border-box;line-height:1.2}.sonar-d3 .treemap-inner .treemap-icon{flex-shrink:0}.sonar-d3 .treemap-inner .treemap-icon svg{margin-top:2px}.sonar-d3 .treemap-inner .treemap-text{flex-shrink:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}.sonar-d3 .treemap-link{position:absolute;z-index:2;top:5px;right:5px;line-height:14px;font-size:12px;border-bottom:none}.sonar-d3 .treemap-link:hover{color:#d1eafb}.sonar-d3 .treemap-link i,.sonar-d3 .treemap-link i:before{vertical-align:top;font-size:inherit;line-height:inherit}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar React = require(\"react\");\nvar react_router_1 = require(\"react-router\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nvar LinkIcon_1 = require(\"../icons/LinkIcon\");\nvar SIZE_SCALE = d3_scale_1.scaleLinear().domain([3, 15]).range([11, 18]).clamp(true);\nvar TreeMapRect = (function (_super) {\n    __extends(TreeMapRect, _super);\n    function TreeMapRect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleLinkClick = function (event) {\n            event.stopPropagation();\n        };\n        _this.handleRectClick = function () {\n            if (_this.props.onClick) {\n                _this.props.onClick(_this.props.itemKey);\n            }\n        };\n        _this.renderLink = function () {\n            var _a = _this.props, link = _a.link, height = _a.height, width = _a.width;\n            var hasMinSize = width >= 24 && height >= 24 && (width >= 48 || height >= 50);\n            if (!hasMinSize || link == null) {\n                return null;\n            }\n            return (React.createElement(react_router_1.Link, { className: \"treemap-link\", onClick: _this.handleLinkClick, to: link },\n                React.createElement(LinkIcon_1.default, null)));\n        };\n        _this.renderCell = function () {\n            var cellStyles = {\n                left: _this.props.x,\n                top: _this.props.y,\n                width: _this.props.width,\n                height: _this.props.height,\n                backgroundColor: _this.props.fill,\n                fontSize: SIZE_SCALE(_this.props.width / _this.props.label.length),\n                lineHeight: _this.props.height + \"px\",\n                cursor: _this.props.onClick != null ? 'pointer' : 'default',\n            };\n            var isTextVisible = _this.props.width >= 40 && _this.props.height >= 45;\n            var isIconVisible = _this.props.width >= 24 && _this.props.height >= 26;\n            return (React.createElement(\"div\", { className: \"treemap-cell\", onClick: _this.handleRectClick, role: \"treeitem\", style: cellStyles, tabIndex: 0 },\n                React.createElement(\"div\", { className: \"treemap-inner\", style: { maxWidth: _this.props.width } },\n                    isIconVisible && (React.createElement(\"span\", { className: classNames('treemap-icon', { 'spacer-right': isTextVisible }) }, _this.props.icon)),\n                    isTextVisible &&\n                        (_this.props.prefix ? (React.createElement(\"span\", { className: \"treemap-text\" },\n                            _this.props.prefix,\n                            React.createElement(\"br\", null),\n                            _this.props.label.substr(_this.props.prefix.length))) : (React.createElement(\"span\", { className: \"treemap-text\" }, _this.props.label)))),\n                _this.renderLink()));\n        };\n        return _this;\n    }\n    TreeMapRect.prototype.render = function () {\n        var _a = this.props, placement = _a.placement, tooltip = _a.tooltip;\n        return (React.createElement(Tooltip_1.default, { overlay: tooltip || undefined, placement: placement || 'left' }, this.renderCell()));\n    };\n    return TreeMapRect;\n}(React.PureComponent));\nexports.default = TreeMapRect;\n//# sourceMappingURL=TreeMapRect.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d3_array_1 = require(\"d3-array\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar React = require(\"react\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nrequire(\"./BarChart.css\");\nrequire(\"./Histogram.css\");\nvar BAR_HEIGHT = 10;\nvar DEFAULT_PADDING = [10, 10, 10, 10];\nvar Histogram = (function (_super) {\n    __extends(Histogram, _super);\n    function Histogram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Histogram.prototype.renderBar = function (d, index, xScale, yScale) {\n        var _a = this.props, alignTicks = _a.alignTicks, _b = _a.padding, padding = _b === void 0 ? DEFAULT_PADDING : _b;\n        var width = Math.round(xScale(d)) + 1;\n        var x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2);\n        return React.createElement(\"rect\", { className: \"bar-chart-bar\", height: BAR_HEIGHT, width: width, x: x, y: y });\n    };\n    Histogram.prototype.renderValue = function (d, index, xScale, yScale) {\n        var _a = this.props, alignTicks = _a.alignTicks, _b = _a.padding, padding = _b === void 0 ? DEFAULT_PADDING : _b, yValues = _a.yValues;\n        var value = yValues && yValues[index];\n        if (!value) {\n            return null;\n        }\n        var x = xScale(d) + (alignTicks ? padding[3] : 0);\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n        return (React.createElement(Tooltip_1.default, { overlay: this.props.yTooltips && this.props.yTooltips[index] },\n            React.createElement(\"text\", { className: \"bar-chart-tick histogram-value\", dx: \"1em\", dy: \"0.3em\", x: x, y: y }, value)));\n    };\n    Histogram.prototype.renderTick = function (index, xScale, yScale) {\n        var _a = this.props, alignTicks = _a.alignTicks, yTicks = _a.yTicks;\n        var tick = yTicks && yTicks[index];\n        if (!tick) {\n            return null;\n        }\n        var x = xScale.range()[0];\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n        var historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n        return (React.createElement(\"text\", { className: 'bar-chart-tick ' + historyTickClass, dx: alignTicks ? 0 : '-1em', dy: \"0.3em\", x: x, y: y }, tick));\n    };\n    Histogram.prototype.renderBars = function (xScale, yScale) {\n        var _this = this;\n        return (React.createElement(\"g\", null, this.props.bars.map(function (d, index) {\n            return (React.createElement(\"g\", { key: index },\n                _this.renderBar(d, index, xScale, yScale),\n                _this.renderValue(d, index, xScale, yScale),\n                _this.renderTick(index, xScale, yScale)));\n        })));\n    };\n    Histogram.prototype.render = function () {\n        var _a = this.props, bars = _a.bars, width = _a.width, height = _a.height, _b = _a.padding, padding = _b === void 0 ? DEFAULT_PADDING : _b;\n        var availableWidth = width - padding[1] - padding[3];\n        var xScale = d3_scale_1.scaleLinear()\n            .domain([0, d3_array_1.max(bars)])\n            .range([0, availableWidth]);\n        var availableHeight = height - padding[0] - padding[2];\n        var yScale = d3_scale_1.scaleBand()\n            .domain(bars.map(function (_, index) { return index; }))\n            .rangeRound([0, availableHeight]);\n        return (React.createElement(\"svg\", { className: \"bar-chart\", height: this.props.height, width: this.props.width },\n            React.createElement(\"g\", { transform: \"translate(\" + (this.props.alignTicks ? 4 : padding[3]) + \", \" + padding[0] + \")\" }, this.renderBars(xScale, yScale))));\n    };\n    return Histogram;\n}(React.PureComponent));\nexports.default = Histogram;\n//# sourceMappingURL=Histogram.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Histogram.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".histogram-tick{text-anchor:end}.histogram-tick-start,.histogram-value{text-anchor:start}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction TreeIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M15.045 2.467c0-0.277-0.225-0.503-0.503-0.503h-13.084c-0.277 0-0.503 0.225-0.503 0.503v1.007c0 0.277 0.225 0.503 0.503 0.503h13.084c0.277 0 0.503-0.225 0.503-0.503v-1.007zM15.045 5.487c0-0.277-0.194-0.503-0.432-0.503h-11.216c-0.238 0-0.432 0.225-0.432 0.503v1.007c0 0.277 0.193 0.503 0.432 0.503h11.216c0.238 0 0.432-0.225 0.432-0.503v-1.007zM15.045 8.506c0-0.277-0.161-0.503-0.359-0.503h-9.346c-0.198 0-0.359 0.225-0.359 0.503v1.007c0 0.277 0.161 0.503 0.359 0.503h9.346c0.198 0 0.359-0.225 0.359-0.503v-1.007zM15.045 11.527c0-0.277-0.129-0.503-0.287-0.503h-7.477c-0.159 0-0.288 0.225-0.288 0.503v1.007c0 0.277 0.129 0.503 0.288 0.503h7.477c0.159 0 0.287-0.225 0.287-0.503v-1.007z\", style: { fill: fill } })));\n}\nexports.default = TreeIcon;\n//# sourceMappingURL=TreeIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction TreemapIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, _c = _a.size, size = _c === void 0 ? 14 : _c, iconProps = __rest(_a, [\"fill\", \"size\"]);\n    return (React.createElement(Icon_1.default, __assign({ size: size }, iconProps),\n        React.createElement(\"path\", { d: \"M0 0h8v16h-8zM9.143 0h6.857v9.143h-6.857zM9.143 10.286h6.857v5.714h-6.857z\", style: { fill: fill } })));\n}\nexports.default = TreemapIcon;\n//# sourceMappingURL=TreemapIcon.js.map","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\n\nexport default function hierarchy(data, children) {\n  var root = new Node(data),\n      valued = +data.value && (root.value = data.value),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  if (children == null) children = defaultChildren;\n\n  while (node = nodes.pop()) {\n    if (valued) node.value = +node.data.value;\n    if ((childs = children(node.data)) && (n = childs.length)) {\n      node.children = new Array(n);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction defaultChildren(d) {\n  return d.children;\n}\n\nfunction copyData(node) {\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy\n};\n","export default function(callback) {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      callback(node), children = node.children;\n      if (children) for (i = 0, n = children.length; i < n; ++i) {\n        next.push(children[i]);\n      }\n    }\n  } while (next.length);\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], next = [], children, i, n;\n  while (node = nodes.pop()) {\n    next.push(node), children = node.children;\n    if (children) for (i = 0, n = children.length; i < n; ++i) {\n      nodes.push(children[i]);\n    }\n  }\n  while (node = next.pop()) {\n    callback(node);\n  }\n  return this;\n}\n","export default function(callback) {\n  var node = this, nodes = [node], children, i;\n  while (node = nodes.pop()) {\n    callback(node), children = node.children;\n    if (children) for (i = children.length - 1; i >= 0; --i) {\n      nodes.push(children[i]);\n    }\n  }\n  return this;\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  var nodes = [];\n  this.each(function(node) {\n    nodes.push(node);\n  });\n  return nodes;\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export var slice = Array.prototype.slice;\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle, slice} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(slice.call(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = circles.length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar keyPrefix = \"$\", // Protect against keys like “__proto__”.\n    preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var d,\n        i,\n        n = data.length,\n        root,\n        parent,\n        node,\n        nodes = new Array(n),\n        nodeId,\n        nodeKey,\n        nodeByKey = {};\n\n    for (i = 0; i < n; ++i) {\n      d = data[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = keyPrefix + (node.id = nodeId);\n        nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], nodeId = parentId(data[i], i, data);\n      if (nodeId == null || !(nodeId += \"\")) {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      } else {\n        parent = nodeByKey[keyPrefix + nodeId];\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = (x0 * valueRight + x1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = (y0 * valueRight + y1 * valueLeft) / value;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, y0 += (y1 - y0) * row.value / value);\n        else treemapSlice(row, x0, y0, x0 += (x1 - x0) * row.value / value, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { MetricKey } from '../../../types/metrics';\n\nexport const bubbles: {\n  [domain: string]: {\n    x: string;\n    y: string;\n    size: string;\n    colors?: string[];\n    yDomain?: [number, number];\n  };\n} = {\n  Reliability: {\n    x: MetricKey.ncloc,\n    y: MetricKey.reliability_remediation_effort,\n    size: MetricKey.bugs,\n    colors: [MetricKey.reliability_rating]\n  },\n  Security: {\n    x: MetricKey.ncloc,\n    y: MetricKey.security_remediation_effort,\n    size: MetricKey.vulnerabilities,\n    colors: [MetricKey.security_rating]\n  },\n  Maintainability: {\n    x: MetricKey.ncloc,\n    y: MetricKey.sqale_index,\n    size: MetricKey.code_smells,\n    colors: [MetricKey.sqale_rating]\n  },\n  Coverage: {\n    x: MetricKey.complexity,\n    y: MetricKey.coverage,\n    size: MetricKey.uncovered_lines,\n    yDomain: [100, 0]\n  },\n  Duplications: {\n    x: MetricKey.ncloc,\n    y: MetricKey.duplicated_lines,\n    size: MetricKey.duplicated_blocks\n  },\n  project_overview: {\n    x: MetricKey.sqale_index,\n    y: MetricKey.coverage,\n    size: MetricKey.ncloc,\n    colors: [MetricKey.reliability_rating, MetricKey.security_rating],\n    yDomain: [100, 0]\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { MetricKey } from '../../../types/metrics';\n\ninterface Domains {\n  [domain: string]: { categories?: string[]; order: string[] };\n}\n\nexport const domains: Domains = {\n  Reliability: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_bugs,\n      MetricKey.new_reliability_rating,\n      MetricKey.new_reliability_remediation_effort,\n\n      'overall_category',\n      MetricKey.bugs,\n      MetricKey.reliability_rating,\n      MetricKey.reliability_remediation_effort\n    ]\n  },\n\n  Security: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_vulnerabilities,\n      MetricKey.new_security_rating,\n      MetricKey.new_security_remediation_effort,\n\n      'overall_category',\n      MetricKey.vulnerabilities,\n      MetricKey.security_rating,\n      MetricKey.security_remediation_effort\n    ]\n  },\n\n  SecurityReview: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_security_hotspots,\n      MetricKey.new_security_review_rating,\n      MetricKey.new_security_hotspots_reviewed,\n\n      'overall_category',\n      MetricKey.security_hotspots,\n      MetricKey.security_review_rating,\n      MetricKey.security_hotspots_reviewed\n    ]\n  },\n\n  Maintainability: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_code_smells,\n      MetricKey.new_technical_debt,\n      MetricKey.new_sqale_debt_ratio,\n      MetricKey.new_maintainability_rating,\n\n      'overall_category',\n      MetricKey.code_smells,\n      MetricKey.sqale_index,\n      MetricKey.sqale_debt_ratio,\n      MetricKey.sqale_rating,\n      MetricKey.effort_to_reach_maintainability_rating_a\n    ]\n  },\n\n  Coverage: {\n    categories: ['new_code_category', 'overall_category', 'tests_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_coverage,\n      MetricKey.new_lines_to_cover,\n      MetricKey.new_uncovered_lines,\n      MetricKey.new_line_coverage,\n      MetricKey.new_conditions_to_cover,\n      MetricKey.new_uncovered_conditions,\n      MetricKey.new_branch_coverage,\n\n      'overall_category',\n      MetricKey.coverage,\n      MetricKey.lines_to_cover,\n      MetricKey.uncovered_lines,\n      MetricKey.line_coverage,\n      MetricKey.conditions_to_cover,\n      MetricKey.uncovered_conditions,\n      MetricKey.branch_coverage,\n\n      'tests_category',\n      MetricKey.tests,\n      MetricKey.test_errors,\n      MetricKey.test_failures,\n      MetricKey.skipped_tests,\n      MetricKey.test_success_density,\n      MetricKey.test_execution_time\n    ]\n  },\n\n  Duplications: {\n    categories: ['new_code_category', 'overall_category'],\n    order: [\n      'new_code_category',\n      MetricKey.new_duplicated_lines_density,\n      MetricKey.new_duplicated_lines,\n      MetricKey.new_duplicated_blocks,\n\n      'overall_category',\n      MetricKey.duplicated_lines_density,\n      MetricKey.duplicated_lines,\n      MetricKey.duplicated_blocks,\n      MetricKey.duplicated_files\n    ]\n  },\n\n  Size: {\n    order: [\n      MetricKey.new_lines,\n\n      MetricKey.ncloc,\n      MetricKey.lines,\n      MetricKey.statements,\n      MetricKey.functions,\n      MetricKey.classes,\n      MetricKey.files,\n      MetricKey.directories\n    ]\n  },\n\n  Complexity: {\n    order: ['complexity', 'function_complexity', 'file_complexity', 'class_complexity']\n  },\n\n  Releasability: {\n    order: ['releasability_rating', 'releasability_effort', 'alert_status']\n  },\n\n  Issues: {\n    order: [\n      MetricKey.new_violations,\n      MetricKey.new_blocker_violations,\n      MetricKey.new_critical_violations,\n      MetricKey.new_major_violations,\n      MetricKey.new_minor_violations,\n      MetricKey.new_info_violations,\n\n      MetricKey.violations,\n      MetricKey.blocker_violations,\n      MetricKey.critical_violations,\n      MetricKey.major_violations,\n      MetricKey.minor_violations,\n      MetricKey.info_violations,\n      MetricKey.open_issues,\n      MetricKey.reopened_issues,\n      MetricKey.confirmed_issues,\n      MetricKey.false_positive_issues\n    ]\n  }\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { groupBy, memoize, sortBy, toPairs } from 'lodash';\nimport { getLocalizedMetricName } from 'sonar-ui-common/helpers/l10n';\nimport { cleanQuery, parseAsString, serializeString } from 'sonar-ui-common/helpers/query';\nimport { enhanceMeasure } from '../../components/measure/utils';\nimport { isBranch, isPullRequest } from '../../helpers/branch-like';\nimport { getDisplayMetrics, isDiffMetric } from '../../helpers/measures';\nimport { BranchLike } from '../../types/branch-like';\nimport { ComponentQualifier } from '../../types/component';\nimport { bubbles } from './config/bubbles';\nimport { domains } from './config/domains';\n\nexport type View = 'list' | 'tree' | 'treemap';\n\nexport const PROJECT_OVERVEW = 'project_overview';\nexport const DEFAULT_VIEW: View = 'tree';\nexport const DEFAULT_METRIC = PROJECT_OVERVEW;\nexport const KNOWN_DOMAINS = [\n  'Releasability',\n  'Reliability',\n  'Security',\n  'SecurityReview',\n  'Maintainability',\n  'Coverage',\n  'Duplications',\n  'Size',\n  'Complexity'\n];\nconst BANNED_MEASURES = [\n  'blocker_violations',\n  'new_blocker_violations',\n  'critical_violations',\n  'new_critical_violations',\n  'major_violations',\n  'new_major_violations',\n  'minor_violations',\n  'new_minor_violations',\n  'info_violations',\n  'new_info_violations'\n];\n\nexport function filterMeasures(measures: T.MeasureEnhanced[]): T.MeasureEnhanced[] {\n  return measures.filter(measure => !BANNED_MEASURES.includes(measure.metric.key));\n}\n\nexport function sortMeasures(\n  domainName: string,\n  measures: Array<T.MeasureEnhanced | string>\n): Array<T.MeasureEnhanced | string> {\n  const config = domains[domainName] || {};\n  const configOrder = config.order || [];\n  return sortBy(measures, [\n    (item: T.MeasureEnhanced | string) => {\n      if (typeof item === 'string') {\n        return configOrder.indexOf(item);\n      }\n      const idx = configOrder.indexOf(item.metric.key);\n      return idx >= 0 ? idx : configOrder.length;\n    },\n    (item: T.MeasureEnhanced | string) =>\n      typeof item === 'string' ? item : getLocalizedMetricName(item.metric)\n  ]);\n}\n\nexport function addMeasureCategories(domainName: string, measures: T.MeasureEnhanced[]) {\n  const categories = domains[domainName] && domains[domainName].categories;\n  if (categories && categories.length > 0) {\n    return [...categories, ...measures];\n  }\n  return measures;\n}\n\nexport function enhanceComponent(\n  component: T.ComponentMeasure,\n  metric: Pick<T.Metric, 'key'> | undefined,\n  metrics: T.Dict<T.Metric>\n): T.ComponentMeasureEnhanced {\n  if (!component.measures) {\n    return { ...component, measures: [] };\n  }\n\n  const enhancedMeasures = component.measures.map(measure => enhanceMeasure(measure, metrics));\n  const measure = metric && enhancedMeasures.find(measure => measure.metric.key === metric.key);\n  const value = measure && measure.value;\n  const leak = measure && measure.leak;\n  return { ...component, value, leak, measures: enhancedMeasures };\n}\n\nexport function isFileType(component: T.ComponentMeasure): boolean {\n  return [ComponentQualifier.File, ComponentQualifier.TestFile].includes(\n    component.qualifier as ComponentQualifier\n  );\n}\n\nexport function isViewType(component: T.ComponentMeasure): boolean {\n  return [\n    ComponentQualifier.Portfolio,\n    ComponentQualifier.SubPortfolio,\n    ComponentQualifier.Application\n  ].includes(component.qualifier as ComponentQualifier);\n}\n\nexport function banQualityGateMeasure({\n  measures = [],\n  qualifier\n}: T.ComponentMeasure): T.Measure[] {\n  const bannedMetrics: string[] = [];\n  if (ComponentQualifier.Portfolio !== qualifier && ComponentQualifier.SubPortfolio !== qualifier) {\n    bannedMetrics.push('alert_status');\n  }\n  if (qualifier === ComponentQualifier.Application) {\n    bannedMetrics.push('releasability_rating', 'releasability_effort');\n  }\n  return measures.filter(measure => !bannedMetrics.includes(measure.metric));\n}\n\nexport const groupByDomains = memoize((measures: T.MeasureEnhanced[]) => {\n  const domains = toPairs(groupBy(measures, measure => measure.metric.domain)).map(r => ({\n    name: r[0],\n    measures: r[1]\n  }));\n\n  return sortBy(domains, [\n    (domain: { name: string; measures: T.MeasureEnhanced[] }) => {\n      const idx = KNOWN_DOMAINS.indexOf(domain.name);\n      return idx >= 0 ? idx : KNOWN_DOMAINS.length;\n    },\n    'name'\n  ]);\n});\n\nexport function hasList(metric: string): boolean {\n  return !['releasability_rating', 'releasability_effort'].includes(metric);\n}\n\nexport function hasTree(metric: string): boolean {\n  return metric !== 'alert_status';\n}\n\nexport function hasTreemap(metric: string, type: string): boolean {\n  return ['PERCENT', 'RATING', 'LEVEL'].includes(type) && hasTree(metric);\n}\n\nexport function hasBubbleChart(domainName: string): boolean {\n  return bubbles[domainName] !== undefined;\n}\n\nexport function hasFacetStat(metric: string): boolean {\n  return metric !== 'alert_status';\n}\n\nexport function hasFullMeasures(branch?: BranchLike) {\n  return !branch || isBranch(branch);\n}\n\nexport function getMeasuresPageMetricKeys(metrics: T.Dict<T.Metric>, branch?: BranchLike) {\n  const metricKeys = getDisplayMetrics(Object.values(metrics)).map(metric => metric.key);\n\n  if (isPullRequest(branch)) {\n    return metricKeys.filter(key => isDiffMetric(key));\n  } else {\n    return metricKeys;\n  }\n}\n\nexport function getBubbleMetrics(domain: string, metrics: T.Dict<T.Metric>) {\n  const conf = bubbles[domain];\n  return {\n    x: metrics[conf.x],\n    y: metrics[conf.y],\n    size: metrics[conf.size],\n    colors: conf.colors && conf.colors.map(color => metrics[color])\n  };\n}\n\nexport function getBubbleYDomain(domain: string) {\n  return bubbles[domain].yDomain;\n}\n\nexport function isProjectOverview(metric: string) {\n  return metric === PROJECT_OVERVEW;\n}\n\nfunction parseView(metric: string, rawView?: string): View {\n  const view = (parseAsString(rawView) || DEFAULT_VIEW) as View;\n  if (!hasTree(metric)) {\n    return 'list';\n  } else if (view === 'list' && !hasList(metric)) {\n    return 'tree';\n  }\n  return view;\n}\n\nexport interface Query {\n  metric: string;\n  selected?: string;\n  view: View;\n}\n\nexport const parseQuery = memoize(\n  (urlQuery: T.RawQuery): Query => {\n    const metric = parseAsString(urlQuery['metric']) || DEFAULT_METRIC;\n    return {\n      metric,\n      selected: parseAsString(urlQuery['selected']),\n      view: parseView(metric, urlQuery['view'])\n    };\n  }\n);\n\nexport const serializeQuery = memoize((query: Query) => {\n  return cleanQuery({\n    metric: query.metric === DEFAULT_METRIC ? undefined : serializeString(query.metric),\n    selected: serializeString(query.selected),\n    view: query.view === DEFAULT_VIEW ? undefined : serializeString(query.view)\n  });\n});\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\n\ninterface Props {\n  displayLeak?: boolean;\n  measure: T.MeasureEnhanced;\n}\n\nexport default function FacetMeasureValue({ measure, displayLeak }: Props) {\n  if (isDiffMetric(measure.metric.key)) {\n    return (\n      <div\n        className={classNames('domain-measures-value', { 'leak-box': displayLeak })}\n        id={`measure-${measure.metric.key}-leak`}>\n        <Measure\n          metricKey={measure.metric.key}\n          metricType={measure.metric.type}\n          value={measure.leak}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"domain-measures-value\" id={`measure-${measure.metric.key}-value`}>\n      <Measure\n        metricKey={measure.metric.key}\n        metricType={measure.metric.type}\n        value={measure.value}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BubblesIcon from 'sonar-ui-common/components/icons/BubblesIcon';\nimport {\n  getLocalizedCategoryMetricName,\n  getLocalizedMetricDomain,\n  getLocalizedMetricName,\n  hasMessage,\n  translate\n} from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport {\n  addMeasureCategories,\n  filterMeasures,\n  hasBubbleChart,\n  hasFacetStat,\n  sortMeasures\n} from '../utils';\nimport FacetMeasureValue from './FacetMeasureValue';\n\ninterface Props {\n  domain: { name: string; measures: T.MeasureEnhanced[] };\n  onChange: (metric: string) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  selected: string;\n  showFullMeasures: boolean;\n}\n\nexport default class DomainFacet extends React.PureComponent<Props> {\n  getValues = () => {\n    const { domain, selected } = this.props;\n    const measureSelected = domain.measures.find(measure => measure.metric.key === selected);\n    const overviewSelected = domain.name === selected && this.hasOverview(domain.name);\n    if (measureSelected) {\n      return [getLocalizedMetricName(measureSelected.metric)];\n    }\n    return overviewSelected ? [translate('component_measures.domain_overview')] : [];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.domain.name);\n  };\n\n  hasFacetSelected = (\n    domain: { name: string },\n    measures: T.MeasureEnhanced[],\n    selected: string\n  ) => {\n    const measureSelected = measures.find(measure => measure.metric.key === selected);\n    const overviewSelected = domain.name === selected && this.hasOverview(domain.name);\n    return measureSelected || overviewSelected;\n  };\n\n  hasOverview = (domain: string) => {\n    return this.props.showFullMeasures && hasBubbleChart(domain);\n  };\n\n  renderItemFacetStat = (item: T.MeasureEnhanced) => {\n    return hasFacetStat(item.metric.key) ? (\n      <FacetMeasureValue displayLeak={this.props.showFullMeasures} measure={item} />\n    ) : null;\n  };\n\n  renderCategoryItem = (item: string) => {\n    return this.props.showFullMeasures || item === 'new_code_category' ? (\n      <span className=\"facet search-navigator-facet facet-category\" key={item}>\n        <span className=\"facet-name\">{translate('component_measures.facet_category', item)}</span>\n      </span>\n    ) : null;\n  };\n\n  renderItemsFacet = () => {\n    const { domain, selected } = this.props;\n    const items = addMeasureCategories(domain.name, filterMeasures(domain.measures));\n    const hasCategories = items.some(item => typeof item === 'string');\n    const translateMetric = hasCategories ? getLocalizedCategoryMetricName : getLocalizedMetricName;\n    let sortedItems = sortMeasures(domain.name, items);\n\n    sortedItems = sortedItems.filter((item, index) => {\n      return (\n        typeof item !== 'string' ||\n        (index + 1 !== sortedItems.length && typeof sortedItems[index + 1] !== 'string')\n      );\n    });\n\n    return sortedItems.map(item =>\n      typeof item === 'string' ? (\n        this.renderCategoryItem(item)\n      ) : (\n        <FacetItem\n          active={item.metric.key === selected}\n          disabled={false}\n          key={item.metric.key}\n          name={\n            <span className=\"big-spacer-left\" id={`measure-${item.metric.key}-name`}>\n              {translateMetric(item.metric)}\n            </span>\n          }\n          onClick={this.props.onChange}\n          stat={this.renderItemFacetStat(item)}\n          tooltip={translateMetric(item.metric)}\n          value={item.metric.key}\n        />\n      )\n    );\n  };\n\n  renderOverviewFacet = () => {\n    const { domain, selected } = this.props;\n    if (!this.hasOverview(domain.name)) {\n      return null;\n    }\n    return (\n      <FacetItem\n        active={domain.name === selected}\n        disabled={false}\n        key={domain.name}\n        name={\n          <span id={`measure-overview-${domain.name}-name`}>\n            {translate('component_measures.domain_overview')}\n          </span>\n        }\n        onClick={this.props.onChange}\n        stat={<BubblesIcon size={14} />}\n        tooltip={translate('component_measures.domain_overview')}\n        value={domain.name}\n      />\n    );\n  };\n\n  render() {\n    const { domain } = this.props;\n    const helperMessageKey = `component_measures.domain_facets.${domain.name}.help`;\n    const helper = hasMessage(helperMessageKey) ? translate(helperMessageKey) : undefined;\n    return (\n      <FacetBox property={domain.name}>\n        <FacetHeader\n          helper={helper}\n          name={getLocalizedMetricDomain(domain.name)}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && (\n          <FacetItemsList>\n            {this.renderOverviewFacet()}\n            {this.renderItemsFacet()}\n          </FacetItemsList>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\n\ninterface Props {\n  onChange: (metric: string) => void;\n  selected: string;\n  value: string;\n}\n\nexport default function ProjectOverviewFacet({ value, selected, onChange }: Props) {\n  const facetName = translate('component_measures.overview', value, 'facet');\n  return (\n    <FacetBox property={value}>\n      <FacetItemsList>\n        <FacetItem\n          active={value === selected}\n          disabled={false}\n          key={value}\n          name={<strong id={`measure-overview-${value}-name`}>{facetName}</strong>}\n          onClick={onChange}\n          tooltip={facetName}\n          value={value}\n        />\n      </FacetItemsList>\n    </FacetBox>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport { groupByDomains, KNOWN_DOMAINS, PROJECT_OVERVEW, Query } from '../utils';\nimport DomainFacet from './DomainFacet';\nimport ProjectOverviewFacet from './ProjectOverviewFacet';\n\ninterface Props {\n  measures: T.MeasureEnhanced[];\n  selectedMetric: string;\n  showFullMeasures: boolean;\n  updateQuery: (query: Partial<Query>) => void;\n}\n\ninterface State {\n  openFacets: T.Dict<boolean>;\n}\n\nexport default class Sidebar extends React.PureComponent<Props, State> {\n  static getDerivedStateFromProps(props: Props, state: State) {\n    return { openFacets: getOpenFacets(state.openFacets, props) };\n  }\n\n  state: State = {\n    openFacets: {}\n  };\n\n  toggleFacet = (name: string) => {\n    this.setState(({ openFacets }) => ({\n      openFacets: { ...openFacets, [name]: !openFacets[name] }\n    }));\n  };\n\n  changeMetric = (metric: string) => {\n    this.props.updateQuery({ metric });\n  };\n\n  render() {\n    const { showFullMeasures } = this.props;\n    return (\n      <div>\n        <A11ySkipTarget\n          anchor=\"measures_filters\"\n          label={translate('component_measures.skip_to_filters')}\n          weight={10}\n        />\n        <ProjectOverviewFacet\n          onChange={this.changeMetric}\n          selected={this.props.selectedMetric}\n          value={PROJECT_OVERVEW}\n        />\n        {groupByDomains(this.props.measures).map(domain => (\n          <DomainFacet\n            domain={domain}\n            key={domain.name}\n            onChange={this.changeMetric}\n            onToggle={this.toggleFacet}\n            open={this.state.openFacets[domain.name] === true}\n            selected={this.props.selectedMetric}\n            showFullMeasures={showFullMeasures}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nfunction getOpenFacets(openFacets: T.Dict<boolean>, { measures, selectedMetric }: Props) {\n  const newOpenFacets = { ...openFacets };\n  const measure = measures.find(measure => measure.metric.key === selectedMetric);\n  if (measure && measure.metric && measure.metric.domain) {\n    newOpenFacets[measure.metric.domain] = true;\n  } else if (KNOWN_DOMAINS.includes(selectedMetric)) {\n    newOpenFacets[selectedMetric] = true;\n  }\n  return newOpenFacets;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const complementary: T.Dict<string[]> = {\n  coverage: ['uncovered_lines', 'uncovered_conditions'],\n  line_coverage: ['uncovered_lines'],\n  branch_coverage: ['uncovered_conditions'],\n  uncovered_lines: ['line_coverage'],\n  uncovered_conditions: ['branch_coverage'],\n\n  new_coverage: ['new_uncovered_lines', 'new_uncovered_conditions'],\n  new_line_coverage: ['new_uncovered_lines'],\n  new_branch_coverage: ['new_uncovered_conditions'],\n  new_uncovered_lines: ['new_line_coverage'],\n  new_uncovered_conditions: ['new_branch_coverage'],\n\n  duplicated_lines_density: ['duplicated_lines'],\n  new_duplicated_lines_density: ['new_duplicated_lines'],\n  duplicated_lines: ['duplicated_lines_density'],\n  new_duplicated_lines: ['new_duplicated_lines_density']\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport BranchIcon from 'sonar-ui-common/components/icons/BranchIcon';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { splitPath } from 'sonar-ui-common/helpers/path';\nimport { getPathUrlAsString } from 'sonar-ui-common/helpers/urls';\nimport {\n  getBranchLikeUrl,\n  getComponentDrilldownUrlWithSelection,\n  getProjectUrl\n} from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { View } from '../utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasureEnhanced;\n  onClick: (component: string) => void;\n  metric: T.Metric;\n  rootComponent: T.ComponentMeasure;\n  view: View;\n}\n\nexport default class ComponentCell extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    const isLeftClickEvent = event.button === 0;\n    const isModifiedEvent = !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n\n    if (isLeftClickEvent && !isModifiedEvent) {\n      event.preventDefault();\n      this.props.onClick(this.props.component.key);\n    }\n  };\n\n  renderInner(componentKey: string) {\n    const { component } = this.props;\n    let head = '';\n    let tail = component.name;\n\n    if (\n      this.props.view === 'list' &&\n      ['FIL', 'UTS', 'DIR'].includes(component.qualifier) &&\n      component.path\n    ) {\n      ({ head, tail } = splitPath(component.path));\n    }\n\n    const isApp = this.props.rootComponent.qualifier === 'APP';\n\n    return (\n      <span title={componentKey}>\n        <QualifierIcon className=\"little-spacer-right\" qualifier={component.qualifier} />\n        {head.length > 0 && <span className=\"note\">{head}/</span>}\n        <span>{tail}</span>\n        {isApp && (\n          <>\n            {component.branch ? (\n              <>\n                <BranchIcon className=\"spacer-left little-spacer-right\" />\n                <span className=\"note\">{component.branch}</span>\n              </>\n            ) : (\n              <span className=\"spacer-left badge\">{translate('branches.main_branch')}</span>\n            )}\n          </>\n        )}\n      </span>\n    );\n  }\n\n  render() {\n    const { branchLike, component, metric, rootComponent } = this.props;\n    return (\n      <td className=\"measure-details-component-cell\">\n        <div className=\"text-ellipsis\">\n          {!component.refKey ? (\n            <a\n              className=\"link-no-underline\"\n              href={getPathUrlAsString(\n                getComponentDrilldownUrlWithSelection(\n                  rootComponent.key,\n                  component.key,\n                  metric.key,\n                  branchLike\n                )\n              )}\n              id={'component-measures-component-link-' + component.key}\n              onClick={this.handleClick}>\n              {this.renderInner(component.key)}\n            </a>\n          ) : (\n            <Link\n              className=\"link-no-underline\"\n              id={'component-measures-component-link-' + component.refKey}\n              to={\n                this.props.rootComponent.qualifier === 'APP'\n                  ? getProjectUrl(component.refKey, component.branch)\n                  : getBranchLikeUrl(component.refKey, branchLike)\n              }>\n              <span className=\"big-spacer-right\">\n                <LinkIcon />\n              </span>\n              {this.renderInner(component.refKey)}\n            </Link>\n          )}\n        </div>\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\n\ninterface Props {\n  component: T.ComponentMeasureEnhanced;\n  measure?: T.MeasureEnhanced;\n  metric: T.Metric;\n}\n\nexport default function MeasureCell({ component, measure, metric }: Props) {\n  const getValue = (item: { leak?: string; value?: string }) =>\n    isDiffMetric(metric.key) ? item.leak : item.value;\n\n  const value = getValue(measure || component);\n\n  return (\n    <td className=\"thin nowrap text-right\">\n      <span id={`component-measures-component-measure-${component.key}-${metric.key}`}>\n        <Measure metricKey={metric.key} metricType={metric.type} value={value} />\n      </span>\n    </td>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport { View } from '../utils';\nimport ComponentCell from './ComponentCell';\nimport MeasureCell from './MeasureCell';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasureEnhanced;\n  isSelected: boolean;\n  onClick: (component: string) => void;\n  otherMetrics: T.Metric[];\n  metric: T.Metric;\n  rootComponent: T.ComponentMeasure;\n  view: View;\n}\n\nexport default function ComponentsListRow(props: Props) {\n  const { branchLike, component, rootComponent } = props;\n  const otherMeasures = props.otherMetrics.map(metric => {\n    const measure = component.measures.find(measure => measure.metric.key === metric.key);\n    return { ...measure, metric };\n  });\n  const rowClass = classNames('measure-details-component-row', {\n    selected: props.isSelected\n  });\n  return (\n    <tr className={rowClass}>\n      <ComponentCell\n        branchLike={branchLike}\n        component={component}\n        metric={props.metric}\n        onClick={props.onClick}\n        rootComponent={rootComponent}\n        view={props.view}\n      />\n\n      <MeasureCell component={component} metric={props.metric} />\n\n      {otherMeasures.map(measure => (\n        <MeasureCell\n          component={component}\n          key={measure.metric.key}\n          measure={measure}\n          metric={measure.metric}\n        />\n      ))}\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport default function EmptyResult() {\n  return <div className=\"note\">{translate('no_results')}</div>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocalizedMetricName } from 'sonar-ui-common/helpers/l10n';\nimport { BranchLike } from '../../../types/branch-like';\nimport { complementary } from '../config/complementary';\nimport { View } from '../utils';\nimport ComponentsListRow from './ComponentsListRow';\nimport EmptyResult from './EmptyResult';\n\ninterface Props {\n  branchLike?: BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  onClick: (component: string) => void;\n  metric: T.Metric;\n  metrics: T.Dict<T.Metric>;\n  rootComponent: T.ComponentMeasure;\n  selectedComponent?: string;\n  view: View;\n}\n\nexport default function ComponentsList({ components, metric, metrics, ...props }: Props) {\n  if (!components.length) {\n    return <EmptyResult />;\n  }\n\n  const otherMetrics = (complementary[metric.key] || []).map(key => metrics[key]);\n  return (\n    <table className=\"data zebra zebra-hover\">\n      {otherMetrics.length > 0 && (\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th className=\"text-right\">\n              <span className=\"small\">{getLocalizedMetricName(metric)}</span>\n            </th>\n            {otherMetrics.map(metric => (\n              <th className=\"text-right\" key={metric.key}>\n                <span className=\"small\">{getLocalizedMetricName(metric)}</span>\n              </th>\n            ))}\n          </tr>\n        </thead>\n      )}\n\n      <tbody>\n        {components.map(component => (\n          <ComponentsListRow\n            component={component}\n            isSelected={component.key === props.selectedComponent}\n            key={component.key}\n            metric={metric}\n            otherMetrics={otherMetrics}\n            {...props}\n          />\n        ))}\n      </tbody>\n    </table>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { throttle } from 'lodash';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { isDiffMetric, isPeriodBestValue } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { View } from '../utils';\nimport ComponentsList from './ComponentsList';\n\ninterface Props {\n  branchLike?: BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  defaultShowBestMeasures: boolean;\n  fetchMore: () => void;\n  handleSelect: (component: string) => void;\n  handleOpen: (component: string) => void;\n  loadingMore: boolean;\n  metric: T.Metric;\n  metrics: T.Dict<T.Metric>;\n  paging?: T.Paging;\n  rootComponent: T.ComponentMeasure;\n  selectedKey?: string;\n  selectedIdx?: number;\n  view: View;\n}\n\ninterface State {\n  showBestMeasures: boolean;\n}\n\nconst keyScope = 'measures-files';\n\nexport default class FilesView extends React.PureComponent<Props, State> {\n  listContainer?: HTMLElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { showBestMeasures: props.defaultShowBestMeasures };\n    this.selectNext = throttle(this.selectNext, 100);\n    this.selectPrevious = throttle(this.selectPrevious, 100);\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n    if (this.props.selectedKey !== undefined) {\n      this.scrollToElement();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selectedKey !== undefined && prevProps.selectedKey !== this.props.selectedKey) {\n      this.scrollToElement();\n    }\n    if (prevProps.metric.key !== this.props.metric.key || prevProps.view !== this.props.view) {\n      this.setState({ showBestMeasures: this.props.defaultShowBestMeasures });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts() {\n    key('up', keyScope, () => {\n      this.selectPrevious();\n      return false;\n    });\n    key('down', keyScope, () => {\n      this.selectNext();\n      return false;\n    });\n    key('right', keyScope, () => {\n      this.openSelected();\n      return false;\n    });\n  }\n\n  detachShortcuts() {\n    ['up', 'down', 'right'].forEach(action => key.unbind(action, keyScope));\n  }\n\n  getVisibleComponents = () => {\n    const { components } = this.props;\n    if (this.state.showBestMeasures) {\n      return components;\n    }\n    const filtered = components.filter(component => !this.hasBestValue(component));\n    if (filtered.length === 0) {\n      return components;\n    }\n    return filtered;\n  };\n\n  handleShowBestMeasures = () => {\n    this.setState({ showBestMeasures: true });\n  };\n\n  hasBestValue = (component: T.ComponentMeasureEnhanced) => {\n    const { metric } = this.props;\n    const focusedMeasure = component.measures.find(measure => measure.metric.key === metric.key);\n    if (focusedMeasure && isDiffMetric(metric.key)) {\n      return isPeriodBestValue(focusedMeasure);\n    }\n    return Boolean(focusedMeasure && focusedMeasure.bestValue);\n  };\n\n  openSelected = () => {\n    if (this.props.selectedKey !== undefined) {\n      this.props.handleOpen(this.props.selectedKey);\n    }\n  };\n\n  selectPrevious = () => {\n    const { selectedIdx } = this.props;\n    const visibleComponents = this.getVisibleComponents();\n    if (selectedIdx !== undefined && selectedIdx > 0) {\n      this.props.handleSelect(visibleComponents[selectedIdx - 1].key);\n    } else {\n      this.props.handleSelect(visibleComponents[visibleComponents.length - 1].key);\n    }\n  };\n\n  selectNext = () => {\n    const { selectedIdx } = this.props;\n    const visibleComponents = this.getVisibleComponents();\n    if (selectedIdx !== undefined && selectedIdx < visibleComponents.length - 1) {\n      this.props.handleSelect(visibleComponents[selectedIdx + 1].key);\n    } else {\n      this.props.handleSelect(visibleComponents[0].key);\n    }\n  };\n\n  scrollToElement = () => {\n    if (this.listContainer) {\n      const elem = this.listContainer.getElementsByClassName('selected')[0];\n      if (elem) {\n        scrollToElement(elem, { topOffset: 215, bottomOffset: 100 });\n      }\n    }\n  };\n\n  render() {\n    const { components } = this.props;\n    const filteredComponents = this.getVisibleComponents();\n    const hidingBestMeasures = filteredComponents.length < components.length;\n    return (\n      <div ref={elem => (this.listContainer = elem)}>\n        <ComponentsList\n          branchLike={this.props.branchLike}\n          components={filteredComponents}\n          metric={this.props.metric}\n          metrics={this.props.metrics}\n          onClick={this.props.handleOpen}\n          rootComponent={this.props.rootComponent}\n          selectedComponent={this.props.selectedKey}\n          view={this.props.view}\n        />\n        {hidingBestMeasures && this.props.paging && (\n          <Alert className=\"spacer-top\" variant=\"info\">\n            <div className=\"display-flex-center\">\n              {translateWithParameters(\n                'component_measures.hidden_best_score_metrics',\n                formatMeasure(this.props.paging.total - filteredComponents.length, 'INT'),\n                formatMeasure(this.props.metric.bestValue, this.props.metric.type)\n              )}\n              <Button className=\"button-small spacer-left\" onClick={this.handleShowBestMeasures}>\n                {translate('show_them')}\n              </Button>\n            </div>\n          </Alert>\n        )}\n        {!hidingBestMeasures && this.props.paging && this.props.components.length > 0 && (\n          <ListFooter\n            count={this.props.components.length}\n            loadMore={this.props.fetchMore}\n            loading={this.props.loadingMore}\n            total={this.props.paging.total}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { ScaleLinear, ScaleOrdinal } from 'd3-scale';\nimport * as React from 'react';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport './ColorBoxLegend.css';\n\ninterface Props {\n  className?: string;\n  colorNA?: string;\n  colorScale:\n    | ScaleOrdinal<string, string> // used for LEVEL type\n    | ScaleLinear<string, string | number>; // used for RATING or PERCENT type\n  metricType: string;\n}\n\nexport default function ColorBoxLegend({ className, colorScale, colorNA, metricType }: Props) {\n  const colorDomain: Array<number | string> = colorScale.domain();\n  const colorRange = colorScale.range();\n  return (\n    <div className={classNames('color-box-legend', className)}>\n      {colorDomain.map((value, idx) => (\n        <div key={value}>\n          <span className=\"color-box-legend-rect\" style={{ borderColor: colorRange[idx] }}>\n            <span\n              className=\"color-box-legend-rect-inner\"\n              style={{ backgroundColor: colorRange[idx] }}\n            />\n          </span>\n          {formatMeasure(value, metricType)}\n        </div>\n      ))}\n      {colorNA && (\n        <div>\n          <span className=\"color-box-legend-rect\" style={{ borderColor: colorNA }}>\n            <span className=\"color-box-legend-rect-inner\" style={{ backgroundColor: colorNA }} />\n          </span>\n          N/A\n        </div>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { scaleLinear, scaleOrdinal } from 'd3-scale';\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized/dist/commonjs/AutoSizer';\nimport ColorGradientLegend from 'sonar-ui-common/components/charts/ColorGradientLegend';\nimport TreeMap, { TreeMapItem } from 'sonar-ui-common/components/charts/TreeMap';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport {\n  getLocalizedMetricName,\n  translate,\n  translateWithParameters\n} from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { colors } from '../../../app/theme';\nimport ColorBoxLegend from '../../../components/charts/ColorBoxLegend';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MetricKey } from '../../../types/metrics';\nimport EmptyResult from './EmptyResult';\n\ninterface Props {\n  branchLike?: BranchLike;\n  components: T.ComponentMeasureEnhanced[];\n  handleSelect: (component: string) => void;\n  metric: T.Metric;\n}\n\ninterface State {\n  treemapItems: TreeMapItem[];\n}\n\nconst HEIGHT = 500;\nconst COLORS = [colors.green, colors.lightGreen, colors.yellow, colors.orange, colors.red];\nconst LEVEL_COLORS = [colors.red, colors.orange, colors.green, colors.gray71];\n\nexport default class TreeMapView extends React.PureComponent<Props, State> {\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { treemapItems: this.getTreemapComponents(props) };\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.components !== this.props.components || prevProps.metric !== this.props.metric) {\n      this.setState({ treemapItems: this.getTreemapComponents(this.props) });\n    }\n  }\n\n  getTreemapComponents = ({ components, metric }: Props) => {\n    const colorScale = this.getColorScale(metric);\n    return components\n      .map(component => {\n        const colorMeasure = component.measures.find(measure => measure.metric.key === metric.key);\n        const sizeMeasure = component.measures.find(measure => measure.metric.key !== metric.key);\n        if (!sizeMeasure) {\n          return undefined;\n        }\n        const colorValue =\n          colorMeasure && (isDiffMetric(metric.key) ? colorMeasure.leak : colorMeasure.value);\n        const rawSizeValue = isDiffMetric(sizeMeasure.metric.key)\n          ? sizeMeasure.leak\n          : sizeMeasure.value;\n        if (rawSizeValue === undefined) {\n          return undefined;\n        }\n\n        const sizeValue = Number(rawSizeValue);\n        if (sizeValue < 1) {\n          return undefined;\n        }\n        return {\n          color:\n            colorValue !== undefined\n              ? (colorScale as Function)(colorValue)\n              : colors.secondFontColor,\n          icon: <QualifierIcon fill={colors.baseFontColor} qualifier={component.qualifier} />,\n          key: component.refKey || component.key,\n          label: component.name,\n          size: sizeValue,\n          tooltip: this.getTooltip({\n            colorMetric: metric,\n            colorValue,\n            componentName: component.name,\n            sizeMetric: sizeMeasure.metric,\n            sizeValue\n          })\n        };\n      })\n      .filter(isDefined);\n  };\n\n  getLevelColorScale = () =>\n    scaleOrdinal<string, string>()\n      .domain(['ERROR', 'WARN', 'OK', 'NONE'])\n      .range(LEVEL_COLORS);\n\n  getPercentColorScale = (metric: T.Metric) => {\n    const color = scaleLinear<string, string>().domain([0, 25, 50, 75, 100]);\n    color.range(metric.higherValuesAreBetter ? [...COLORS].reverse() : COLORS);\n    return color;\n  };\n\n  getRatingColorScale = () =>\n    scaleLinear<string, string>()\n      .domain([1, 2, 3, 4, 5])\n      .range(COLORS);\n\n  getColorScale = (metric: T.Metric) => {\n    if (metric.type === 'LEVEL') {\n      return this.getLevelColorScale();\n    }\n    if (metric.type === 'RATING') {\n      return this.getRatingColorScale();\n    }\n    return this.getPercentColorScale(metric);\n  };\n\n  getTooltip = ({\n    colorMetric,\n    colorValue,\n    componentName,\n    sizeMetric,\n    sizeValue\n  }: {\n    colorMetric: T.Metric;\n    colorValue?: string;\n    componentName: string;\n    sizeMetric: T.Metric;\n    sizeValue: number;\n  }) => {\n    const formatted =\n      colorMetric && colorValue !== undefined ? formatMeasure(colorValue, colorMetric.type) : '—';\n    return (\n      <div className=\"text-left\">\n        {componentName}\n        <br />\n        {`${getLocalizedMetricName(sizeMetric)}: ${formatMeasure(sizeValue, sizeMetric.type)}`}\n        <br />\n        {`${getLocalizedMetricName(colorMetric)}: ${formatted}`}\n      </div>\n    );\n  };\n\n  renderLegend() {\n    const { metric } = this.props;\n    const colorScale = this.getColorScale(metric);\n    if (['LEVEL', 'RATING'].includes(metric.type)) {\n      return (\n        <ColorBoxLegend\n          className=\"measure-details-treemap-legend color-box-full\"\n          colorScale={colorScale}\n          metricType={metric.type}\n        />\n      );\n    }\n    return (\n      <ColorGradientLegend\n        className=\"measure-details-treemap-legend\"\n        colorNA={colors.secondFontColor}\n        colorScale={colorScale}\n        height={20}\n        width={200}\n      />\n    );\n  }\n\n  render() {\n    const { treemapItems } = this.state;\n    if (treemapItems.length <= 0) {\n      return <EmptyResult />;\n    }\n    const { components, metric } = this.props;\n    const sizeMeasure =\n      components.length > 0\n        ? components[0].measures.find(measure => measure.metric.key !== metric.key)\n        : null;\n    return (\n      <div className=\"measure-details-treemap\">\n        <ul className=\"list-inline note spacer-bottom\">\n          <li>\n            {translateWithParameters(\n              'component_measures.legend.color_x',\n              getLocalizedMetricName(metric)\n            )}\n          </li>\n          <li>\n            {translateWithParameters(\n              'component_measures.legend.size_x',\n              translate(\n                'metric',\n                sizeMeasure && sizeMeasure.metric ? sizeMeasure.metric.key : MetricKey.ncloc,\n                'name'\n              )\n            )}\n          </li>\n          <li className=\"pull-right\">{this.renderLegend()}</li>\n        </ul>\n        <AutoSizer disableHeight={true}>\n          {({ width }) => (\n            <TreeMap\n              height={HEIGHT}\n              items={treemapItems}\n              onRectangleClick={this.props.handleSelect}\n              width={width}\n            />\n          )}\n        </AutoSizer>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { collapsePath, limitComponentName } from 'sonar-ui-common/helpers/path';\n\ninterface Props {\n  canBrowse: boolean;\n  component: T.ComponentMeasure;\n  isLast: boolean;\n  handleSelect: (component: string) => void;\n}\n\nexport default class Breadcrumb extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.handleSelect(this.props.component.key);\n  };\n\n  render() {\n    const { canBrowse, component, isLast } = this.props;\n    const isPath = component.qualifier === 'DIR';\n    const componentName = isPath\n      ? collapsePath(component.name, 15)\n      : limitComponentName(component.name);\n    const breadcrumbItem = canBrowse ? (\n      <a href=\"#\" onClick={this.handleClick}>\n        {componentName}\n      </a>\n    ) : (\n      <span>{componentName}</span>\n    );\n\n    return (\n      <span>\n        <Tooltip overlay={component.name !== componentName ? component.name : undefined}>\n          {breadcrumbItem}\n        </Tooltip>\n        {!isLast && <span className=\"slash-separator\" />}\n      </span>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { getBreadcrumbs } from '../../../api/components';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport Breadcrumb from './Breadcrumb';\n\ninterface Props {\n  backToFirst: boolean;\n  branchLike?: BranchLike;\n  className?: string;\n  component: T.ComponentMeasure;\n  handleSelect: (component: string) => void;\n  rootComponent: T.ComponentMeasure;\n}\n\ninterface State {\n  breadcrumbs: T.ComponentMeasure[];\n}\n\nexport default class Breadcrumbs extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { breadcrumbs: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchBreadcrumbs();\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      this.props.component !== prevProps.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike)\n    ) {\n      this.fetchBreadcrumbs();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    this.detachShortcuts();\n  }\n\n  attachShortcuts() {\n    key('left', 'measures-files', () => {\n      const { breadcrumbs } = this.state;\n      if (breadcrumbs.length > 1) {\n        const idx = this.props.backToFirst ? 0 : breadcrumbs.length - 2;\n        this.props.handleSelect(breadcrumbs[idx].key);\n      }\n      return false;\n    });\n  }\n\n  detachShortcuts() {\n    key.unbind('left', 'measures-files');\n  }\n\n  fetchBreadcrumbs = () => {\n    const { branchLike, component, rootComponent } = this.props;\n    const isRoot = component.key === rootComponent.key;\n    if (isRoot) {\n      if (this.mounted) {\n        this.setState({ breadcrumbs: [component] });\n      }\n      return;\n    }\n    getBreadcrumbs({ component: component.key, ...getBranchLikeQuery(branchLike) }).then(\n      breadcrumbs => {\n        if (this.mounted) {\n          this.setState({ breadcrumbs });\n        }\n      },\n      () => {}\n    );\n  };\n\n  render() {\n    const { breadcrumbs } = this.state;\n    if (breadcrumbs.length <= 0) {\n      return null;\n    }\n    const lastItem = breadcrumbs[breadcrumbs.length - 1];\n    return (\n      <div className={this.props.className}>\n        {breadcrumbs.map(component => (\n          <Breadcrumb\n            canBrowse={component.key !== lastItem.key}\n            component={component}\n            handleSelect={this.props.handleSelect}\n            isLast={component.key === lastItem.key}\n            key={component.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  left: React.ReactNode;\n  right: React.ReactNode;\n}\n\nexport default function MeasureContentHeader({ left, right }: Props) {\n  return (\n    <div className=\"measure-content-header\">\n      <div className=\"measure-content-header-left\">{left}</div>\n      <div className=\"measure-content-header-right\">{right}</div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport Histogram from 'sonar-ui-common/components/charts/Histogram';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  alignTicks?: boolean;\n  distribution: string;\n  languages: T.Languages;\n  width: number;\n}\n\nexport default function LanguageDistribution(props: Props) {\n  let distribution = props.distribution.split(';').map(point => {\n    const tokens = point.split('=');\n    return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n  });\n\n  distribution = sortBy(distribution, d => -d.lines);\n\n  const data = distribution.map(d => d.lines);\n  const yTicks = distribution.map(d => getLanguageName(d.language)).map(cutLanguageName);\n  const yTooltips = distribution.map(d => (d.lines > 1000 ? formatMeasure(d.lines, 'INT') : ''));\n  const yValues = distribution.map(d => formatMeasure(d.lines, 'SHORT_INT'));\n\n  return (\n    <Histogram\n      alignTicks={props.alignTicks}\n      bars={data}\n      height={distribution.length * 25}\n      padding={[0, 60, 0, 80]}\n      width={props.width}\n      yTicks={yTicks}\n      yTooltips={yTooltips}\n      yValues={yValues}\n    />\n  );\n\n  function getLanguageName(langKey: string) {\n    if (langKey === '<null>') {\n      return translate('unknown');\n    }\n    const lang = props.languages[langKey];\n    return lang ? lang.name : langKey;\n  }\n}\n\nfunction cutLanguageName(name: string) {\n  return name.length > 10 ? `${name.substr(0, 7)}...` : name;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getLanguages, Store } from '../../store/rootReducer';\nimport LanguageDistribution from './LanguageDistribution';\n\nconst mapStateToProps = (state: Store) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(LanguageDistribution);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as differenceInDays from 'date-fns/difference_in_days';\nimport * as React from 'react';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DateFormatter, { longFormatterOption } from 'sonar-ui-common/components/intl/DateFormatter';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport DateTimeFormatter, {\n  formatterOption\n} from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getPeriodDate, getPeriodLabel } from '../../../helpers/periods';\n\ninterface Props {\n  className?: string;\n  component: T.ComponentMeasure;\n  period: T.Period;\n}\n\nexport class LeakPeriodLegend extends React.PureComponent<Props & InjectedIntlProps> {\n  formatDate = (date: string) => {\n    return this.props.intl.formatDate(date, longFormatterOption);\n  };\n\n  formatDateTime = (date: string) => {\n    return this.props.intl.formatTime(date, formatterOption);\n  };\n\n  render() {\n    const { className, component, period } = this.props;\n    const leakClass = classNames('domain-measures-header leak-box', className);\n    if (component.qualifier === 'APP') {\n      return <div className={leakClass}>{translate('issues.new_code_period')}</div>;\n    }\n\n    const leakPeriodLabel = getPeriodLabel(\n      period,\n      period.mode === 'manual_baseline' ? this.formatDateTime : this.formatDate\n    );\n    if (!leakPeriodLabel) {\n      return null;\n    }\n\n    const label = (\n      <div className={leakClass}>\n        {translateWithParameters('overview.new_code_period_x', leakPeriodLabel)}\n      </div>\n    );\n\n    if (period.mode === 'days' || period.mode === 'NUMBER_OF_DAYS') {\n      return label;\n    }\n\n    const date = getPeriodDate(period);\n    const tooltip = date && (\n      <div>\n        <DateFromNow date={date} />\n        {', '}\n        {differenceInDays(new Date(), date) < 1 ? (\n          <DateTimeFormatter date={date} />\n        ) : (\n          <DateFormatter date={date} long={true} />\n        )}\n      </div>\n    );\n\n    return <Tooltip overlay={tooltip}>{label}</Tooltip>;\n  }\n}\n\nexport default injectIntl(LeakPeriodLegend);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport HistoryIcon from 'sonar-ui-common/components/icons/HistoryIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport LanguageDistributionContainer from '../../../components/charts/LanguageDistributionContainer';\nimport Measure from '../../../components/measure/Measure';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { getMeasureHistoryUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { hasFullMeasures } from '../utils';\nimport LeakPeriodLegend from './LeakPeriodLegend';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasure;\n  leakPeriod?: T.Period;\n  measureValue?: string;\n  metric: T.Metric;\n  secondaryMeasure?: T.Measure;\n}\n\nexport default function MeasureHeader(props: Props) {\n  const { branchLike, component, leakPeriod, measureValue, metric, secondaryMeasure } = props;\n  const isDiff = isDiffMetric(metric.key);\n  const hasHistory =\n    ['VW', 'SVW', 'APP', 'TRK'].includes(component.qualifier) && hasFullMeasures(branchLike);\n  const displayLeak = hasFullMeasures(branchLike);\n  return (\n    <div className=\"measure-details-header big-spacer-bottom\">\n      <div className=\"measure-details-primary\">\n        <div className=\"measure-details-metric\">\n          <IssueTypeIcon className=\"little-spacer-right text-text-bottom\" query={metric.key} />\n          {getLocalizedMetricName(metric)}\n          <span className=\"measure-details-value spacer-left\">\n            <strong>\n              <Measure\n                className={isDiff && displayLeak ? 'leak-box' : undefined}\n                metricKey={metric.key}\n                metricType={metric.type}\n                value={measureValue}\n              />\n            </strong>\n          </span>\n          {!isDiff && hasHistory && (\n            <Tooltip overlay={translate('component_measures.show_metric_history')}>\n              <Link\n                className=\"js-show-history spacer-left button button-small\"\n                to={getMeasureHistoryUrl(component.key, metric.key, branchLike)}>\n                <HistoryIcon />\n              </Link>\n            </Tooltip>\n          )}\n        </div>\n        <div className=\"measure-details-primary-actions\">\n          {displayLeak && leakPeriod && (\n            <LeakPeriodLegend className=\"spacer-left\" component={component} period={leakPeriod} />\n          )}\n        </div>\n      </div>\n      {secondaryMeasure &&\n        secondaryMeasure.metric === 'ncloc_language_distribution' &&\n        secondaryMeasure.value !== undefined && (\n          <div className=\"measure-details-secondary\">\n            <LanguageDistributionContainer\n              alignTicks={true}\n              distribution={secondaryMeasure.value}\n              width={260}\n            />\n          </div>\n        )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport ListIcon from 'sonar-ui-common/components/icons/ListIcon';\nimport TreeIcon from 'sonar-ui-common/components/icons/TreeIcon';\nimport TreemapIcon from 'sonar-ui-common/components/icons/TreemapIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { hasList, hasTree, hasTreemap, View } from '../utils';\n\ninterface Props {\n  className?: string;\n  metric: T.Metric;\n  handleViewChange: (view: View) => void;\n  view: View;\n}\n\nexport default class MeasureViewSelect extends React.PureComponent<Props> {\n  getOptions = () => {\n    const { metric } = this.props;\n    const options = [];\n    if (hasTree(metric.key)) {\n      options.push({\n        icon: <TreeIcon />,\n        label: translate('component_measures.tab.tree'),\n        value: 'tree'\n      });\n    }\n    if (hasList(metric.key)) {\n      options.push({\n        icon: <ListIcon />,\n        label: translate('component_measures.tab.list'),\n        value: 'list'\n      });\n    }\n    if (hasTreemap(metric.key, metric.type)) {\n      options.push({\n        icon: <TreemapIcon />,\n        label: translate('component_measures.tab.treemap'),\n        value: 'treemap'\n      });\n    }\n    return options;\n  };\n\n  handleChange = (option: { value: string }) => {\n    return this.props.handleViewChange(option.value as View);\n  };\n\n  renderOption = (option: { icon: JSX.Element; label: string }) => {\n    return (\n      <>\n        {option.icon}\n        <span className=\"little-spacer-left\">{option.label}</span>\n      </>\n    );\n  };\n\n  render() {\n    return (\n      <Select\n        autoBlur={true}\n        className={this.props.className}\n        clearable={false}\n        onChange={this.handleChange}\n        optionRenderer={this.renderOption}\n        options={this.getOptions()}\n        searchable={false}\n        value={this.props.view}\n        valueRenderer={this.renderOption}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedRouter } from 'react-router';\nimport PageActions from 'sonar-ui-common/components/ui/PageActions';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { RequestData } from 'sonar-ui-common/helpers/request';\nimport { getComponentTree } from '../../../api/components';\nimport { getMeasures } from '../../../api/measures';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MetricKey } from '../../../types/metrics';\nimport { complementary } from '../config/complementary';\nimport FilesView from '../drilldown/FilesView';\nimport TreeMapView from '../drilldown/TreeMapView';\nimport { enhanceComponent, isFileType, isViewType, Query, View } from '../utils';\nimport Breadcrumbs from './Breadcrumbs';\nimport MeasureContentHeader from './MeasureContentHeader';\nimport MeasureHeader from './MeasureHeader';\nimport MeasureViewSelect from './MeasureViewSelect';\n\ninterface Props {\n  branchLike?: BranchLike;\n  leakPeriod?: T.Period;\n  requestedMetric: Pick<T.Metric, 'key' | 'direction'>;\n  metrics: T.Dict<T.Metric>;\n  onIssueChange?: (issue: T.Issue) => void;\n  rootComponent: T.ComponentMeasure;\n  router: InjectedRouter;\n  selected?: string;\n  updateQuery: (query: Partial<Query>) => void;\n  view: View;\n}\n\ninterface State {\n  baseComponent?: T.ComponentMeasure;\n  components: T.ComponentMeasureEnhanced[];\n  loadingMoreComponents: boolean;\n  measure?: T.Measure;\n  metric?: T.Metric;\n  paging?: T.Paging;\n  secondaryMeasure?: T.Measure;\n  selected?: string;\n}\n\nexport default class MeasureContent extends React.PureComponent<Props, State> {\n  container?: HTMLElement | null;\n  mounted = false;\n  state: State = {\n    components: [],\n    loadingMoreComponents: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponentTree();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const prevComponentKey = prevProps.selected || prevProps.rootComponent.key;\n    const componentKey = this.props.selected || this.props.rootComponent.key;\n    if (\n      prevComponentKey !== componentKey ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.requestedMetric !== this.props.requestedMetric ||\n      prevProps.view !== this.props.view\n    ) {\n      this.fetchComponentTree();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponentTree = () => {\n    const { metricKeys, opts, strategy } = this.getComponentRequestParams(\n      this.props.view,\n      this.props.requestedMetric\n    );\n    const componentKey = this.props.selected || this.props.rootComponent.key;\n    const baseComponentMetrics = [this.props.requestedMetric.key];\n    if (this.props.requestedMetric.key === MetricKey.ncloc) {\n      baseComponentMetrics.push('ncloc_language_distribution');\n    }\n    Promise.all([\n      getComponentTree(strategy, componentKey, metricKeys, opts),\n      getMeasures({\n        component: componentKey,\n        metricKeys: baseComponentMetrics.join(),\n        ...getBranchLikeQuery(this.props.branchLike)\n      })\n    ]).then(([tree, measures]) => {\n      if (this.mounted) {\n        const metric = tree.metrics.find(m => m.key === this.props.requestedMetric.key);\n        const components = tree.components.map(component =>\n          enhanceComponent(component, metric, this.props.metrics)\n        );\n\n        const measure = measures.find(measure => measure.metric === this.props.requestedMetric.key);\n        const secondaryMeasure = measures.find(\n          measure => measure.metric !== this.props.requestedMetric.key\n        );\n\n        this.setState(({ selected }) => ({\n          baseComponent: tree.baseComponent,\n          components,\n          measure,\n          metric,\n          paging: tree.paging,\n          secondaryMeasure,\n          selected:\n            components.length > 0 && components.find(c => c.key === selected) ? selected : undefined\n        }));\n      }\n    });\n  };\n\n  fetchMoreComponents = () => {\n    const { metrics, view } = this.props;\n    const { baseComponent, metric, paging } = this.state;\n    if (!baseComponent || !paging || !metric) {\n      return;\n    }\n    const { metricKeys, opts, strategy } = this.getComponentRequestParams(view, metric, {\n      p: paging.pageIndex + 1\n    });\n    this.setState({ loadingMoreComponents: true });\n    getComponentTree(strategy, baseComponent.key, metricKeys, opts).then(\n      r => {\n        if (this.mounted && metric.key === this.props.requestedMetric.key) {\n          this.setState(state => ({\n            components: [\n              ...state.components,\n              ...r.components.map(component => enhanceComponent(component, metric, metrics))\n            ],\n            loadingMoreComponents: false,\n            paging: r.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingMoreComponents: false });\n        }\n      }\n    );\n  };\n\n  getComponentRequestParams(\n    view: View,\n    metric: Pick<T.Metric, 'key' | 'direction'>,\n    options: Object = {}\n  ) {\n    const strategy = view === 'list' ? 'leaves' : 'children';\n    const metricKeys = [metric.key];\n    const opts: RequestData = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      additionalFields: 'metrics',\n      ps: 500\n    };\n\n    const setMetricSort = () => {\n      const isDiff = isDiffMetric(metric.key);\n      opts.s = isDiff ? 'metricPeriod' : 'metric';\n      opts.metricSortFilter = 'withMeasuresOnly';\n      if (isDiff) {\n        opts.metricPeriodSort = 1;\n      }\n    };\n\n    const isDiff = isDiffMetric(metric.key);\n    if (view === 'tree') {\n      metricKeys.push(...(complementary[metric.key] || []));\n      opts.asc = true;\n      opts.s = 'qualifier,name';\n    } else if (view === 'list') {\n      metricKeys.push(...(complementary[metric.key] || []));\n      opts.asc = metric.direction === 1;\n      opts.metricSort = metric.key;\n      setMetricSort();\n    } else if (view === 'treemap') {\n      const sizeMetric = isDiff ? 'new_lines' : 'ncloc';\n      metricKeys.push(sizeMetric);\n      opts.asc = false;\n      opts.metricSort = sizeMetric;\n      setMetricSort();\n    }\n\n    return { metricKeys, opts: { ...opts, ...options }, strategy };\n  }\n\n  updateSelected = (component: string) => {\n    this.props.updateQuery({\n      selected: component !== this.props.rootComponent.key ? component : undefined\n    });\n  };\n\n  updateView = (view: View) => {\n    this.props.updateQuery({ view });\n  };\n\n  onOpenComponent = (componentKey: string) => {\n    if (isViewType(this.props.rootComponent)) {\n      const component = this.state.components.find(\n        component => component.refKey === componentKey || component.key === componentKey\n      );\n      if (component && component.refKey !== undefined) {\n        if (this.props.view === 'treemap') {\n          this.props.router.push(getProjectUrl(componentKey));\n        }\n        return;\n      }\n    }\n    this.setState(state => ({ selected: state.baseComponent!.key }));\n    this.updateSelected(componentKey);\n    if (this.container) {\n      this.container.focus();\n    }\n  };\n\n  onSelectComponent = (componentKey: string) => {\n    this.setState({ selected: componentKey });\n  };\n\n  getSelectedIndex = () => {\n    const componentKey = isFileType(this.state.baseComponent!)\n      ? this.state.baseComponent!.key\n      : this.state.selected;\n    const index = this.state.components.findIndex(component => component.key === componentKey);\n    return index !== -1 ? index : undefined;\n  };\n\n  renderMeasure() {\n    const { view } = this.props;\n    const { metric } = this.state;\n    if (!metric) {\n      return null;\n    }\n    if (view === 'tree' || view === 'list') {\n      const selectedIdx = this.getSelectedIndex();\n      return (\n        <FilesView\n          branchLike={this.props.branchLike}\n          components={this.state.components}\n          defaultShowBestMeasures={view === 'tree'}\n          fetchMore={this.fetchMoreComponents}\n          handleOpen={this.onOpenComponent}\n          handleSelect={this.onSelectComponent}\n          loadingMore={this.state.loadingMoreComponents}\n          metric={metric}\n          metrics={this.props.metrics}\n          paging={this.state.paging}\n          rootComponent={this.props.rootComponent}\n          selectedIdx={selectedIdx}\n          selectedKey={selectedIdx !== undefined ? this.state.selected : undefined}\n          view={view}\n        />\n      );\n    } else {\n      return (\n        <TreeMapView\n          branchLike={this.props.branchLike}\n          components={this.state.components}\n          handleSelect={this.onOpenComponent}\n          metric={metric}\n        />\n      );\n    }\n  }\n\n  render() {\n    const { branchLike, rootComponent, view } = this.props;\n    const { baseComponent, measure, metric, paging, secondaryMeasure } = this.state;\n\n    if (!baseComponent || !metric) {\n      return null;\n    }\n\n    const measureValue =\n      measure && (isDiffMetric(measure.metric) ? measure.period?.value : measure.value);\n    const isFile = isFileType(baseComponent);\n    const selectedIdx = this.getSelectedIndex();\n\n    return (\n      <div className=\"layout-page-main no-outline\" ref={container => (this.container = container)}>\n        <A11ySkipTarget anchor=\"measures_main\" />\n\n        <div className=\"layout-page-header-panel layout-page-main-header\">\n          <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n            <div className=\"layout-page-main-inner\">\n              <MeasureContentHeader\n                left={\n                  <Breadcrumbs\n                    backToFirst={view === 'list'}\n                    branchLike={branchLike}\n                    className=\"text-ellipsis flex-1\"\n                    component={baseComponent}\n                    handleSelect={this.onOpenComponent}\n                    rootComponent={rootComponent}\n                  />\n                }\n                right={\n                  <div className=\"display-flex-center\">\n                    {!isFile && metric && (\n                      <>\n                        <div>{translate('component_measures.view_as')}</div>\n                        <MeasureViewSelect\n                          className=\"measure-view-select spacer-left big-spacer-right\"\n                          handleViewChange={this.updateView}\n                          metric={metric}\n                          view={view}\n                        />\n\n                        <PageActions\n                          current={\n                            selectedIdx !== undefined && view !== 'treemap'\n                              ? selectedIdx + 1\n                              : undefined\n                          }\n                          showShortcuts={['list', 'tree'].includes(view)}\n                          total={paging && paging.total}\n                        />\n                      </>\n                    )}\n                  </div>\n                }\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"layout-page-main-inner measure-details-content\">\n          <MeasureHeader\n            branchLike={branchLike}\n            component={baseComponent}\n            leakPeriod={this.props.leakPeriod}\n            measureValue={measureValue}\n            metric={metric}\n            secondaryMeasure={secondaryMeasure}\n          />\n          {isFile ? (\n            <div className=\"measure-details-viewer\">\n              <SourceViewer\n                branchLike={branchLike}\n                component={baseComponent.key}\n                onIssueChange={this.props.onIssueChange}\n              />\n            </div>\n          ) : (\n            this.renderMeasure()\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OriginalBubbleChart from 'sonar-ui-common/components/charts/BubbleChart';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport {\n  getLocalizedMetricDomain,\n  getLocalizedMetricName,\n  translate,\n  translateWithParameters\n} from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport ColorRatingsLegend from '../../../components/charts/ColorRatingsLegend';\nimport { RATING_COLORS } from '../../../helpers/constants';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { getBubbleMetrics, getBubbleYDomain, isProjectOverview } from '../utils';\nimport EmptyResult from './EmptyResult';\n\nconst HEIGHT = 500;\n\ninterface Props {\n  component: T.ComponentMeasure;\n  components: T.ComponentMeasureEnhanced[];\n  domain: string;\n  metrics: T.Dict<T.Metric>;\n  updateSelected: (component: string) => void;\n}\n\nexport default class BubbleChart extends React.PureComponent<Props> {\n  getMeasureVal = (component: T.ComponentMeasureEnhanced, metric: T.Metric) => {\n    const measure = component.measures.find(measure => measure.metric.key === metric.key);\n    if (!measure) {\n      return undefined;\n    }\n    return Number(isDiffMetric(metric.key) ? measure.leak : measure.value);\n  };\n\n  getTooltip(\n    componentName: string,\n    values: { x: number; y: number; size: number; colors?: Array<number | undefined> },\n    metrics: { x: T.Metric; y: T.Metric; size: T.Metric; colors?: T.Metric[] }\n  ) {\n    const inner = [\n      componentName,\n      `${metrics.x.name}: ${formatMeasure(values.x, metrics.x.type)}`,\n      `${metrics.y.name}: ${formatMeasure(values.y, metrics.y.type)}`,\n      `${metrics.size.name}: ${formatMeasure(values.size, metrics.size.type)}`\n    ];\n    const { colors: valuesColors } = values;\n    const { colors: metricColors } = metrics;\n    if (valuesColors && metricColors) {\n      metricColors.forEach((metric, idx) => {\n        const colorValue = valuesColors[idx];\n        if (colorValue || colorValue === 0) {\n          inner.push(`${metric.name}: ${formatMeasure(colorValue, metric.type)}`);\n        }\n      });\n    }\n    return (\n      <div className=\"text-left\">\n        {inner.map((line, index) => (\n          <React.Fragment key={index}>\n            {line}\n            {index < inner.length - 1 && <br />}\n          </React.Fragment>\n        ))}\n      </div>\n    );\n  }\n\n  handleBubbleClick = (component: T.ComponentMeasureEnhanced) =>\n    this.props.updateSelected(component.refKey || component.key);\n\n  getDescription(domain: string) {\n    const description = `component_measures.overview.${domain}.description`;\n    const translatedDescription = translate(description);\n    if (description === translatedDescription) {\n      return null;\n    }\n    return translatedDescription;\n  }\n\n  renderBubbleChart(metrics: { x: T.Metric; y: T.Metric; size: T.Metric; colors?: T.Metric[] }) {\n    const items = this.props.components\n      .map(component => {\n        const x = this.getMeasureVal(component, metrics.x);\n        const y = this.getMeasureVal(component, metrics.y);\n        const size = this.getMeasureVal(component, metrics.size);\n        const colors =\n          metrics.colors && metrics.colors.map(metric => this.getMeasureVal(component, metric));\n        if ((!x && x !== 0) || (!y && y !== 0) || (!size && size !== 0)) {\n          return undefined;\n        }\n        return {\n          x,\n          y,\n          size,\n          color:\n            colors !== undefined\n              ? RATING_COLORS[Math.max(...colors.filter(isDefined)) - 1]\n              : undefined,\n          data: component,\n          tooltip: this.getTooltip(component.name, { x, y, size, colors }, metrics)\n        };\n      })\n      .filter(isDefined);\n\n    const formatXTick = (tick: string | number | undefined) => formatMeasure(tick, metrics.x.type);\n    const formatYTick = (tick: string | number | undefined) => formatMeasure(tick, metrics.y.type);\n\n    return (\n      <OriginalBubbleChart<T.ComponentMeasureEnhanced>\n        formatXTick={formatXTick}\n        formatYTick={formatYTick}\n        height={HEIGHT}\n        items={items}\n        onBubbleClick={this.handleBubbleClick}\n        padding={[25, 60, 50, 60]}\n        yDomain={getBubbleYDomain(this.props.domain)}\n      />\n    );\n  }\n\n  renderChartHeader(domain: string, sizeMetric: T.Metric, colorsMetric?: T.Metric[]) {\n    const title = isProjectOverview(domain)\n      ? translate('component_measures.overview', domain, 'title')\n      : translateWithParameters(\n          'component_measures.domain_x_overview',\n          getLocalizedMetricDomain(domain)\n        );\n    return (\n      <div className=\"measure-overview-bubble-chart-header\">\n        <span className=\"measure-overview-bubble-chart-title\">\n          <span className=\"text-middle\">{title}</span>\n          <HelpTooltip className=\"spacer-left\" overlay={this.getDescription(domain)} />\n        </span>\n        <span className=\"measure-overview-bubble-chart-legend\">\n          <span className=\"note\">\n            {colorsMetric && (\n              <span className=\"spacer-right\">\n                {translateWithParameters(\n                  'component_measures.legend.color_x',\n                  colorsMetric.length > 1\n                    ? translateWithParameters(\n                        'component_measures.legend.worse_of_x_y',\n                        ...colorsMetric.map(metric => getLocalizedMetricName(metric))\n                      )\n                    : getLocalizedMetricName(colorsMetric[0])\n                )}\n              </span>\n            )}\n            {translateWithParameters(\n              'component_measures.legend.size_x',\n              getLocalizedMetricName(sizeMetric)\n            )}\n          </span>\n          {colorsMetric && <ColorRatingsLegend className=\"spacer-top\" />}\n        </span>\n      </div>\n    );\n  }\n\n  render() {\n    if (this.props.components.length <= 0) {\n      return <EmptyResult />;\n    }\n    const { domain } = this.props;\n    const metrics = getBubbleMetrics(domain, this.props.metrics);\n\n    return (\n      <div className=\"measure-overview-bubble-chart\">\n        {this.renderChartHeader(domain, metrics.size, metrics.colors)}\n        <div className=\"measure-overview-bubble-chart-content\">\n          {this.renderBubbleChart(metrics)}\n        </div>\n        <div className=\"measure-overview-bubble-chart-axis x\">\n          {getLocalizedMetricName(metrics.x)}\n        </div>\n        <div className=\"measure-overview-bubble-chart-axis y\">\n          {getLocalizedMetricName(metrics.y)}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport PageActions from 'sonar-ui-common/components/ui/PageActions';\nimport { getComponentLeaves } from '../../../api/components';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport BubbleChart from '../drilldown/BubbleChart';\nimport { enhanceComponent, getBubbleMetrics, hasFullMeasures, isFileType } from '../utils';\nimport Breadcrumbs from './Breadcrumbs';\nimport LeakPeriodLegend from './LeakPeriodLegend';\nimport MeasureContentHeader from './MeasureContentHeader';\n\ninterface Props {\n  branchLike?: BranchLike;\n  className?: string;\n  component: T.ComponentMeasure;\n  domain: string;\n  leakPeriod?: T.Period;\n  loading: boolean;\n  metrics: T.Dict<T.Metric>;\n  onIssueChange?: (issue: T.Issue) => void;\n  rootComponent: T.ComponentMeasure;\n  updateLoading: (param: T.Dict<boolean>) => void;\n  updateSelected: (component: string) => void;\n}\n\ninterface State {\n  components: T.ComponentMeasureEnhanced[];\n  paging?: T.Paging;\n}\n\nconst BUBBLES_LIMIT = 500;\n\nexport default class MeasureOverview extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { components: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponents();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.metrics !== this.props.metrics ||\n      prevProps.domain !== this.props.domain\n    ) {\n      this.fetchComponents();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponents = () => {\n    const { branchLike, component, domain, metrics } = this.props;\n    if (isFileType(component)) {\n      this.setState({ components: [], paging: undefined });\n      return;\n    }\n    const { x, y, size, colors } = getBubbleMetrics(domain, metrics);\n    const metricsKey = [x.key, y.key, size.key];\n    if (colors) {\n      metricsKey.push(...colors.map(metric => metric.key));\n    }\n    const options = {\n      ...getBranchLikeQuery(branchLike),\n      s: 'metric',\n      metricSort: size.key,\n      asc: false,\n      ps: BUBBLES_LIMIT\n    };\n\n    this.props.updateLoading({ bubbles: true });\n    getComponentLeaves(component.key, metricsKey, options).then(\n      r => {\n        if (domain === this.props.domain) {\n          if (this.mounted) {\n            this.setState({\n              components: r.components.map(component =>\n                enhanceComponent(component, undefined, metrics)\n              ),\n              paging: r.paging\n            });\n          }\n          this.props.updateLoading({ bubbles: false });\n        }\n      },\n      () => this.props.updateLoading({ bubbles: false })\n    );\n  };\n\n  renderContent() {\n    const { branchLike, component } = this.props;\n    if (isFileType(component)) {\n      return (\n        <div className=\"measure-details-viewer\">\n          <SourceViewer\n            branchLike={branchLike}\n            component={component.key}\n            onIssueChange={this.props.onIssueChange}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <BubbleChart\n        component={this.props.component}\n        components={this.state.components}\n        domain={this.props.domain}\n        metrics={this.props.metrics}\n        updateSelected={this.props.updateSelected}\n      />\n    );\n  }\n\n  render() {\n    const { branchLike, component, leakPeriod, rootComponent } = this.props;\n    const { paging } = this.state;\n    const displayLeak = hasFullMeasures(branchLike);\n    return (\n      <div className={this.props.className}>\n        <div className=\"layout-page-header-panel layout-page-main-header\">\n          <A11ySkipTarget anchor=\"measures_main\" />\n\n          <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n            <div className=\"layout-page-main-inner\">\n              <MeasureContentHeader\n                left={\n                  <Breadcrumbs\n                    backToFirst={true}\n                    branchLike={branchLike}\n                    className=\"text-ellipsis\"\n                    component={component}\n                    handleSelect={this.props.updateSelected}\n                    rootComponent={rootComponent}\n                  />\n                }\n                right={\n                  <PageActions\n                    current={this.state.components.length}\n                    total={paging && paging.total}\n                  />\n                }\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"layout-page-main-inner measure-details-content\">\n          <div className=\"clearfix big-spacer-bottom\">\n            {leakPeriod && displayLeak && (\n              <LeakPeriodLegend className=\"pull-right\" component={component} period={leakPeriod} />\n            )}\n          </div>\n          <DeferredSpinner loading={this.props.loading} />\n          {!this.props.loading && this.renderContent()}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedRouter } from 'react-router';\nimport { getComponentShow } from '../../../api/components';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../../helpers/branch-like';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { isViewType, Query } from '../utils';\nimport MeasureOverview from './MeasureOverview';\n\ninterface Props {\n  branchLike?: BranchLike;\n  className?: string;\n  domain: string;\n  leakPeriod?: T.Period;\n  metrics: T.Dict<T.Metric>;\n  onIssueChange?: (issue: T.Issue) => void;\n  rootComponent: T.ComponentMeasure;\n  router: InjectedRouter;\n  selected?: string;\n  updateQuery: (query: Partial<Query>) => void;\n}\n\ninterface LoadingState {\n  bubbles: boolean;\n  component: boolean;\n}\n\ninterface State {\n  component?: T.ComponentMeasure;\n  loading: LoadingState;\n}\n\nexport default class MeasureOverviewContainer extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  state: State = {\n    loading: { bubbles: false, component: false }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const prevComponentKey = prevProps.selected || prevProps.rootComponent.key;\n    const componentKey = this.props.selected || this.props.rootComponent.key;\n    if (\n      prevComponentKey !== componentKey ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.domain !== this.props.domain\n    ) {\n      this.fetchComponent();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchComponent = () => {\n    const { branchLike, rootComponent, selected } = this.props;\n    if (!selected || rootComponent.key === selected) {\n      this.setState({ component: rootComponent });\n      this.updateLoading({ component: false });\n      return;\n    }\n    this.updateLoading({ component: true });\n    getComponentShow({ component: selected, ...getBranchLikeQuery(branchLike) }).then(\n      ({ component }) => {\n        if (this.mounted) {\n          this.setState({ component });\n          this.updateLoading({ component: false });\n        }\n      },\n      () => this.updateLoading({ component: false })\n    );\n  };\n\n  updateLoading = (loading: Partial<LoadingState>) => {\n    if (this.mounted) {\n      this.setState(state => ({ loading: { ...state.loading, ...loading } }));\n    }\n  };\n\n  updateSelected = (component: string) => {\n    if (this.state.component && isViewType(this.state.component)) {\n      this.props.router.push(getProjectUrl(component));\n    } else {\n      this.props.updateQuery({\n        selected: component !== this.props.rootComponent.key ? component : undefined\n      });\n    }\n  };\n\n  render() {\n    if (!this.state.component) {\n      return null;\n    }\n\n    return (\n      <MeasureOverview\n        branchLike={this.props.branchLike}\n        className={this.props.className}\n        component={this.state.component}\n        domain={this.props.domain}\n        leakPeriod={this.props.leakPeriod}\n        loading={this.state.loading.component || this.state.loading.bubbles}\n        metrics={this.props.metrics}\n        onIssueChange={this.props.onIssueChange}\n        rootComponent={this.props.rootComponent}\n        updateLoading={this.updateLoading}\n        updateSelected={this.updateSelected}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport default function MeasuresEmpty() {\n  return (\n    <div className=\"page page-limited\">\n      <div className=\"note\">{translate('component_measures.empty')}</div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport {\n  getLocalizedMetricDomain,\n  translate,\n  translateWithParameters\n} from 'sonar-ui-common/helpers/l10n';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from 'sonar-ui-common/helpers/pages';\nimport { getMeasuresWithPeriod } from '../../../api/measures';\nimport { getAllMetrics } from '../../../api/metrics';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { enhanceMeasure } from '../../../components/measure/utils';\nimport '../../../components/search-navigator.css';\nimport { getBranchLikeQuery, isPullRequest, isSameBranchLike } from '../../../helpers/branch-like';\nimport { fetchBranchStatus } from '../../../store/rootActions';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport Sidebar from '../sidebar/Sidebar';\nimport '../style.css';\nimport {\n  banQualityGateMeasure,\n  getMeasuresPageMetricKeys,\n  groupByDomains,\n  hasBubbleChart,\n  hasFullMeasures,\n  hasTree,\n  hasTreemap,\n  isProjectOverview,\n  parseQuery,\n  Query,\n  serializeQuery,\n  sortMeasures\n} from '../utils';\nimport MeasureContent from './MeasureContent';\nimport MeasureOverviewContainer from './MeasureOverviewContainer';\nimport MeasuresEmpty from './MeasuresEmpty';\n\ninterface Props extends WithRouterProps {\n  branchLike?: BranchLike;\n  component: T.ComponentMeasure;\n  fetchBranchStatus: (branchLike: BranchLike, projectKey: string) => Promise<void>;\n}\n\ninterface State {\n  leakPeriod?: T.Period;\n  loading: boolean;\n  measures: T.MeasureEnhanced[];\n  metrics: T.Dict<T.Metric>;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      loading: true,\n      measures: [],\n      metrics: {}\n    };\n    this.refreshBranchStatus = debounce(this.refreshBranchStatus, 1000);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    key.setScope('measures-files');\n    getAllMetrics().then(\n      metrics => {\n        const byKey = keyBy(metrics, 'key');\n        this.setState({ metrics: byKey });\n        this.fetchMeasures(byKey);\n      },\n      () => {}\n    );\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const prevQuery = parseQuery(prevProps.location.query);\n    const query = parseQuery(this.props.location.query);\n\n    if (\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      prevProps.component.key !== this.props.component.key ||\n      prevQuery.selected !== query.selected\n    ) {\n      this.fetchMeasures(this.state.metrics);\n    }\n\n    if (prevState.measures.length === 0 && this.state.measures.length > 0) {\n      addWhitePageClass();\n      addSideBarClass();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n    key.deleteScope('measures-files');\n  }\n\n  fetchMeasures(metrics: State['metrics']) {\n    const { branchLike } = this.props;\n    const query = parseQuery(this.props.location.query);\n    const componentKey = query.selected || this.props.component.key;\n\n    const filteredKeys = getMeasuresPageMetricKeys(metrics, branchLike);\n\n    getMeasuresWithPeriod(componentKey, filteredKeys, getBranchLikeQuery(branchLike)).then(\n      ({ component, period }) => {\n        if (this.mounted) {\n          const measures = banQualityGateMeasure(component).map(measure =>\n            enhanceMeasure(measure, metrics)\n          );\n\n          const leakPeriod =\n            component.qualifier === ComponentQualifier.Project ? period : undefined;\n\n          this.setState({\n            loading: false,\n            leakPeriod,\n            measures: measures.filter(\n              measure => measure.value !== undefined || measure.leak !== undefined\n            )\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  getHelmetTitle = (query: Query, displayOverview: boolean, metric?: T.Metric) => {\n    if (displayOverview && query.metric) {\n      return isProjectOverview(query.metric)\n        ? translate('component_measures.overview.project_overview.facet')\n        : translateWithParameters(\n            'component_measures.domain_x_overview',\n            getLocalizedMetricDomain(query.metric)\n          );\n    }\n    return metric ? metric.name : translate('layout.measures');\n  };\n\n  getSelectedMetric = (query: Query, displayOverview: boolean) => {\n    if (displayOverview) {\n      return undefined;\n    }\n    const metric = this.state.metrics[query.metric];\n    if (!metric) {\n      const domainMeasures = groupByDomains(this.state.measures);\n      const firstMeasure =\n        domainMeasures[0] && sortMeasures(domainMeasures[0].name, domainMeasures[0].measures)[0];\n      if (firstMeasure && typeof firstMeasure !== 'string') {\n        return firstMeasure.metric;\n      }\n    }\n    return metric;\n  };\n\n  handleIssueChange = (_: T.Issue) => {\n    this.refreshBranchStatus();\n  };\n\n  updateQuery = (newQuery: Partial<Query>) => {\n    const query: Query = { ...parseQuery(this.props.location.query), ...newQuery };\n\n    const metric = this.getSelectedMetric(query, false);\n    if (metric) {\n      if (query.view === 'treemap' && !hasTreemap(metric.key, metric.type)) {\n        query.view = 'tree';\n      } else if (query.view === 'tree' && !hasTree(metric.key)) {\n        query.view = 'list';\n      }\n    }\n\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component.key\n      }\n    });\n  };\n\n  refreshBranchStatus = () => {\n    const { branchLike, component } = this.props;\n    if (branchLike && component && isPullRequest(branchLike)) {\n      this.props.fetchBranchStatus(branchLike, component.key);\n    }\n  };\n\n  renderContent = (displayOverview: boolean, query: Query, metric?: T.Metric) => {\n    const { branchLike, component } = this.props;\n    const { leakPeriod } = this.state;\n    if (displayOverview) {\n      return (\n        <MeasureOverviewContainer\n          branchLike={branchLike}\n          className=\"layout-page-main\"\n          domain={query.metric}\n          leakPeriod={leakPeriod}\n          metrics={this.state.metrics}\n          onIssueChange={this.handleIssueChange}\n          rootComponent={component}\n          router={this.props.router}\n          selected={query.selected}\n          updateQuery={this.updateQuery}\n        />\n      );\n    }\n\n    if (!metric) {\n      return <MeasuresEmpty />;\n    }\n\n    const hideDrilldown =\n      isPullRequest(branchLike) &&\n      (metric.key === 'coverage' || metric.key === 'duplicated_lines_density');\n\n    if (hideDrilldown) {\n      return (\n        <div className=\"layout-page-main\">\n          <div className=\"layout-page-main-inner\">\n            <div className=\"note\">{translate('component_measures.details_are_not_available')}</div>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <MeasureContent\n        branchLike={branchLike}\n        leakPeriod={leakPeriod}\n        metrics={this.state.metrics}\n        onIssueChange={this.handleIssueChange}\n        requestedMetric={metric}\n        rootComponent={component}\n        router={this.props.router}\n        selected={query.selected}\n        updateQuery={this.updateQuery}\n        view={query.view}\n      />\n    );\n  };\n\n  render() {\n    if (this.state.loading) {\n      return <i className=\"spinner spacer\" />;\n    }\n\n    const { branchLike } = this.props;\n    const { measures } = this.state;\n    const query = parseQuery(this.props.location.query);\n    const showFullMeasures = hasFullMeasures(branchLike);\n    const displayOverview = hasBubbleChart(query.metric);\n    const metric = this.getSelectedMetric(query, displayOverview);\n\n    return (\n      <div id=\"component-measures\">\n        <Suggestions suggestions=\"component_measures\" />\n        <Helmet defer={false} title={this.getHelmetTitle(query, displayOverview, metric)} />\n\n        {measures.length > 0 ? (\n          <div className=\"layout-page\">\n            <ScreenPositionHelper className=\"layout-page-side-outer\">\n              {({ top }) => (\n                <div className=\"layout-page-side\" style={{ top }}>\n                  <div className=\"layout-page-side-inner\">\n                    <div className=\"layout-page-filters\">\n                      <Sidebar\n                        measures={measures}\n                        selectedMetric={metric ? metric.key : query.metric}\n                        showFullMeasures={showFullMeasures}\n                        updateQuery={this.updateQuery}\n                      />\n                    </div>\n                  </div>\n                </div>\n              )}\n            </ScreenPositionHelper>\n            {this.renderContent(displayOverview, query, metric)}\n          </div>\n        ) : (\n          <MeasuresEmpty />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchBranchStatus: fetchBranchStatus as any };\n\nexport default withRouter(connect(null, mapDispatchToProps)(App));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar qualifierIcons = {\n    app: ApplicationIcon,\n    brc: SubProjectIcon,\n    dev: DeveloperIcon,\n    dir: DirectoryIcon,\n    fil: FileIcon,\n    svw: SubPortfolioIcon,\n    trk: ProjectIcon,\n    uts: UnitTestIcon,\n    vw: PortfolioIcon,\n    cla: UnitTestIcon,\n    dev_prj: ProjectIcon,\n    lib: LibraryIcon,\n    pac: DirectoryIcon,\n};\nfunction QualifierIcon(props) {\n    if (!props.qualifier) {\n        return null;\n    }\n    var qualifier = props.qualifier.toLowerCase();\n    var FoundIcon = qualifierIcons[qualifier];\n    return FoundIcon ? React.createElement(FoundIcon, { className: props.className, fill: props.fill }) : null;\n}\nexports.default = QualifierIcon;\nfunction ApplicationIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DeveloperIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DirectoryIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\", style: { fill: fill || theme.colors.orange } }));\n    }));\n}\nfunction FileIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction LibraryIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction PortfolioIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction ProjectIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubPortfolioIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubProjectIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction UnitTestIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\n//# sourceMappingURL=QualifierIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nvar buttons_1 = require(\"./buttons\");\nfunction ListFooter(props) {\n    var className = props.className, count = props.count, loading = props.loading, needReload = props.needReload, total = props.total, _a = props.ready, ready = _a === void 0 ? true : _a;\n    var hasMore = total && total > count;\n    var button;\n    if (needReload && props.reload) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", \"data-test\": \"reload\", disabled: loading, onClick: props.reload }, l10n_1.translate('reload')));\n    }\n    else if (hasMore && props.loadMore) {\n        button = (React.createElement(buttons_1.Button, { className: \"spacer-left\", disabled: loading, \"data-test\": \"show-more\", onClick: props.loadMore }, l10n_1.translate('show_more')));\n    }\n    return (React.createElement(\"footer\", { className: classNames('spacer-top note text-center', { 'new-loading': !ready }, className) },\n        l10n_1.translateWithParameters('x_of_y_shown', measures_1.formatMeasure(count, 'INT', null), measures_1.formatMeasure(total, 'INT', null)),\n        button,\n        loading && React.createElement(DeferredSpinner_1.default, { className: \"text-bottom spacer-left position-absolute\" })));\n}\nexports.default = ListFooter;\n//# sourceMappingURL=ListFooter.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\nexports.longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\nfunction DateFormatter(_a) {\n    var children = _a.children, date = _a.date, long = _a.long;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, (long ? exports.longFormatterOption : exports.formatterOption)), children));\n}\nexports.default = DateFormatter;\n//# sourceMappingURL=DateFormatter.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar date_fns_1 = require(\"date-fns\");\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DateTimeFormatter_1 = require(\"./DateTimeFormatter\");\nfunction DateFromNow(props) {\n    var _a = props.children, originalChildren = _a === void 0 ? function (f) { return f; } : _a, date = props.date, hourPrecision = props.hourPrecision;\n    var children = originalChildren;\n    if (!date) {\n        return React.createElement(React.Fragment, null, originalChildren(l10n_1.translate('never')));\n    }\n    if (date && hourPrecision && date_fns_1.differenceInHours(Date.now(), date) < 1) {\n        children = function () { return originalChildren(l10n_1.translate('less_than_1_hour_ago')); };\n    }\n    var parsedDate = dates_1.parseDate(date);\n    return (React.createElement(DateTimeFormatter_1.default, { date: parsedDate }, function (formattedDate) { return (React.createElement(\"span\", { title: formattedDate },\n        React.createElement(react_intl_1.FormattedRelative, { value: parsedDate }, children))); }));\n}\nexports.default = DateFromNow;\n//# sourceMappingURL=DateFromNow.js.map","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar IssueIcon_1 = require(\"./IssueIcon\");\nfunction IssueTypeIcon(_a) {\n    var query = _a.query, iconProps = __rest(_a, [\"query\"]);\n    var type;\n    switch (query.toLowerCase()) {\n        case 'bug':\n        case 'bugs':\n        case 'new_bugs':\n            type = 'BUG';\n            break;\n        case 'vulnerability':\n        case 'vulnerabilities':\n        case 'new_vulnerabilities':\n            type = 'VULNERABILITY';\n            break;\n        case 'code_smell':\n        case 'code_smells':\n        case 'new_code_smells':\n            type = 'CODE_SMELL';\n            break;\n        case 'security_hotspot':\n        case 'security_hotspots':\n        case 'new_security_hotspots':\n            type = 'SECURITY_HOTSPOT';\n            break;\n        default:\n            return null;\n    }\n    return React.createElement(IssueIcon_1.default, __assign({ type: type }, iconProps));\n}\nexports.default = IssueTypeIcon;\n//# sourceMappingURL=IssueTypeIcon.js.map","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\n\nconst KNOWN_RATINGS = [\n  'sqale_rating',\n  'maintainability_rating', // Needed to provide the label for \"new_maintainability_rating\"\n  'reliability_rating',\n  'security_rating',\n  'security_review_rating'\n];\n\nexport function enhanceMeasure(measure: T.Measure, metrics: T.Dict<T.Metric>): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.MeasureIntern | undefined): string | undefined {\n  return measure?.period?.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport Rating from 'sonar-ui-common/components/ui/Rating';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getRatingTooltip } from './utils';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span className={className}>–</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, {\n      decimals,\n      omitExtraDecimalZeros: metricType === 'PERCENT'\n    });\n    return <span className={className}>{formattedValue != null ? formattedValue : '–'}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BranchIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nexports.default = BranchIcon;\n//# sourceMappingURL=BranchIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CLASS_SIDEBAR_PAGE = 'sidebar-page';\nvar CLASS_WHITE_PAGE = 'white-page';\nvar CLASS_NO_FOOTER_PAGE = 'no-footer-page';\nfunction addSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\nexports.addSideBarClass = addSideBarClass;\nfunction addWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\nexports.addWhitePageClass = addWhitePageClass;\nfunction addNoFooterPageClass() {\n    console.warn('DEPRECATED: addNoFooterPageClass() was deprecated.');\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, true);\n}\nexports.addNoFooterPageClass = addNoFooterPageClass;\nfunction removeSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\nexports.removeSideBarClass = removeSideBarClass;\nfunction removeWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\nexports.removeWhitePageClass = removeWhitePageClass;\nfunction removeNoFooterPageClass() {\n    console.warn('DEPRECATED: removeNoFooterPageClass() was deprecated.');\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, false);\n}\nexports.removeNoFooterPageClass = removeNoFooterPageClass;\nfunction toggleBodyClass(className, force) {\n    document.body.classList.toggle(className, force);\n    if (document.documentElement) {\n        document.documentElement.classList.toggle(className, force);\n    }\n}\n//# sourceMappingURL=pages.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ChevronDownIcon_1 = require(\"./ChevronDownIcon\");\nvar ChevronRightIcon_1 = require(\"./ChevronRightIcon\");\nfunction OpenCloseIcon(_a) {\n    var open = _a.open, iconProps = __rest(_a, [\"open\"]);\n    return open ? React.createElement(ChevronDownIcon_1.default, __assign({}, iconProps)) : React.createElement(ChevronRightIcon_1.default, __assign({}, iconProps));\n}\nexports.default = OpenCloseIcon;\n//# sourceMappingURL=OpenCloseIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport OpenCloseIcon from 'sonar-ui-common/components/icons/OpenCloseIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  fetching?: boolean;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper display-flex-center\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {this.props.fetching && (\n          <span className=\"little-spacer-right\">\n            <DeferredSpinner />\n          </span>\n        )}\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar BugIcon_1 = require(\"./BugIcon\");\nvar CodeSmellIcon_1 = require(\"./CodeSmellIcon\");\nvar SecurityHotspotIcon_1 = require(\"./SecurityHotspotIcon\");\nvar VulnerabilityIcon_1 = require(\"./VulnerabilityIcon\");\nfunction IssueIcon(_a) {\n    var type = _a.type, iconProps = __rest(_a, [\"type\"]);\n    switch (type) {\n        case 'BUG':\n            return React.createElement(BugIcon_1.default, __assign({}, iconProps));\n        case 'VULNERABILITY':\n            return React.createElement(VulnerabilityIcon_1.default, __assign({}, iconProps));\n        case 'CODE_SMELL':\n            return React.createElement(CodeSmellIcon_1.default, __assign({}, iconProps));\n        case 'SECURITY_HOTSPOT':\n            return React.createElement(SecurityHotspotIcon_1.default, __assign({}, iconProps));\n        default:\n            return null;\n    }\n}\nexports.default = IssueIcon;\n//# sourceMappingURL=IssueIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction LinkIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"g\", { transform: \"matrix(0.823497,0,0,0.823497,1.47008,1.4122)\" },\n            React.createElement(\"path\", { d: \"M13.501,11.429C13.501,11.191 13.418,10.989 13.251,10.822L11.394,8.965C11.227,8.798 11.025,8.715 10.787,8.715C10.537,8.715 10.323,8.81 10.144,9.001C10.162,9.019 10.219,9.074 10.314,9.166C10.409,9.258 10.473,9.322 10.506,9.358C10.539,9.394 10.583,9.451 10.64,9.528C10.697,9.605 10.735,9.681 10.756,9.756C10.777,9.831 10.787,9.913 10.787,10.002C10.787,10.24 10.704,10.442 10.537,10.609C10.37,10.776 10.168,10.859 9.93,10.859C9.841,10.859 9.759,10.849 9.684,10.828C9.609,10.807 9.533,10.769 9.456,10.712C9.379,10.655 9.322,10.611 9.286,10.578C9.25,10.545 9.186,10.481 9.094,10.386C9.002,10.291 8.947,10.234 8.929,10.216C8.732,10.401 8.634,10.618 8.634,10.868C8.634,11.106 8.717,11.308 8.884,11.475L10.723,13.323C10.884,13.484 11.086,13.564 11.33,13.564C11.568,13.564 11.77,13.487 11.937,13.332L13.25,12.028C13.417,11.861 13.5,11.662 13.5,11.43L13.501,11.429ZM7.224,5.134C7.224,4.896 7.141,4.694 6.974,4.527L5.135,2.679C4.968,2.512 4.766,2.429 4.528,2.429C4.296,2.429 4.094,2.509 3.921,2.67L2.608,3.974C2.441,4.141 2.358,4.34 2.358,4.572C2.358,4.81 2.441,5.012 2.608,5.179L4.465,7.036C4.626,7.197 4.828,7.277 5.072,7.277C5.322,7.277 5.536,7.185 5.715,7C5.697,6.982 5.64,6.927 5.545,6.835C5.45,6.743 5.386,6.679 5.353,6.643C5.32,6.607 5.276,6.55 5.219,6.473C5.162,6.396 5.124,6.32 5.103,6.245C5.082,6.17 5.072,6.088 5.072,5.999C5.072,5.761 5.155,5.559 5.322,5.392C5.489,5.225 5.691,5.142 5.929,5.142C6.018,5.142 6.1,5.152 6.175,5.173C6.25,5.194 6.326,5.232 6.403,5.289C6.48,5.346 6.537,5.39 6.573,5.423C6.609,5.456 6.673,5.52 6.765,5.615C6.857,5.71 6.912,5.767 6.93,5.785C7.127,5.6 7.225,5.383 7.225,5.133L7.224,5.134ZM15.215,11.429C15.215,12.143 14.962,12.747 14.456,13.242L13.143,14.546C12.649,15.04 12.045,15.287 11.33,15.287C10.61,15.287 10.003,15.034 9.509,14.528L7.67,12.68C7.176,12.186 6.929,11.582 6.929,10.867C6.929,10.135 7.191,9.513 7.715,9.001L6.929,8.215C6.417,8.739 5.798,9.001 5.072,9.001C4.358,9.001 3.751,8.751 3.251,8.251L1.394,6.394C0.894,5.894 0.644,5.287 0.644,4.573C0.644,3.859 0.897,3.255 1.403,2.76L2.716,1.456C3.21,0.962 3.814,0.715 4.529,0.715C5.249,0.715 5.856,0.968 6.35,1.474L8.189,3.322C8.683,3.816 8.93,4.42 8.93,5.135C8.93,5.867 8.668,6.489 8.144,7.001L8.93,7.787C9.442,7.263 10.061,7.001 10.787,7.001C11.501,7.001 12.108,7.251 12.608,7.751L14.465,9.608C14.965,10.108 15.215,10.715 15.215,11.429L15.215,11.429Z\", style: { fill: fill } }))));\n}\nexports.default = LinkIcon;\n//# sourceMappingURL=LinkIcon.js.map","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\n\nconst SourceViewer = lazyLoadComponent(\n  () => import(/* webpackPrefetch: true */ './SourceViewerBase'),\n  'SourceViewer'\n);\nexport default SourceViewer;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction HistoryIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z\", style: { fill: fill } })));\n}\nexports.default = HistoryIcon;\n//# sourceMappingURL=HistoryIcon.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ListIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M15.045 11.526v1.007q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 8.506v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 5.487v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 2.468v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354z\", style: { fill: fill } })));\n}\nexports.default = ListIcon;\n//# sourceMappingURL=ListIcon.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar FilesCounter_1 = require(\"./FilesCounter\");\nfunction PageActions(props) {\n    var current = props.current, showShortcuts = props.showShortcuts, _a = props.total, total = _a === void 0 ? 0 : _a;\n    return (React.createElement(\"div\", { className: \"page-actions display-flex-center\" },\n        showShortcuts && (React.createElement(\"span\", { className: \"note nowrap\" },\n            React.createElement(\"span\", { className: \"big-spacer-right\" },\n                React.createElement(\"span\", { className: \"shortcut-button little-spacer-right\" }, \"\\u2191\"),\n                React.createElement(\"span\", { className: \"shortcut-button little-spacer-right\" }, \"\\u2193\"),\n                l10n_1.translate('component_measures.to_select_files')),\n            React.createElement(\"span\", null,\n                React.createElement(\"span\", { className: \"shortcut-button little-spacer-right\" }, \"\\u2190\"),\n                React.createElement(\"span\", { className: \"shortcut-button little-spacer-right\" }, \"\\u2192\"),\n                l10n_1.translate('component_measures.to_navigate')))),\n        total > 0 && (React.createElement(\"div\", { className: \"nowrap\" },\n            React.createElement(FilesCounter_1.default, { className: \"big-spacer-left\", current: current, total: total })))));\n}\nexports.default = PageActions;\n//# sourceMappingURL=PageActions.js.map","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ColorBoxLegend.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { ApplicationPeriod } from '../types/application';\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter || '';\n\n  switch (period.mode) {\n    case 'SPECIFIC_ANALYSIS':\n      parameter = dateFormatter(period.date);\n      break;\n    case 'PREVIOUS_VERSION':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    /*\n     * Handle legacy period modes, that predate MMF-1579\n     */\n    case 'previous_version':\n      if (!parameter) {\n        return translate('overview.period.previous_version_only_date');\n      }\n      break;\n    case 'date':\n      parameter = parameter && dateFormatter(parameter);\n      break;\n    case 'manual_baseline':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    default: // No change in the parameter\n  }\n\n  return translateWithParameters(`overview.period.${period.mode.toLowerCase()}`, parameter);\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n\nexport function isApplicationPeriod(\n  period: T.Period | ApplicationPeriod\n): period is ApplicationPeriod {\n  return (period as ApplicationPeriod).project !== undefined;\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar d3_array_1 = require(\"d3-array\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar d3_selection_1 = require(\"d3-selection\");\nvar d3_zoom_1 = require(\"d3-zoom\");\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nvar react_router_1 = require(\"react-router\");\nvar AutoSizer_1 = require(\"react-virtualized/dist/commonjs/AutoSizer\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nrequire(\"./BubbleChart.css\");\nvar TICKS_COUNT = 5;\nvar BubbleChart = (function (_super) {\n    __extends(BubbleChart, _super);\n    function BubbleChart(props) {\n        var _this = _super.call(this, props) || this;\n        _this.boundNode = function (node) {\n            _this.node = node;\n            _this.zoom = d3_zoom_1.zoom().scaleExtent([1, 10]).on('zoom', _this.zoomed);\n            d3_selection_1.select(_this.node).call(_this.zoom);\n        };\n        _this.zoomed = function () {\n            var padding = _this.props.padding;\n            var _a = d3_selection_1.event.transform, x = _a.x, y = _a.y, k = _a.k;\n            _this.setState({\n                transform: {\n                    x: x + padding[3] * (k - 1),\n                    y: y + padding[0] * (k - 1),\n                    k: k,\n                },\n            });\n        };\n        _this.resetZoom = function (event) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (_this.zoom && _this.node) {\n                d3_selection_1.select(_this.node).call(_this.zoom.transform, d3_zoom_1.zoomIdentity);\n            }\n        };\n        _this.getZoomLevelLabel = function () { return Math.floor(_this.state.transform.k * 100) + '%'; };\n        _this.renderXGrid = function (ticks, xScale, yScale) {\n            if (!_this.props.displayXGrid) {\n                return null;\n            }\n            var transform = _this.state.transform;\n            var lines = ticks.map(function (tick, index) {\n                var x = xScale(tick);\n                var y1 = yScale.range()[0];\n                var y2 = yScale.range()[1];\n                return (React.createElement(\"line\", { className: \"bubble-chart-grid\", key: index, x1: x * transform.k + transform.x, x2: x * transform.k + transform.x, y1: y1 * transform.k, y2: transform.k > 1 ? 0 : y2 }));\n            });\n            return React.createElement(\"g\", null, lines);\n        };\n        _this.renderYGrid = function (ticks, xScale, yScale) {\n            if (!_this.props.displayYGrid) {\n                return null;\n            }\n            var transform = _this.state.transform;\n            var lines = ticks.map(function (tick, index) {\n                var y = yScale(tick);\n                var x1 = xScale.range()[0];\n                var x2 = xScale.range()[1];\n                return (React.createElement(\"line\", { className: \"bubble-chart-grid\", key: index, x1: transform.k > 1 ? 0 : x1, x2: x2 * transform.k, y1: y * transform.k + transform.y, y2: y * transform.k + transform.y }));\n            });\n            return React.createElement(\"g\", null, lines);\n        };\n        _this.renderXTicks = function (xTicks, xScale, yScale) {\n            if (!_this.props.displayXTicks) {\n                return null;\n            }\n            var transform = _this.state.transform;\n            var ticks = xTicks.map(function (tick, index) {\n                var x = xScale(tick) * transform.k + transform.x;\n                var y = yScale.range()[0];\n                var innerText = _this.props.formatXTick(tick);\n                return x > 0 && x < xScale.range()[1] ? (React.createElement(\"text\", { className: \"bubble-chart-tick\", dy: \"1.5em\", key: index, x: x, y: y }, innerText)) : null;\n            });\n            return React.createElement(\"g\", null, ticks);\n        };\n        _this.renderYTicks = function (yTicks, xScale, yScale) {\n            if (!_this.props.displayYTicks) {\n                return null;\n            }\n            var transform = _this.state.transform;\n            var ticks = yTicks.map(function (tick, index) {\n                var x = xScale.range()[0];\n                var y = yScale(tick) * transform.k + transform.y;\n                var innerText = _this.props.formatYTick(tick);\n                return y > 0 && y < yScale.range()[0] ? (React.createElement(\"text\", { className: \"bubble-chart-tick bubble-chart-tick-y\", dx: \"-0.5em\", dy: \"0.3em\", key: index, x: x, y: y }, innerText)) : null;\n            });\n            return React.createElement(\"g\", null, ticks);\n        };\n        _this.renderChart = function (width) {\n            var transform = _this.state.transform;\n            var availableWidth = width - _this.props.padding[1] - _this.props.padding[3];\n            var availableHeight = _this.props.height - _this.props.padding[0] - _this.props.padding[2];\n            var xScale = d3_scale_1.scaleLinear()\n                .domain(_this.props.xDomain || [0, d3_array_1.max(_this.props.items, function (d) { return d.x; }) || 0])\n                .range([0, availableWidth])\n                .nice();\n            var yScale = d3_scale_1.scaleLinear()\n                .domain(_this.props.yDomain || [0, d3_array_1.max(_this.props.items, function (d) { return d.y; }) || 0])\n                .range([availableHeight, 0])\n                .nice();\n            var sizeScale = d3_scale_1.scaleLinear()\n                .domain(_this.props.sizeDomain || [0, d3_array_1.max(_this.props.items, function (d) { return d.size; }) || 0])\n                .range(_this.props.sizeRange || []);\n            var xScaleOriginal = xScale.copy();\n            var yScaleOriginal = yScale.copy();\n            xScale.range(_this.getXRange(xScale, sizeScale, availableWidth));\n            yScale.range(_this.getYRange(yScale, sizeScale, availableHeight));\n            var bubbles = lodash_1.sortBy(_this.props.items, function (b) { return -b.size; }).map(function (item, index) {\n                return (React.createElement(Bubble, { color: item.color, data: item.data, key: item.key || index, link: item.link, onClick: _this.props.onBubbleClick, r: sizeScale(item.size), scale: 1 / transform.k, tooltip: item.tooltip, x: xScale(item.x), y: yScale(item.y) }));\n            });\n            var xTicks = _this.getTicks(xScale, _this.props.formatXTick);\n            var yTicks = _this.getTicks(yScale, _this.props.formatYTick);\n            return (React.createElement(\"svg\", { className: classNames('bubble-chart'), height: _this.props.height, ref: _this.boundNode, width: width },\n                React.createElement(\"defs\", null,\n                    React.createElement(\"clipPath\", { id: \"graph-region\" },\n                        React.createElement(\"rect\", { height: availableHeight + 4, width: availableWidth + 4, x: -2, y: -2 }))),\n                React.createElement(\"g\", { transform: \"translate(\" + _this.props.padding[3] + \", \" + _this.props.padding[0] + \")\" },\n                    React.createElement(\"g\", { clipPath: \"url(#graph-region)\" },\n                        _this.renderXGrid(xTicks, xScale, yScale),\n                        _this.renderYGrid(yTicks, xScale, yScale),\n                        React.createElement(\"g\", { transform: \"translate(\" + transform.x + \", \" + transform.y + \") scale(\" + transform.k + \")\" }, bubbles)),\n                    _this.renderXTicks(xTicks, xScale, yScaleOriginal),\n                    _this.renderYTicks(yTicks, xScaleOriginal, yScale))));\n        };\n        _this.state = { transform: { x: 0, y: 0, k: 1 } };\n        return _this;\n    }\n    BubbleChart.prototype.componentDidUpdate = function () {\n        if (this.zoom && this.node) {\n            var rect = this.node.getBoundingClientRect();\n            this.zoom.translateExtent([\n                [0, 0],\n                [rect.width, rect.height],\n            ]);\n        }\n    };\n    BubbleChart.prototype.getXRange = function (xScale, sizeScale, availableWidth) {\n        var minX = d3_array_1.min(this.props.items, function (d) { return xScale(d.x) - sizeScale(d.size); }) || 0;\n        var maxX = d3_array_1.max(this.props.items, function (d) { return xScale(d.x) + sizeScale(d.size); }) || 0;\n        var dMinX = minX < 0 ? xScale.range()[0] - minX : xScale.range()[0];\n        var dMaxX = maxX > xScale.range()[1] ? maxX - xScale.range()[1] : 0;\n        return [dMinX, availableWidth - dMaxX];\n    };\n    BubbleChart.prototype.getYRange = function (yScale, sizeScale, availableHeight) {\n        var minY = d3_array_1.min(this.props.items, function (d) { return yScale(d.y) - sizeScale(d.size); }) || 0;\n        var maxY = d3_array_1.max(this.props.items, function (d) { return yScale(d.y) + sizeScale(d.size); }) || 0;\n        var dMinY = minY < 0 ? yScale.range()[1] - minY : yScale.range()[1];\n        var dMaxY = maxY > yScale.range()[0] ? maxY - yScale.range()[0] : 0;\n        return [availableHeight - dMaxY, dMinY];\n    };\n    BubbleChart.prototype.getTicks = function (scale, format) {\n        var zoom = Math.ceil(this.state.transform.k);\n        var ticks = scale.ticks(TICKS_COUNT * zoom).map(function (tick) { return format(tick); });\n        var uniqueTicksCount = lodash_1.uniq(ticks).length;\n        var ticksCount = uniqueTicksCount < TICKS_COUNT * zoom ? uniqueTicksCount - 1 : TICKS_COUNT * zoom;\n        return scale.ticks(ticksCount);\n    };\n    BubbleChart.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(\"div\", null,\n            React.createElement(\"div\", { className: \"bubble-chart-zoom\" },\n                React.createElement(Tooltip_1.default, { overlay: l10n_1.translate('component_measures.bubble_chart.zoom_level') },\n                    React.createElement(react_router_1.Link, { onClick: this.resetZoom, to: \"#\" }, this.getZoomLevelLabel()))),\n            React.createElement(AutoSizer_1.AutoSizer, { disableHeight: true }, function (size) { return _this.renderChart(size.width); })));\n    };\n    BubbleChart.defaultProps = {\n        displayXGrid: true,\n        displayXTicks: true,\n        displayYGrid: true,\n        displayYTicks: true,\n        formatXTick: function (d) { return String(d); },\n        formatYTick: function (d) { return String(d); },\n        padding: [10, 10, 10, 10],\n        sizeRange: [5, 45],\n    };\n    return BubbleChart;\n}(React.PureComponent));\nexports.default = BubbleChart;\nfunction Bubble(props) {\n    var handleClick = function (event) {\n        if (props.onClick) {\n            event.stopPropagation();\n            event.preventDefault();\n            props.onClick(props.data);\n        }\n    };\n    var circle = (React.createElement(\"circle\", { className: \"bubble-chart-bubble\", onClick: props.onClick ? handleClick : undefined, r: props.r, style: { fill: props.color, stroke: props.color }, transform: \"translate(\" + props.x + \", \" + props.y + \") scale(\" + props.scale + \")\" }));\n    if (props.link && !props.onClick) {\n        circle = React.createElement(react_router_1.Link, { to: props.link }, circle);\n    }\n    return (React.createElement(Tooltip_1.default, { overlay: props.tooltip || undefined },\n        React.createElement(\"g\", null, circle)));\n}\n//# sourceMappingURL=BubbleChart.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { RATING_COLORS } from '../../helpers/constants';\nimport './ColorBoxLegend.css';\n\ninterface Props {\n  className?: string;\n}\n\nexport default function ColorRatingsLegend({ className }: Props) {\n  return (\n    <div className={classNames('color-box-legend', className)}>\n      {[1, 2, 3, 4, 5].map(rating => (\n        <div key={rating}>\n          <span\n            className=\"color-box-legend-rect\"\n            style={{ borderColor: RATING_COLORS[rating - 1] }}>\n            <span\n              className=\"color-box-legend-rect-inner\"\n              style={{ backgroundColor: RATING_COLORS[rating - 1] }}\n            />\n          </span>\n          {formatMeasure(rating, 'RATING')}\n        </div>\n      ))}\n    </div>\n  );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nfunction FilesCounter(_a) {\n    var className = _a.className, current = _a.current, total = _a.total;\n    return (React.createElement(\"span\", { className: className },\n        React.createElement(\"strong\", null,\n            current !== undefined && (React.createElement(\"span\", null,\n                measures_1.formatMeasure(current, 'INT'),\n                ' / ')),\n            measures_1.formatMeasure(total, 'INT')),\n        ' ',\n        l10n_1.translate('component_measures.files')));\n}\nexports.default = FilesCounter;\n//# sourceMappingURL=FilesCounter.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BubblesIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({ style: { fillRule: 'nonzero' } }, iconProps),\n        React.createElement(\"path\", { d: \"M4.1 10.2c1 0 1.9.8 1.9 1.9S5.1 14 4.1 14s-1.9-.8-1.9-1.9.8-1.9 1.9-1.9m0-2C2 8.2.2 9.9.2 12.1S1.9 16 4.1 16 8 14.3 8 12.1 6.2 8.2 4.1 8.2zM10.3 2c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7-3.8-1.6-3.8-3.7S8.2 2 10.3 2m0-2C7.1 0 4.5 2.6 4.5 5.7s2.6 5.7 5.7 5.7S16 8.9 16 5.7 13.4 0 10.3 0z\", style: { fill: fill } })));\n}\nexports.default = BubblesIcon;\n//# sourceMappingURL=BubblesIcon.js.map","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".color-box-legend{display:flex;justify-content:center}.color-box-legend>:not(:first-child){margin-left:24px}.color-box-legend .color-box-legend-rect{display:inline-block;margin-top:1px;margin-right:4px;border:1px solid}.color-box-legend .color-box-legend-rect-inner{display:block;width:8px;height:8px;opacity:.2}.color-box-legend.color-box-full .color-box-legend-rect-inner{opacity:1}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#777;font-size:12px;text-anchor:middle}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AutoSizer = require('./AutoSizer');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AutoSizer).default;\n  }\n});\nObject.defineProperty(exports, 'AutoSizer', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_AutoSizer).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _detectElementResize = require('../vendor/detectElementResize');\n\nvar _detectElementResize2 = _interopRequireDefault(_detectElementResize);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AutoSizer = function (_React$PureComponent) {\n  (0, _inherits3.default)(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AutoSizer.__proto__ || (0, _getPrototypeOf2.default)(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = (0, _detectElementResize2.default)(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      if (!disableHeight) {\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      /**\n       * TODO: Avoid rendering children before the initial measurements have been collected.\n       * At best this would just be wasting cycles.\n       * Add this check into version 10 though as it could break too many ref callbacks in version 9.\n       * Note that if default width/height props were provided this would still work with SSR.\n      if (\n        height !== 0 &&\n        width !== 0\n      ) {\n        child = children({ height, width })\n      }\n      */\n\n      return React.createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: (0, _extends3.default)({}, outerStyle, style) },\n        children(childParams)\n      );\n    }\n  }]);\n  return AutoSizer;\n}(React.PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\nAutoSizer.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  /** Function responsible for rendering children.*/\n  children: _propTypes2.default.func.isRequired,\n\n\n  /** Optional custom CSS class name to attach to root AutoSizer element.  */\n  className: _propTypes2.default.string,\n\n\n  /** Default height to use for initial render; useful for SSR */\n  defaultHeight: _propTypes2.default.number,\n\n\n  /** Default width to use for initial render; useful for SSR */\n  defaultWidth: _propTypes2.default.number,\n\n\n  /** Disable dynamic :height property */\n  disableHeight: _propTypes2.default.bool.isRequired,\n\n\n  /** Disable dynamic :width property */\n  disableWidth: _propTypes2.default.bool.isRequired,\n\n\n  /** Nonce of the inlined stylesheet for Content Security Policy */\n  nonce: _propTypes2.default.string,\n\n\n  /** Callback to be invoked on-resize */\n  onResize: _propTypes2.default.func.isRequired,\n\n\n  /** Optional inline style */\n  style: _propTypes2.default.object\n};\nexports.default = AutoSizer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createDetectElementResize;\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\nfunction createDetectElementResize(nonce) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n  if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = global;\n  }\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = _window.getComputedStyle(element);\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' + '<div class=\"contract-trigger\"></div>';\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./BubbleChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bubble-chart text{-webkit-user-select:none;-ms-user-select:none;user-select:none}.bubble-chart-bubble{fill:#4b9fd5;fill-opacity:.2;stroke:#4b9fd5;cursor:pointer;transition:fill-opacity .2s ease}.bubble-chart-bubble:hover{fill-opacity:.8}.bubble-chart-grid{shape-rendering:crispedges;stroke:#eee}.bubble-chart-tick{fill:#777;font-size:12px;text-anchor:middle}.bubble-chart-tick-y{text-anchor:end}.bubble-chart-zoom{position:absolute;right:20px;top:20px;z-index:3}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag\";\nimport noevent, {nopropagation} from \"./noevent\";\nimport constant from \"./constant\";\nimport DragEvent from \"./event\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return \"ontouchstart\" in this;\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i(t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i(t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i(t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\nimport transition_end from \"./end\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p);\n  };\n\n  zoom.scaleTo = function(selection, k, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p);\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function(selection, x, y, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments, true),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, arguments, event.changedTouches.length === n),\n        started, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    g.taps = 0;\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        var p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}\n"],"sourceRoot":""}