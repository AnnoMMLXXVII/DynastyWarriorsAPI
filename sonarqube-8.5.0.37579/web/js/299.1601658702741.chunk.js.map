{"version":3,"sources":["webpack:///./src/main/js/components/common/CodeSnippet.css?463c","webpack:///./src/main/js/components/common/CodeSnippet.css","webpack:///./src/main/js/components/tutorials/components/Step.css?5e06","webpack:///./src/main/js/components/tutorials/components/Step.css","webpack:///./src/main/js/helpers/alm-settings.ts","webpack:///./src/main/js/components/tutorials/utils.ts","webpack:///./src/main/js/components/tutorials/components/EditTokenModal.tsx","webpack:///./src/main/js/components/tutorials/components/Step.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/EnvironmentVariablesStep.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/types.ts","webpack:///./src/main/js/components/tutorials/components/RenderOptions.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/ProjectKeyStep.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/GitLabCITutorial.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/commands/PipeCommandGradle.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/commands/PipeCommandMaven.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/commands/PipeCommandOther.tsx","webpack:///./src/main/js/components/tutorials/gitlabci/YmlFileStep.tsx","webpack:///./src/main/js/components/tutorials/components/SentenceWithHighlights.tsx","webpack:///./src/main/js/components/tutorials/components/SentenceWithFilename.tsx","webpack:///./src/main/js/components/tutorials/jenkins/buildtool-steps/CreateJenkinsfileBulletPoint.tsx","webpack:///./src/main/js/components/tutorials/jenkins/buildtool-steps/Other.tsx","webpack:///./src/main/js/components/tutorials/jenkins/JenkinsfileStep.tsx","webpack:///./src/main/js/components/tutorials/jenkins/buildtool-steps/Maven.tsx","webpack:///./src/main/js/components/tutorials/jenkins/buildtool-steps/Gradle.tsx","webpack:///./src/main/js/components/tutorials/jenkins/buildtool-steps/MSBuild.tsx","webpack:///./src/main/js/components/tutorials/components/LabelActionPair.tsx","webpack:///./src/main/js/components/tutorials/components/LabelValuePair.tsx","webpack:///./src/main/js/components/tutorials/jenkins/MultiBranchPipelineStep.tsx","webpack:///./src/main/js/components/tutorials/jenkins/JenkinsTutorial.tsx","webpack:///./src/main/js/components/tutorials/jenkins/PreRequisitesStep.tsx","webpack:///./src/main/js/components/tutorials/jenkins/WebhookStepBitbucket.tsx","webpack:///./src/main/js/components/tutorials/jenkins/WebhookStepGithub.tsx","webpack:///./src/main/js/components/tutorials/jenkins/WebhookStep.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/MSBuildScanner.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/DotNet.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/JavaGradle.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/JavaMaven.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/SQScanner.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/Other.tsx","webpack:///./src/main/js/components/tutorials/manual/commands/AnalysisCommand.tsx","webpack:///./src/main/js/components/tutorials/manual/LanguageForm.tsx","webpack:///./src/main/js/components/tutorials/manual/ProjectAnalysisStep.tsx","webpack:///./src/main/js/components/tutorials/manual/ManualTutorial.tsx","webpack:///./src/main/js/components/tutorials/manual/TokenStep.tsx","webpack:///./src/main/js/components/tutorials/types.ts","webpack:///./src/main/js/helpers/almIntegrations.ts","webpack:///./src/main/js/components/tutorials/TutorialSelectionRenderer.tsx","webpack:///./src/main/js/components/tutorials/TutorialSelection.tsx","webpack:///./src/main/js/apps/overview/components/EmptyOverview.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/SimpleModal.js","webpack:///./src/main/js/types/alm-settings.ts","webpack:///./src/main/js/components/common/CodeSnippet.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.js","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.css?35f6","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.css","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?01af","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./src/main/js/api/alm-settings.ts","webpack:///./src/main/js/api/user-tokens.ts"],"names":["api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","isProjectBitbucketBindingResponse","binding","alm","Bitbucket","isProjectGitHubBindingResponse","GitHub","isGithubBindingDefinition","undefined","appId","privateKey","url","getUniqueTokenName","tokens","initialTokenName","hasToken","name","find","token","buildGithubLink","almBinding","projectBinding","replace","repository","mounted","state","loading","tokenName","getTokensAndName","this","props","component","currentUser","login","setState","getNewToken","handleChange","event","target","value","handleTokenRevoke","componentDidMount","componentWillUnmount","render","header","onClose","onSubmit","onCloseClick","className","defaultMessage","id","values","link","to","copyValue","onClick","Alert","variant","onChange","placeholder","required","type","disabled","finished","open","stepNumber","stepTitle","clickable","onOpen","preventDefault","role","tabIndex","renderResult","hidden","renderForm","pipelineDescriptionLinkLabel","EnvironmentVariablesStep","isModalVisible","toggleModal","toggleTokenModal","fieldValueTranslation","extra","field","onDone","BuildTools","RenderOptions","checked","onCheck","optionLabelKey","titleLabelKey","map","build","label","Steps","snippetForBuildTool","Maven","key","Gradle","Other","filenameForBuildTool","ProjectKeyStep","buildTool","setBuildTool","Object","file","CodeSnippet","snippet","PipeCommandGradle","PipeCommandMaven","PipeCommandOther","YmlFileStep","filename","links","rel","GitLabCITutorial","step","setStep","GitLab","PROJECT_KEY","ENV_VARIABLES","YML","SentenceWithHighlights","highlightKeys","translationKey","forEach","SentenceWithFilename","CreateJenkinsfileBulletPoint","alertTranslationKeyPart","overlay","BUILDTOOL_COMPONENT_MAP","MSBuild","JenkinsfileStep","alt","width","src","LabelActionPair","LabelValuePair","MultiBranchPipelineStep","slug","PreRequisitesStep","skipNextTime","htmlFor","onChangeSkipNextTime","WebhookStepBitbucket","ownUrl","linkUrl","href","isOneLine","WebhookStepGithub","WebhookStep","personalAccessToken","renderAlmSpecificInstructions","mapDispatchToProps","setCurrentUserSetting","skipPreReqs","skip","toString","PreRequisites","MultiBranchPipeline","Webhook","Jenkinsfile","MSBuildScanner","code","DotNet","command1","projectKey","organization","host","command3","InstanceMessage","message","transformedMessage","small","JavaGradle","command","plugin_code","JavaMaven","SQScanner","os","dir","env_var","q","s","renderCommandForMaven","renderCommandForGradle","renderCommandForDotNet","languageConfig","getProjectKey","renderCommandForOther","language","javaBuild","RenderOS","setOS","config","cFamilyCompiler","isLanguageConfigured","onReset","handleLanguageChange","handleJavaBuildChange","handleOSChange","renderJavaBuild","handleLanguageSelect","onFinish","handleLanguageReset","languageComponent","analysisComponent","displayRowLayout","getToken","selection","existingToken","canContinue","validExistingToken","match","handleTokenNameChange","handleTokenGenerate","then","stopLoading","handleContinueClick","onContinue","handleGenerateClick","handleUseExistingClick","handleModeChange","mode","handleExisingTokenChange","currentTarget","renderGenerateOption","length","autoFocus","renderUseExistingOption","validInput","canUseExisting","TutorialModes","TOKEN","handleTokenDone","ANALYSIS","handleTokenOpen","almKey","externalProvider","isVSTS","Boolean","TutorialSelectionRenderer","selectedTutorial","jenkinsAvailable","includes","onSelectTutorial","height","Manual","Jenkins","GitLabCI","forceManual","fetchAlmBindings","Promise","all","catch","almDefinitions","specificDefinitions","d","handleSelectTutorial","router","location","pathname","query","withRouter","EmptyOverview","branchLike","branchLikes","hasAnalyses","qualifier","Application","warning","hasBranches","hasBadBranchConfig","some","branch","showWarning","showTutorial","branchName","branchType","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","n","arguments","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","React","Modal_1","SimpleModal","_super","_this","submitting","stopSubmitting","handleCloseClick","blur","handleFormSubmit","submit","handleSubmitClick","result","_a","children","modalProps","createElement","contentLabel","onRequestClose","onFormSubmit","onSubmitClick","Component","AlmKeys","finalSnippet","noCopy","snippetRef","isArray","filter","line","join","ref","classNames","Tooltip_1","RadioToggle","renderOption","option","htmlId","tooltip","defaultProps","PureComponent","Radio","handleClick","getAlmDefinitions","getAlmDefinitionsNoCatch","getAlmSettings","project","almSettings","createGithubConfiguration","data","updateGithubConfiguration","createAzureConfiguration","updateAzureConfiguration","createBitbucketConfiguration","updateBitbucketConfiguration","createGitlabConfiguration","updateGitlabConfiguration","deleteConfiguration","countBindedProjects","almSetting","projects","getProjectAlmBinding","deleteProjectAlmBinding","setProjectAzureBinding","setProjectBitbucketBinding","setProjectGithubBinding","setProjectGitlabBinding","getTokens","r","generateToken","revokeToken"],"mappings":"gFAAA,IAAIA,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,sBClBjBE,EADkC,EAAQ,IAChCC,EAA4B,IAE9BC,KAAK,CAACP,EAAOC,EAAI,wYAAyY,KAElaD,EAAOK,QAAUA,G,qBCNjB,IAAIT,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,sBClBjBE,EADkC,EAAQ,IAChCC,EAA4B,IAE9BC,KAAK,CAACP,EAAOC,EAAI,ynCAA0nC,KAEnpCD,EAAOK,QAAUA,G,4KCwBX,SAAUG,EACdC,GAEA,OAAOA,EAAQC,MAAQ,IAAQC,UAG3B,SAAUC,EACdH,GAEA,OAAOA,EAAQC,MAAQ,IAAQG,OAiB3B,SAAUC,EACdL,GAEA,YACcM,IAAZN,QACkBM,IAAlBN,EAAQO,YACeD,IAAvBN,EAAQQ,iBACQF,IAAhBN,EAAQS,I,4ECvBN,SAAUC,EAAmBC,EAAuBC,QAAA,IAAAA,MAAA,IACxD,IAAMC,EAAW,SAACC,GAAiB,gBAAAH,EAAOI,MAAK,SAAAC,GAAS,OAAAA,EAAMF,OAAN,MAExD,IAAKD,EAASD,GACZ,OAAOA,EAIT,IADA,IAAIpB,EAAI,EACDqB,EAAYD,EAAgB,IAAIpB,IACrCA,IAEF,OAAUoB,EAAgB,IAAIpB,EAG1B,SAAUyB,EACdC,EACAC,GAQA,OALgBD,EAAWT,IACxBW,QAAQ,UAAW,IACnBA,QAAQ,OAAQ,IAChBA,QAAQ,MAAO,IAED,IAAID,EAAeE,W,yoDCrBtC,uE,OACE,EAAAC,SAAU,EACV,EAAAC,MAAe,CACbC,SAAS,EACTC,UAAW,IAYb,EAAAC,iBAAmB,gD,8DAGF,OAFT,EAA6BC,KAAKC,MAAhCC,EAAS,YAAEC,EAAW,cAEf,GAAM,YAAUA,EAAYC,Q,cAArCpB,EAAS,SAEXgB,KAAKL,SACPK,KAAKK,SAAS,CACZR,SAAS,EACTC,UAAWf,EAAmBC,EAAQ,YAAYkB,EAAUf,KAAI,O,YAKtE,EAAAmB,YAAc,gD,0DAGM,OAFVR,EAAcE,KAAKJ,MAAV,UAEC,GAAM,YAAc,CAAET,KAAMW,K,cAAtCT,EAAU,SAAL,MAETW,KAAKL,SACPK,KAAKK,SAAS,CACZhB,MAAK,EACLS,UAAS,I,YAKf,EAAAS,aAAe,SAACC,GACd,EAAKH,SAAS,CACZP,UAAWU,EAAMC,OAAOC,SAI5B,EAAAC,kBAAoB,gD,+DACVb,EAAcE,KAAKJ,MAAV,WAGf,GAAM,YAAY,CAAET,KAAMW,KADxB,M,OACF,SAEIE,KAAKL,SACPK,KAAKK,SAAS,CACZhB,MAAO,GACPS,UAAW,K,qCAqFrB,OA9I4C,OAO1C,YAAAc,kBAAA,WACEZ,KAAKL,SAAU,EACfK,KAAKD,oBAGP,YAAAc,qBAAA,WACEb,KAAKL,SAAU,GAkDjB,YAAAmB,OAAA,sBACQ,aAAEjB,EAAA,EAAAA,QAASR,EAAA,EAAAA,MAAOS,EAAA,EAAAA,UAElBiB,EAAS,oBAAU,mCAEzB,OACE,gBAAC,IAAW,CAACA,OAAQA,EAAQC,QAAShB,KAAKC,MAAMe,QAASC,SAAUjB,KAAKC,MAAMe,UAC5E,SAAC,G,IAAEE,EAAA,EAAAA,aAAmB,OACrB,gCACE,uBAAKC,UAAU,cACb,0BAAKJ,IAGP,uBAAKI,UAAU,cACb,qBAAGA,UAAU,iBACX,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,yBAC1BC,GAAG,wBACHC,OAAQ,CACNC,KACE,gBAAC,OAAI,CAACd,OAAO,SAASe,GAAG,qBACtB,oBAAU,2CAOpBnC,EACC,gCACE,wBAAM8B,UAAU,eACbrB,EACA,MAEH,uBAAKqB,UAAU,wBACb,wBAAMA,UAAU,qBAAqB9B,GAErC,gBAAC,sBAAmB,CAACoC,UAAWpC,IAEhC,gBAAC,eAAY,CAACqC,QAAS,EAAKf,qBAG9B,gBAACgB,EAAA,MAAK,CAACR,UAAU,iBAAiBS,QAAQ,WACvC,kCAAwB,iCAAkCvC,KAI/D,uBAAK8B,UAAU,kBACZtB,EACC,gBAAC,IAAe,MAEhB,gCACE,yBACEsB,UAAU,6CACVU,SAAU,EAAKtB,aACfuB,YAAa,oBAAU,+CACvBC,UAAU,EACVC,KAAK,OACLtB,MAAOZ,IAET,gBAAC,SAAM,CACLqB,UAAU,cACVc,UAAWnC,EACX4B,QAAS,EAAKpB,aACb,oBAAU,iCAOvB,uBAAKa,UAAU,cACb,gBAAC,SAAM,CAACO,QAASR,GAAe,oBAAU,mBAOxD,EA9IA,CAA4C,iB,iBCT9B,SAAU,EAAKjB,GACnB,IAAAiC,EAAA,EAAAA,SAAUC,EAAA,EAAAA,KAAMC,EAAA,EAAAA,WAAYC,EAAA,EAAAA,UAC9BlB,EAAY,EAAW,cAAe,kBAAmB,CAC7D,UAAWgB,EACX,cAAeD,EACf,sBAAiCvD,IAAfyD,IAGdE,GAAaH,GAAQD,QAA6BvD,IAAjBsB,EAAMsC,OAS7C,OACE,uBACEpB,UAAWA,EACXO,QAASY,EAVO,SAAC9B,GACnBA,EAAMgC,sBACe7D,IAAjBsB,EAAMsC,QACRtC,EAAMsC,eAO6B5D,EACnC8D,KAAMH,EAAY,cAAW3D,EAC7B+D,SAAUJ,EAAY,OAAI3D,QACVA,IAAfyD,GAA4B,uBAAKjB,UAAU,0BAA0BiB,IACpED,GAAQlC,EAAM0C,cAAgB1C,EAAM0C,eACtC,uBAAKxB,UAAU,sBACb,0BAAKkB,KAELF,GAAQ,uBAAKhB,UAAU,sBACzB,uBAAKA,UAAW,EAAW,CAAEyB,QAAST,KAAUlC,EAAM4C,eC1B5D,IAAMC,EAA+B,oBACnC,qEAGY,SAAUC,EAAyB9C,GACvC,IAAAC,EAAA,EAAAA,UAAWC,EAAA,EAAAA,YAAa+B,EAAA,EAAAA,SAAUC,EAAA,EAAAA,KAEpC,iBAACa,EAAA,KAAgBC,EAAA,KAEjBC,EAAmB,WAAM,OAAAD,GAAA,IAGzBE,EAAwB,oBAC5B,sEA+GF,OACE,gCACGH,GACC,gBAAC,EAAc,CAAC9C,UAAWA,EAAWC,YAAaA,EAAaa,QArH9C,WAAM,OAAAiC,GAAA,MAwH1B,gBAAC,EAAI,CACHf,SAAUA,EACVK,OAAQtC,EAAMsC,OACdJ,KAAMA,EACNU,WAtHa,WAAM,OACvB,uBAAK1B,UAAU,qBACb,sBAAIA,UAAU,4BACX,oBAAU,mEAGb,gBAAC,mBAAgB,CACfC,eAAgB,oBACd,wEAEFC,GAAG,uEACHC,OAAQ,CAENC,KAAM,8BAASuB,MAInB,sBAAI3B,UAAU,8BACZ,sBAAIA,UAAU,qBACZ,gBAAC,mBAAgB,CACfC,eAAgB+B,EAChB9B,GAAG,yDACHC,OAAQ,CACN8B,MAAO,gBAAC,sBAAmB,CAAC3B,UAAU,gBACtC4B,MAAO,oBAAU,0DACjB3C,MAAO,wBAAMS,UAAU,QAAM,mBAInC,sBAAIA,UAAU,qBACZ,gBAAC,mBAAgB,CACfC,eAAgB+B,EAChB9B,GAAG,yDACHC,OAAQ,CACN8B,MACE,gBAAC,SAAM,CAACjC,UAAU,cAAcO,QAASwB,GACtC,oBAAU,oCAGfG,MAAO,oBAAU,0DACjB3C,MAAO,oBACL,4EAKR,sBAAIS,UAAU,qBACX,oBAAU,2DAEb,sBAAIA,UAAU,qBACX,oBAAU,oEAIf,sBAAIA,UAAU,0BAEd,sBAAIA,UAAU,gCACX,oBAAU,oEAGb,gBAAC,mBAAgB,CACfC,eAAgB,oBACd,yEAEFC,GAAG,wEACHC,OAAQ,CAENC,KAAM,8BAASuB,MAInB,sBAAI3B,UAAU,gDACZ,sBAAIA,UAAU,qBACZ,gBAAC,mBAAgB,CACfC,eAAgB+B,EAChB9B,GAAG,yDACHC,OAAQ,CACN8B,MAAO,gBAAC,sBAAmB,CAAC3B,UAAU,mBACtC4B,MAAO,oBAAU,0DACjB3C,MAAO,wBAAMS,UAAU,QAAM,sBAInC,sBAAIA,UAAU,qBACZ,gBAAC,mBAAgB,CACfC,eAAgB+B,EAChB9B,GAAG,yDACHC,OAAQ,CACN8B,MAAO,gBAAC,sBAAmB,CAAC3B,UAAW,yBACvC4B,MAAO,oBAAU,0DACjB3C,MAAO,wBAAMS,UAAU,QAAQ,4BAIrC,sBAAIA,UAAU,qBACX,oBAAU,2DAEb,sBAAIA,UAAU,qBACX,oBAAU,qEAIf,gBAAC,SAAM,CAACA,UAAU,oBAAoBO,QAASzB,EAAMqD,QAClD,oBAvGkB,eAuHnBlB,WAAY,EACZC,UAAW,oBAAU,6D,IC1JjBkB,E,+BCaE,SAAUC,EAAc,G,IACpCC,EAAA,EAAAA,QACAC,EAAA,EAAAA,QACAC,EAAA,EAAAA,eACA7F,EAAA,EAAAA,QACA8F,EAAA,EAAAA,cAEA,OACE,uBAAKzC,UAAU,kBACZyC,GAAiB,sBAAIzC,UAAU,iBAAiB,oBAAUyC,IAE3D,gBAAC,IAAW,CACVzE,KAAMA,KACNuE,QAASA,EACT5F,QAASA,EAAQ+F,KAAI,SAAAC,GAAS,MAAC,CAC7BC,MAAO,oBAAUJ,EAAgBG,GACjCpD,MAAOoD,MAETpD,MAAO+C,MD/Bf,SAAYF,GACV,gBACA,kBAEA,gBAJF,CAAYA,MAAU,KEoBtB,ICVYS,ED8BNC,IAAmB,MACtBV,EAAWW,OArBO,SAACC,GAAgB,2CAChBA,EADgB,+FAsBpC,EAACZ,EAAWa,QAjBQ,SAACD,GAAgB,4HAMHA,EANG,2DAkBrC,EAACZ,EAAWc,OAPO,SAACF,GAAgB,0BAAoBA,EAApB,mCAQrC,GAEKG,IAAoB,MACvBf,EAAWW,OAAQ,UACpB,EAACX,EAAWa,QAAS,eACrB,EAACb,EAAWc,OAAQ,2BACrB,GAEa,SAAUE,EAAetE,GAC7B,IAAAuE,EAAA,EAAAA,UAAWtE,EAAA,EAAAA,UAAWgC,EAAA,EAAAA,SAAUC,EAAA,EAAAA,KA0CxC,OACE,gBAAC,EAAI,CACHD,SAAUA,EACVK,OAAQtC,EAAMsC,OACdJ,KAAMA,EACNU,WA7Ce,WAAM,OACvB,uBAAK1B,UAAU,qBACb,sBAAIA,UAAU,eACZ,0BACG,oBAAU,oBACX,gBAACqC,EAAa,CACZC,QAASe,EACTrF,KAAK,YACLuE,QAAS,SAAAhD,GAAS,OAAAT,EAAMwE,aAAN,IAClBd,eAAe,mBACf7F,QAAS4G,OAAOpD,OAAOiC,WAGZ5E,IAAd6F,GACC,sBAAIrD,UAAU,iBACZ,gBAAC,mBAAgB,CACfC,eAAgB,oBACd,kDAAkDoD,EAAS,UAE7DnD,GAAI,kDAAkDmD,EAAS,SAC/DlD,OAAQ,CACNqD,KACE,gCACE,wBAAMxD,UAAU,QAAQmD,EAAqBE,IAC7C,gBAAC,sBAAmB,CAClBrD,UAAU,qBACVM,UAAW6C,EAAqBE,SAM1C,gBAACI,EAAA,EAAW,CAACC,QAASZ,EAAoBO,GAAWtE,EAAUiE,cAItDxF,IAAd6F,GAA2B,gBAAC,SAAM,CAAC9C,QAASzB,EAAMqD,QAAS,oBApCvC,eA8CrBlB,WAAY,EACZC,UAAW,oBAAU,0DEnGb,SAAUyC,IAkBtB,OAAO,gBAACF,EAAA,EAAW,CAACC,QAjBJ,ocCDJ,SAAUE,IAmBtB,OAAO,gBAACH,EAAA,EAAW,CAACC,QAlBJ,kdCDJ,SAAUG,IAqBtB,OAAO,gBAACJ,EAAA,EAAW,CAACC,QApBJ,4fCYJ,SAAUI,EAAY,G,IAAET,EAAA,EAAAA,UAAWrC,EAAA,EAAAA,KA2F/C,OACE,gBAAC,EAAI,CACHD,UAAU,EACVC,KAAMA,EACNU,WA9Fe,WAAM,OACvB,uBAAK1B,UAAU,qBACb,uBAAKA,UAAU,gBACb,uBAAKA,UAAU,oBACZqD,GACC,gCACE,uBAAKrD,UAAU,qBACb,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,sDAC1BC,GAAG,qDACHC,OAAQ,CACN4D,SACE,gCACE,wBAAM/D,UAAU,QACb,oBAAU,oDAEb,gBAAC,sBAAmB,CAClBA,UAAU,qBACVM,UAAW,oBAAU,0DAQjC,uBAAKN,UAAU,qBACZqD,IAAcjB,EAAWW,OAAS,gBAACa,EAAgB,MACnDP,IAAcjB,EAAWa,QAAU,gBAACU,EAAiB,MACrDN,IAAcjB,EAAWc,OAAS,gBAACW,EAAgB,OAGtD,qBAAG7D,UAAU,wBACV,oBAAU,sDAGb,qBAAGA,UAAU,sBACV,oBAAU,oDAGb,sBAAIA,UAAU,0BACd,2BACE,qBAAGA,UAAU,qBACX,8BAAS,oBAAU,+CAAyD,KAAC,IAC7E,gBAAC,mBAAgB,CACfC,eAAgB,oBACd,2DAEFC,GAAG,0DACHC,OAAQ,CAENC,KAAM,oBACJ,oEAKR,qBAAGJ,UAAU,qBACX,8BACG,oBAAU,0DACH,IACT,oBAAU,sEAGb,qBAAGA,UAAU,qBACX,gBAAC,mBAAgB,CACfC,eAAgB,oBACd,2DAEFC,GAAG,0DACHC,OAAQ,CACN6D,MACE,gBAAC,OAAI,CACHC,IAAI,sBACJ3E,OAAO,SACPe,GAAG,4CACF,oBAAU,mEAmB/BY,WAAY,EACZC,UAAW,oBAAU,kDJ3Fb,SAAUgD,EAAiBpF,GAC/B,IAAAC,EAAA,EAAAA,UAAWC,EAAA,EAAAA,YAAaX,EAAA,EAAAA,eAE1B,4BAAC8F,EAAA,KAAMC,EAAA,KACP,eAACf,EAAA,KAAWC,EAAA,KAGlB,OAAoCjF,ERHrBlB,MAAQ,IAAQkH,OQK3B,gBAAC7D,EAAA,MAAK,CAACC,QAAQ,SAAS,oBAAU,mDAKpC,gCACE,uBAAKT,UAAU,iCACb,sBAAIA,UAAU,cAAc,oBAAU,8CAGxC,gBAACoD,EAAc,CACbC,UAAWA,EACXtE,UAAWA,EACXgC,SAAUoD,EAAOtB,EAAMyB,YACvBnC,OAAQ,WAAM,OAAAiC,EAAQvB,EAAR,gBACdzB,OAAQ,WAAM,OAAAgD,EAAQvB,EAAR,cACd7B,KAAMmD,IAAStB,EAAMyB,YACrBhB,aAAcA,IAGhB,gBAAC1B,EAAwB,CACvB7C,UAAWA,EACXC,YAAaA,EACb+B,SAAUoD,EAAOtB,EAAM0B,cACvBpC,OAAQ,WAAM,OAAAiC,EAAQvB,EAAR,MACdzB,OAAQ,WAAM,OAAAgD,EAAQvB,EAAR,gBACd7B,KAAMmD,IAAStB,EAAM0B,gBAGvB,gBAACT,EAAW,CAACT,UAAWA,EAAWrC,KAAMmD,IAAStB,EAAM2B,QAlD9D,SAAY3B,GACV,iCACA,qCACA,iBAHF,CAAYA,MAAK,K,sBKDH,SAAU4B,EAAuB,G,IAC7CC,EAAA,EAAAA,cACAC,EAAA,EAAAA,eAEMxE,EAA8B,GAIpC,OAHAuE,EAAcE,SAAQ,SAAA5B,GACpB7C,EAAO6C,GAAO,8BAAS,oBAAU2B,EAAgB,WAAY3B,OAG7D,gBAAC,mBAAgB,CACf/C,eAAgB,oBAAU0E,EAAgB,YAC1CzE,GAAOyE,EAAc,YACrBxE,OAAQA,ICZA,SAAU0E,EAAqB,G,IAC3Cd,EAAA,EAAAA,SACAY,EAAA,EAAAA,eAEA,OACE,wBAAM3E,UAAU,YACd,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU0E,EAAgB,YAC1CzE,GAAOyE,EAAc,YACrBxE,OAAQ,CACNqD,KAAM,4BAAOO,O,yBCPT,SAAUe,GAA6BhG,GAC3C,IAAA4E,EAAA,EAAAA,QAASqB,EAAA,EAAAA,wBAEjB,OACE,sBAAI/E,UAAU,iBACZ,gBAAC6E,EAAoB,CACnBd,SAAS,cACTY,eAAe,uEAEYnH,IAA5BuH,GACC,gBAACvE,EAAA,MAAK,CAACR,UAAU,aAAaS,QAAQ,QACpC,qBAAGT,UAAU,eACX,gBAACyE,EAAsB,CACrBC,cAAe,CAAC,UAAW,cAC3BC,eAAmBI,EAAuB,aAE5C,gBAAC,KAAW,CACV/E,UAAU,qBACVgF,QACE,gCACE,qBAAGhF,UAAU,iBACX,gBAACyE,EAAsB,CACrBC,cAAe,CAAC,QAChBC,eAAmBI,EAAuB,YAG9C,yBACE,gBAACN,EAAsB,CACrBC,cAAe,CAAC,OAAQ,QACxBC,eAAmBI,EAAuB,iBAS1D,gBAACtB,EAAA,EAAW,CAACC,QAASA,KCxC5B,I,GCMY,IAAZ,SAAYtB,GACV,gBACA,kBACA,oBACA,gBAJF,CAAY,QAAU,KAOtB,IAAM6C,KAAuB,OAG1B,GAAWlC,OCAA,SAAgB,G,IAhBVC,EAgBYjE,EAAA,EAAAA,UAC9B,OACE,gCACE,sBAAIiB,UAAU,iBACZ,gBAAC6E,EAAoB,CACnBd,SAAS,UACTY,eAAe,6DAEjB,gBAAClB,EAAA,EAAW,CAACC,SAxBDV,EAwBqBjE,EAAUiE,IAxBf,qCACdA,EADc,yCA0B9B,gBAAC8B,GAA4B,CAC3BC,wBAAwB,2DACxBrB,QAxBoB,8MDa1B,GAAC,GAAWT,QEIA,SAAiB,G,IArBHD,EAqBKjE,EAAA,EAAAA,UAC/B,OACE,gCACE,sBAAIiB,UAAU,iBACZ,gBAAC6E,EAAoB,CACnBd,SAAS,eACTY,eAAe,8DAEjB,gBAAClB,EAAA,EAAW,CAACC,SA7BOV,EA6BqBjE,EAAUiE,IA7Bf,sHAMRA,EANQ,gBA+BtC,gBAAC8B,GAA4B,CAACpB,QArBR,kKFQ1B,GAAC,GAAWwB,SGDA,SAAkB,G,IAhBJlC,EAgBMjE,EAAA,EAAAA,UAChC,OACE,sBAAIiB,UAAU,iBACZ,gBAAC6E,EAAoB,CACnBd,SAAS,cACTY,eAAe,kEAEjB,gBAACnE,EAAA,MAAK,CAACR,UAAU,aAAaS,QAAQ,QACpC,qBAAGT,UAAU,eACX,gBAACyE,EAAsB,CACrBC,cAAe,CAAC,kBAAmB,kBAAmB,cACtDC,eAAe,uEAEjB,gBAAC,KAAW,CACV3E,UAAU,qBACVgF,QACE,gCACE,qBAAGhF,UAAU,iBACX,gBAACyE,EAAsB,CACrBC,cAAe,CAAC,QAChBC,eAAe,sEAGnB,qBAAG3E,UAAU,iBACX,gBAACyE,EAAsB,CACrBC,cAAe,CAAC,OAAQ,QACxBC,eAAe,sEAGnB,yBACE,gBAACF,EAAsB,CACrBC,cAAe,CAAC,OAAQ,QACxBC,eAAe,2EAQ7B,gBAAClB,EAAA,EAAW,CAACC,SAxDSV,EAwDmBjE,EAAUiE,IAxDb,gSAQ+BA,EAR/B,2JHkB1C,GAAC,GAAWE,ODLA,SAAgB,G,IAdDF,EAcGjE,EAAA,EAAAA,UAC9B,OACE,gCACE,sBAAIiB,UAAU,iBACZ,gBAAC6E,EAAoB,CACnBd,SAAS,2BACTY,eAAe,6DAEjB,gBAAClB,EAAA,EAAW,CAACC,SAtBQV,EAsBqBjE,EAAUiE,IAtBf,0BAwBvC,gBAAC8B,GAA4B,CAC3BC,wBAAwB,2DACxBrB,QAxBoB,2NCkB3B,IAEa,SAAUyB,GAAgBrG,GAC9B,IAAAC,EAAA,EAAAA,UAAWiC,EAAA,EAAAA,KACb,qBAACqC,EAAA,KAAWC,EAAA,KAClB,OACE,gBAAC,EAAI,CACHvC,UAAU,EACVC,KAAMA,EACNU,WAAY,WAAM,OAChB,uBAAK1B,UAAU,qBACb,sBAAIA,UAAU,eACZ,0BACG,oBAAU,oBACX,gBAACqC,EAAa,CACZC,QAASe,EACTrF,KAAK,YACLuE,QAAS,SAAAhD,GAAS,OAAA+D,EAAA,IAClBd,eAAe,mBACf7F,QAAS4G,OAAOpD,OAAO,YAGZ3C,IAAd6F,GACC,gBAAoB4B,GAAwB5B,GAAY,CAAEtE,UAAS,UAExDvB,IAAd6F,GACC,gCACE,sBAAIrD,UAAU,uCACd,uBAAKA,UAAU,iBACb,qBAAGA,UAAU,qBACX,gBAACyE,EAAsB,CACrBC,cAAe,CAAC,WAChBC,eAAe,8CAGnB,uBAAK3E,UAAU,sCACb,2BACE,uBACEoF,IAAI,GACJpF,UAAU,mBACVqF,MAAO,GACPC,IAAQ,uBAAY,kCAGxB,2BACE,qBAAGtF,UAAU,wBACX,8BAAS,oBAAU,6CAErB,yBAAI,oBAAU,kDAGlB,uBAAKA,UAAU,uCACb,2BACE,uBACEoF,IAAI,GACJpF,UAAU,mBACVqF,MAAO,GACPC,IAAQ,uBAAY,mCAGxB,2BACE,qBAAGtF,UAAU,wBACX,8BAAS,oBAAU,8CAErB,yBAAI,oBAvDA,uDA+DlBiB,WAAY,EACZC,UAAW,oBAAU,wDIhGb,SAAUqE,GAAgB,G,IAAEZ,EAAA,EAAAA,eACxC,OACE,gCACE,8BAAS,oBAAUA,EAAgB,SAAmB,K,IAAE,oBAAUA,EAAgB,WCD1E,SAAUa,GAAe,G,IAAEb,EAAA,EAAAA,eAAgBpF,EAAA,EAAAA,MACvD,OACE,uBAAKS,UAAU,uBACb,0BAAQA,UAAU,uBAAuB,oBAAU2E,EAAgB,SAAmB,K,IAAEpF,EACxF,gBAAC,sBAAmB,CAACS,UAAU,qBAAqBM,UAAWf,KCevD,SAAUkG,GAAwB3G,GACtC,IAAAV,EAAA,EAAAA,WAAY2C,EAAA,EAAAA,SAAUC,EAAA,EAAAA,KAAM3C,EAAA,EAAAA,eACpC,OACE,gBAAC,EAAI,CACH0C,SAAUA,EACVK,OAAQtC,EAAMsC,OACdJ,KAAMA,EACNU,WAAY,WAAM,OAChB,uBAAK1B,UAAU,qBACb,qBAAGA,UAAU,qBACV,oBAAU,iEAEb,sBAAIA,UAAU,eACZ,0BACE,gBAACyE,EAAsB,CACrBC,cAAe,CAAC,WAAY,QAC5BC,eAAe,kEAGnB,0BACE,gBAACF,EAAsB,CACrBC,cAAe,CAAC,OAChBC,eAAgB,gEAAgEtG,EAAelB,MAEjG,sBAAI6C,UAAU,eACX/C,EAAkCoB,IACjC,gCACE,0BACE,gBAACkH,GAAe,CAACZ,eAAe,mFAElC,0BACE,gBAACY,GAAe,CAACZ,eAAe,kFAElC,0BACE,gBAACa,GAAc,CACbb,eAAe,+EACfpF,MAAOlB,EAAeE,cAG1B,0BACE,gBAACiH,GAAc,CACbb,eAAe,8EACfpF,MAAOlB,EAAeqH,SAK7BrI,EAA+BgB,IAC9B,gCACE,0BACE,gBAACkH,GAAe,CAACZ,eAAe,+EAElC,0BACGpH,EAA0Ba,GACzB,gBAACoH,GAAc,CACbb,eAAe,+EACfpF,MAAOpB,EAAgBC,EAAYC,KAGrC,gBAACkH,GAAe,CAACZ,eAAe,mFAKxC,0BACE,gBAACY,GAAe,CAACZ,eAAe,8EAItC,0BACE,gBAACF,EAAsB,CACrBC,cAAe,CAAC,OAChBC,eAAe,iEAEjB,sBAAI3E,UAAU,eACZ,0BACE,gBAACuF,GAAe,CAACZ,eAAe,uEAElC,0BACE,gBAACY,GAAe,CAACZ,eAAe,gFAItC,0BACE,gBAACF,EAAsB,CACrBC,cAAe,CAAC,QAChBC,eAAe,mEAIrB,gBAAC,SAAM,CAACpE,QAASzB,EAAMqD,QAAS,oBAnFlB,eAsFlBlB,WAAY,EACZC,UAAW,oBAAU,kE,IClGtB,G,qBCLS,SAAUyE,GAAkB7G,GAChC,IAAA3B,EAAA,EAAAA,IAAK6D,EAAA,EAAAA,KAAM4E,EAAA,EAAAA,aACnB,OACE,gBAAC,EAAI,CACH7E,UAAWC,EACXI,OAAQtC,EAAMsC,OACdJ,KAAMA,EACNU,WAAY,WAAM,OAChB,uBAAK1B,UAAU,qBACb,qBAAGA,UAAU,qBACX,gBAACyE,EAAsB,CACrBC,cAAe,CAAC,aAChBC,eAAe,oDAGnB,sBAAI3E,UAAU,iCACZ,0BACG,oBAAU,iEAAkE7C,IAE/E,0BAAK,oBAAU,oEAEjB,qBAAG6C,UAAU,qBACX,gBAAC,mBAAgB,CACfC,eAAgB,oBACd,+DAEFC,GAAG,8DACHC,OAAQ,CACNC,KACE,gBAAC,OAAI,CAACd,OAAO,SAASe,GAAG,oCACtB,oBAAU,yEAMrB,qBAAGL,UAAU,qBACV,oBAAU,2EAEb,qBAAGA,UAAU,yCACX,yBACEA,UAAU,iBACV6F,QAAQ,eACRtF,QAAS,WACPzB,EAAMgH,sBAAsBF,KAE7B,oBAAU,4DAEb,gBAAC,KAAQ,CACPtD,QAASsD,EACT5F,UAAU,qBACVE,GAAG,eACHqC,QAASzD,EAAMgH,wBAGnB,gBAAC,SAAM,CAACvF,QAASzB,EAAMqD,QACpB,oBAjDW,oDAqDlBjB,UAAW,oBAAU,oDC7Db,SAAU6E,GAAqBjH,GACnC,IALekH,EAKf5H,EAAA,EAAAA,WAAYC,EAAA,EAAAA,eAEd4H,EACJ7H,GACGA,EAAWT,IAAG,sCAAsCU,EAAeE,WAAU,UAAUF,EAAeqH,KAAI,UAE/G,OACE,gCACE,0BACE,gBAAC,mBAAgB,CACfzF,eAAgB,oBAAU,2DAC1BC,GAAG,0DACHC,OAAQ,CACNC,KAAM6F,EACJ,qBAAGC,KAAMD,EAAShC,IAAI,sBAAsB3E,OAAO,UAChD,oBAAU,kEAGb,oBAAU,oEAIhB,sBAAIU,UAAU,eACZ,0BACE,gBAACuF,GAAe,CAACZ,eAAe,yDAElC,sBAAI3E,UAAU,iBACZ,yBACE,gBAACuF,GAAe,CAACZ,eAAe,kEAElC,gBAAClB,EAAA,EAAW,CAAC0C,WAAW,EAAMzC,SAnCjBsC,EAmC0C5H,GAAcA,EAAWT,SAnCnE,IAAAqI,MAAA,uBAChB,gEAAgEA,KAmC7D,gBAACxF,EAAA,MAAK,CAACC,QAAQ,QACZ,oBAAU,4EAKnB,0BACE,gBAACgE,EAAsB,CACrBC,cAAe,CAAC,UAChBC,eAAe,6DAEjB,sBAAI3E,UAAU,eACZ,0BACE,gBAACuF,GAAe,CAACZ,eAAe,mEAElC,0BACE,gBAACY,GAAe,CAACZ,eAAe,mEAItC,0BACE,gBAACF,EAAsB,CACrBC,cAAe,CAAC,UAChBC,eAAe,qDC3DX,SAAUyB,GAAkBtH,GAChC,IAAAV,EAAA,EAAAA,WAAYC,EAAA,EAAAA,eAEd4H,EAAU7H,GAAiBD,EAAgBC,EAAYC,GAAe,kBAE5E,OACE,gCACE,0BACE,gBAAC,mBAAgB,CACf4B,eAAgB,oBAAU,2DAC1BC,GAAG,0DACHC,OAAQ,CACNC,KAAM6F,EACJ,qBAAGC,KAAMD,EAAShC,IAAI,sBAAsB3E,OAAO,UAChD,oBAAU,+DAGb,oBAAU,iEAIhB,sBAAIU,UAAU,eACZ,sBAAIA,UAAU,iBACZ,yBACE,gBAACuF,GAAe,CAACZ,eAAe,+DAElC,gBAAClB,EAAA,EAAW,CAAC0C,WAAW,EAAMzC,QAAQ,wBAI5C,0BACE,gBAACe,EAAsB,CACrBC,cAAe,CAAC,SAAU,UAC1BC,eAAe,0DAEjB,sBAAI3E,UAAU,eACZ,0BACE,8BACG,oBAAU,gEAGf,0BACE,8BAAS,oBAAU,gEAIzB,0BACE,gBAACyE,EAAsB,CACrBC,cAAe,CAAC,UAChBC,eAAe,qDCZX,SAAU0B,GAAYvH,GAC1B,IAAAiC,EAAA,EAAAA,SAAUC,EAAA,EAAAA,KAAM3C,EAAA,EAAAA,eAExB,OACE,gBAAC,EAAI,CACH0C,SAAUA,EACVK,OAAQtC,EAAMsC,OACdJ,KAAMA,EACNU,WAAY,WAAM,OAChB,uBAAK1B,UAAU,qBACb,qBAAGA,UAAU,qBACX,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,2DAC1BC,GAAG,0DACHC,OAAQ,CACNC,KACE,gBAAC,aAAU,CAACG,QAASzB,EAAMqD,QACxB,oBAAU,4DAMrB,sBAAInC,UAAU,eAhDxB,SAAuClB,GAC7B,I5BGR5B,E4BHQkB,EAAA,EAAAA,WAAYC,EAAA,EAAAA,eAEpB,OAAQA,EAAelB,KACrB,KAAK,IAAQC,UACX,OACE,gBAAC2I,GAAoB,CACnB3H,Y5BHRlB,E4BGiDkB,O5BAnCZ,IAAZN,QAAyCM,IAAhBN,EAAQS,UAAqDH,IAAhCN,EAAQoJ,oB4BADlI,OAAaZ,GACpEa,eAAgBA,IAItB,KAAK,IAAQf,OACX,OACE,gBAAC8I,GAAiB,CAChBhI,WAAYb,EAA0Ba,GAAcA,OAAaZ,EACjEa,eAAgBA,IAItB,QACE,OAAO,MA2B0BkI,CAA8BzH,IAC3D,gBAAC,SAAM,CAACyB,QAASzB,EAAMqD,QAAS,oBAhBlB,eAmBlBlB,WAAY,EACZC,UAAW,oBAAU,2CAA4C7C,EAAelB,IAAK,YJvD3F,SAAK0F,GACH,qCACA,iDACA,yBACA,iCAJF,CAAK,QAAK,KAoEV,IAMM2D,GAAqB,CAAEC,sBAAqB,KAEnC,sBARS,SAAChI,GACvB,MAAO,CACLiI,YAAmF,SAAtE,gCAAsBjI,EA/DK,6CAqEJ+H,GAAzB,EAnET,SAA0B1H,GACtB,IAAAV,EAAA,EAAAA,WAAYW,EAAA,EAAAA,UAAWV,EAAA,EAAAA,eAAgBqI,EAAA,EAAAA,YACzC,wDAACvC,EAAA,KAAMC,EAAA,KAKb,OACGnH,EAAkCoB,IAClChB,EAA+BgB,GAQhC,gCACE,uBAAK2B,UAAU,iCACb,sBAAIA,UAAU,cAAc,oBAAU,4CAGxC,gBAAC2F,GAAiB,CAChBxI,IAAKkB,EAAelB,IACpBgF,OAAQ,WAAM,OAAAiC,EAAQ,GAAR,sBACdhD,OAAQ,WAAM,OAAAgD,EAAQ,GAAR,gBACd0B,qBAAsB,SAAAa,GACpB7H,EAAM2H,sBAAsB,CAC1BzD,IA9BgC,yCA+BhCzD,MAAOoH,EAAKC,cAGhB5F,KAAMmD,IAAS,GAAM0C,cACrBjB,aAAcc,IAGhB,gBAACjB,GAAuB,CACtBrH,WAAYA,EACZ2C,SAAUoD,EAAO,GAAM2C,oBACvB3E,OAAQ,WAAM,OAAAiC,EAAQ,GAAR,UACdhD,OAAQ,WAAM,OAAAgD,EAAQ,GAAR,sBACdpD,KAAMmD,IAAS,GAAM2C,oBACrBzI,eAAgBA,IAGlB,gBAACgI,GAAW,CACVjI,WAAYA,EACZ2C,SAAUoD,EAAO,GAAM4C,QACvB5E,OAAQ,WAAM,OAAAiC,EAAQ,GAAR,cACdhD,OAAQ,WAAM,OAAAgD,EAAQ,GAAR,UACdpD,KAAMmD,IAAS,GAAM4C,QACrB1I,eAAgBA,IAGlB,gBAAC8G,GAAe,CAACpG,UAAWA,EAAWiC,KAAMmD,IAAS,GAAM6C,eA1C5D,gBAACxG,EAAA,MAAK,CAACC,QAAQ,SAAS,oBAAU,oD,wBKpC1B,SAAUwG,GAAenI,GACrC,OACE,uBAAKkB,UAAWlB,EAAMkB,WACpB,sBAAIA,UAAU,iBAAiB,oBAAU,uCACzC,qBAAGA,UAAU,0BACX,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,oCAC1BC,GAAG,mCACHC,OAAQ,CAAE+G,KAAM,0CAGpB,yBACE,gBAAC,OAAI,CACHlH,UAAU,SACVK,GAAG,yDACHf,OAAO,UACN,oBAAU,oBCTP,SAAU6H,GAAOrI,GAC7B,IAAMsI,EAAW,CACf,iCACA,OAAOtI,EAAMuI,WAAU,IACvBvI,EAAMwI,cAAgB,0BAA0BxI,EAAMwI,aAAY,IAClE,sBAAsBxI,EAAMyI,KAAI,IAChC,mBAAmBzI,EAAMZ,MAAK,KAK1BsJ,EAAW,CAAC,+BAAgC,mBAAmB1I,EAAMZ,MAAK,KAEhF,OACE,2BACE,gBAAC+I,GAAc,MAEf,sBAAIjH,UAAU,iCACX,oBAAU,wCAEb,gBAACyH,GAAA,EAAe,CAACC,QAAS,oBAAU,8CACjC,SAAAC,GAAsB,4BAAG3H,UAAU,0BAAb,MAEzB,gBAACyD,EAAA,EAAW,CAAC0C,WAAW,EAAMzC,QAAS0D,IACvC,gBAAC3D,EAAA,EAAW,CAAC0C,WAAW,EAAMzC,QAfjB,2BAgBb,gBAACD,EAAA,EAAW,CAAC0C,UAAWrH,EAAM8I,MAAOlE,QAAS8D,IAC9C,qBAAGxH,UAAU,2BACX,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,4BAC1BC,GAAG,2BACHC,OAAQ,CACNC,KACE,gBAAC,OAAI,CAACC,GAAG,yDAAyDf,OAAO,UACtE,oBAAU,+CCnCb,SAAUuI,GAAW/I,GACjC,IAEMgJ,EAAU,CACd,sBACAhJ,EAAMuI,YAAc,sBAAsBvI,EAAMuI,WAChDvI,EAAMwI,cAAgB,wBAAwBxI,EAAMwI,aACpD,oBAAoBxI,EAAMyI,KAC1B,iBAAiBzI,EAAMZ,OAGzB,OACE,2BACE,sBAAI8B,UAAU,iBAAiB,oBAAU,2CACzC,gBAACyH,GAAA,EAAe,CAACC,QAAS,oBAAU,4CACjC,SAAAC,GAAsB,OACrB,qBAAG3H,UAAU,0BACX,gBAAC,mBAAgB,CACfC,eAAgB0H,EAChBzH,GAAG,yCACHC,OAAQ,CACN4H,YAAa,6CACbhE,SAAU,mDAMpB,gBAACN,EAAA,EAAW,CAACC,QA3BF,qDA4BX,qBAAG1D,UAAU,qCACV,oBAAU,2CAEb,gBAACyD,EAAA,EAAW,CAACC,QAASoE,IACtB,qBAAG9H,UAAU,2BACX,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,4BAC1BC,GAAG,2BACHC,OAAQ,CACNC,KACE,gBAAC,OAAI,CAACC,GAAG,wDAAwDf,OAAO,UACrE,oBAAU,kDAMrB,qBAAGU,UAAU,2BACVlB,EAAMuI,WACH,oBAAU,mDACV,oBAAU,mDCjDR,SAAUW,GAAUlJ,GAChC,IAAMgJ,EAAU,CACd,kBACAhJ,EAAMuI,YAAc,sBAAsBvI,EAAMuI,WAChDvI,EAAMwI,cAAgB,wBAAwBxI,EAAMwI,aACpD,oBAAoBxI,EAAMyI,KAC1B,iBAAiBzI,EAAMZ,OAGzB,OACE,2BACE,sBAAI8B,UAAU,iBAAiB,oBAAU,0CACzC,qBAAGA,UAAU,0BACX,gBAACyH,GAAA,EAAe,CAACC,QAAS,oBAAU,0CAEtC,gBAACjE,EAAA,EAAW,CAACC,QAASoE,IACtB,qBAAG9H,UAAU,2BACX,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,4BAC1BC,GAAG,2BACHC,OAAQ,CACNC,KACE,gBAAC,OAAI,CAACC,GAAG,wDAAwDf,OAAO,UACrE,oBAAU,iDAMrB,qBAAGU,UAAU,2BACVlB,EAAMuI,WACH,oBAAU,mDACV,oBAAU,mDCpCR,SAAUY,GAAUnJ,GAChC,OACE,uBAAKkB,UAAWlB,EAAMkB,WACpB,sBAAIA,UAAU,iBACX,oBAAU,wCAAyClB,EAAMoJ,KAE5D,qBAAGlI,UAAU,0BACX,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,uCAC1BC,GAAG,sCACHC,OAAQ,CACNgI,IAAK,mCACLC,QAAS,4BAAoB,QAAbtJ,EAAMoJ,GAAe,SAAW,YAItD,yBACE,gBAAC,OAAI,CAAClI,UAAU,SAASK,GAAG,6CAA6Cf,OAAO,UAC7E,oBAAU,oBCXP,SAAU,GAAMR,GAC5B,IAAMuJ,EjCAQ,QiCAEvJ,EAAMoJ,GjCAA,SAACI,GAAc,UAAIA,EAAJ,KAAW,SAACA,GAAc,OAAAA,GiCCzDR,EAAU,CACD,QAAbhJ,EAAMoJ,GAAe,oBAAsB,gBAC3C,KAAOG,EAAE,oBAAoBvJ,EAAMuI,YACnCvI,EAAMwI,cAAgB,KAAOe,EAAE,sBAAsBvJ,EAAMwI,cAC3D,KAAOe,EAAE,mBACT,KAAOA,EAAE,kBAAkBvJ,EAAMyI,MACjC,KAAOc,EAAE,eAAevJ,EAAMZ,QAGhC,OACE,2BACE,gBAAC+J,GAAS,CAACC,GAAIpJ,EAAMoJ,KAErB,sBAAIlI,UAAU,iCACX,oBAAU,2CAEb,gBAACyH,GAAA,EAAe,CAACC,QAAS,oBAAU,iDACjC,SAAAC,GAAsB,4BAAG3H,UAAU,0BAAb,MAEzB,gBAACyD,EAAA,EAAW,CAAC0C,UAAwB,QAAbrH,EAAMoJ,GAAcxE,QAASoE,IACrD,qBAAG9H,UAAU,2BACX,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,uCAC1BC,GAAG,sCACHC,OAAQ,CACNC,KACE,gBAAC,OAAI,CAACC,GAAG,6CAA6Cf,OAAO,UAC1D,oBAAU,kD,mVC7B3B,uE,OACE,EAAAiJ,sBAAwB,WAChB,cAAExJ,EAAA,EAAAA,UAAWb,EAAA,EAAAA,MACnB,OAAKA,EAIH,gBAAC8J,GAAS,CACRT,KAAM,uBACND,aAAc,EAAKxI,MAAMwI,aACzBD,WAAYtI,GAAaA,EAAUiE,IACnC9E,MAAOA,IAPF,MAYX,EAAAsK,uBAAyB,WACjB,cAAEzJ,EAAA,EAAAA,UAAWb,EAAA,EAAAA,MACnB,OAAKA,EAIH,gBAAC2J,GAAU,CACTN,KAAM,uBACND,aAAc,EAAKxI,MAAMwI,aACzBD,WAAYtI,GAAaA,EAAUiE,IACnC9E,MAAOA,IAPF,MAYX,EAAAuK,uBAAyB,WACjB,cAAE1J,EAAA,EAAAA,UAAW2J,EAAA,EAAAA,eAAgBd,EAAA,EAAAA,MAAO1J,EAAA,EAAAA,MACpCmJ,EAAasB,GAAcD,EAAgB3J,GACjD,OAAKsI,GAAenJ,EAIlB,gBAACiJ,GAAM,CACLI,KAAM,uBACND,aAAc,EAAKxI,MAAMwI,aACzBD,WAAYA,EACZO,MAAOA,EACP1J,MAAOA,IARF,MAaX,EAAA0K,sBAAwB,WAChB,cAAE7J,EAAA,EAAAA,UAAW2J,EAAA,EAAAA,eAAgBxK,EAAA,EAAAA,MAC7BmJ,EAAasB,GAAcD,EAAgB3J,GACjD,OAAK2J,GAAmBrB,GAAeqB,EAAeR,IAAOhK,EAI3D,gBAAC,GAAK,CACJqJ,KAAM,uBACND,aAAc,EAAKxI,MAAMwI,aACzBY,GAAIQ,EAAeR,GACnBb,WAAYA,EACZnJ,MAAOA,IARF,M,EA0Bb,OA9E6C,QAiE3C,YAAAyB,OAAA,WACU,IAAA+I,EAAA,WAAAA,eAER,MAAgC,SAA5BA,EAAeG,SACmB,UAA7BH,EAAeI,UAClBjK,KAAK0J,wBACL1J,KAAK2J,yBAC4B,WAA5BE,EAAeG,SACjBhK,KAAK4J,yBAEL5J,KAAK+J,yBAGlB,EA9EA,CAA6C,iB,6hBCKvC,SAAUG,GAASjK,GACvB,OACE,gBAACuD,EAAa,CACZC,QAASxD,EAAMoJ,GACflK,KAAK,KACLuE,QAASzD,EAAMkK,MACfxG,eAAe,yBACf7F,QAAS,CAAC,QAAS,MAAO,OAC1B8F,cAAc,2BAKpB,I,GAAA,YACE,WAAY3D,GAAZ,MACE,YAAMA,IAAM,K,OAOd,EAAAM,aAAe,YnCzCX,SAA+B6J,GACnC,IAAKA,EACH,OAAO,EAED,IAAAJ,EAAA,EAAAA,SAAUC,EAAA,EAAAA,UAAWI,EAAA,EAAAA,gBAAiBhB,EAAA,EAAAA,GAAIb,EAAA,EAAAA,WAOlD,MANsC,SAAbwB,GAAoC,MAAbC,GACR,WAAbD,GAAuC,MAAdxB,GAErC,aAAbwB,IAAgD,SAApBK,GAAoC,MAANhB,IAA6B,MAAdb,GACpC,UAAbwB,GAAsC,MAAdxB,EmCiC5C8B,CAAqB,EAAK1K,OAG5B,EAAKK,MAAMsK,UAFX,EAAKtK,MAAMqD,OAAO,EAAK1D,QAM3B,EAAA4K,qBAAuB,SAACR,GACtB,EAAK3J,SAAS,CAAE2J,SAAQ,GAAI,EAAKzJ,eAGnC,EAAAkK,sBAAwB,SAACR,GACvB,EAAK5J,SAAS,CAAE4J,UAAS,GAAI,EAAK1J,eAGpC,EAAAmK,eAAiB,SAACrB,GAChB,EAAKhJ,SAAS,CAAEgJ,GAAE,GAAI,EAAK9I,eAG7B,EAAAoK,gBAAkB,WAAM,OACtB,gBAACnH,EAAa,CACZC,QAAS,EAAK7D,MAAMqK,UACpB9K,KAAK,aACLuE,QAAS,EAAK+G,sBACd9G,eAAe,4CACf7F,QAAS,CAAC,QAAS,UACnB8F,cAPoB,+CA1BtB,EAAKhE,MAAK,SACJ,EAAKK,MAAMmK,QAAU,IAAG,CAC5B5B,WAAYvI,EAAMC,UAAYD,EAAMC,UAAUiE,SAAMxF,I,EA0D1D,OA/D0C,QAwCxC,YAAAmC,OAAA,WACU,IAAAkJ,EAAA,WAAAA,SAGR,OACE,gCACE,2BACE,sBAAI7I,UAAU,iBAAiB,oBAAU,wBACzC,gBAAC,IAAW,CACVhC,KAAK,WACLuE,QAAS1D,KAAKwK,qBACd1M,QATU,CAAC,OAAQ,SAAU,SASV+F,KAAI,SAAAmG,GAAY,MAAC,CAClCjG,MAAO,oBAAU,sBAAuBiG,GACxCtJ,MAAOsJ,MAETtJ,MAAOsJ,KAGG,SAAbA,GAAuBhK,KAAK2K,kBACf,UAAbX,GAAwB,gBAACE,GAAQ,CAACb,GAAIrJ,KAAKJ,MAAMyJ,GAAIc,MAAOnK,KAAK0K,mBAI1E,EA/DA,CAA0C,iB,4UCbpC,SAAUZ,GAAcM,EAAyBlK,GACrD,OAAQA,GAAaA,EAAUiE,KAASiG,GAAUA,EAAO5B,WAG3D,ICnBY,G,GDmBZ,uE,OACE,EAAA5I,MAAe,GAEf,EAAAgL,qBAAuB,SAACR,GAEtB,GADA,EAAK/J,SAAS,CAAE+J,OAAM,IAClB,EAAKnK,MAAM4K,SAAU,CACvB,IAAMrC,EAAiC,SAApB4B,EAAOJ,SAAsBF,GAAcM,QAAUzL,EACxE,EAAKsB,MAAM4K,SAASrC,KAIxB,EAAAsC,oBAAsB,WACpB,EAAKzK,SAAS,CAAE+J,YAAQzL,IACpB,EAAKsB,MAAMsK,SACb,EAAKtK,MAAMsK,WAIf,EAAA1H,WAAa,WACX,IAAMkI,EACJ,gBAAC,GAAY,CACX7K,UAAW,EAAKD,MAAMC,UACtBoD,OAAQ,EAAKsH,qBACbL,QAAS,EAAKO,oBACdrC,aAAc,EAAKxI,MAAMwI,eAGvBuC,EAAoB,EAAKpL,MAAMwK,QACnC,gBAAC,GAAe,CACdlK,UAAW,EAAKD,MAAMC,UACtB2J,eAAgB,EAAKjK,MAAMwK,OAC3B3B,aAAc,EAAKxI,MAAMwI,aACzBM,OAAO,EACP1J,MAAO,EAAKY,MAAMZ,QAItB,OAAI,EAAKY,MAAMgL,iBAEX,uBAAK9J,UAAU,qBACb,uBAAKA,UAAU,uBACZ4J,EACAC,GAAqB,uBAAK7J,UAAU,mBAAmB6J,KAO9D,uBAAK7J,UAAU,qBACb,uBAAKA,UAAU,gBACb,uBAAKA,UAAU,+CAA+C4J,GAC9D,uBAAK5J,UAAU,gCAAgC6J,MAMvD,EAAArI,aAAe,WAAM,a,EAevB,OAzEiD,QA4D/C,YAAA7B,OAAA,WACE,OACE,gBAAC,EAAI,CACHoB,UAAU,EACVK,OAAQ,aACRJ,KAAMnC,KAAKC,MAAMkC,KACjBU,WAAY7C,KAAK6C,WACjBF,aAAc3C,KAAK2C,aACnBP,WAAYpC,KAAKC,MAAMmC,WACvBC,UAAW,oBAAU,iCAI7B,EAzEA,CAAiD,iB,8YEKjD,YAGE,WAAYpC,GAAZ,MACE,YAAMA,IAAM,K,OAHd,EAAAN,SAAU,EAkCV,EAAAuL,SAAW,WACT,MAAyB,aAAzB,EAAKtL,MAAMuL,UAA2B,EAAKvL,MAAMP,MAAQ,EAAKO,MAAMwL,eAEtE,EAAAC,YAAc,WACN,cAAED,EAAA,EAAAA,cAAeD,EAAA,EAAAA,UAAW9L,EAAA,EAAAA,MAC5BiM,EAA2D,MAAtCF,EAAcG,MAAM,eAC/C,MACiB,aAAdJ,GAAqC,MAAT9L,GACd,iBAAd8L,GAAgCC,GAAiBE,GAItD,EAAAE,sBAAwB,SAAChL,GACvB,EAAKH,SAAS,CAAEP,UAAWU,EAAMC,OAAOC,SAG1C,EAAA+K,oBAAsB,SAACjL,GACrBA,EAAMgC,iBACE,IAAA1C,EAAA,QAAAA,UACJA,IACF,EAAKO,SAAS,CAAER,SAAS,IACzB,YAAc,CAAEV,KAAMW,IAAa4L,MAAK,SAAC,G,IAAErM,EAAA,EAAAA,MACrC,EAAKM,SACP,EAAKU,SAAS,CAAER,SAAS,EAAOR,MAAK,MAEtC,EAAKsM,eAIZ,EAAAhL,kBAAoB,WACV,IAAAb,EAAA,QAAAA,UACJA,IACF,EAAKO,SAAS,CAAER,SAAS,IACzB,YAAY,CAAEV,KAAMW,IAAa4L,MAAK,WAChC,EAAK/L,SACP,EAAKU,SAAS,CAAER,SAAS,EAAOR,WAAOV,EAAWmB,eAAWnB,MAE9D,EAAKgN,eAIZ,EAAAC,oBAAsB,WACpB,IAAMvM,EAAQ,EAAK6L,WACf7L,GACF,EAAKY,MAAM4L,WAAWxM,IAI1B,EAAAyM,oBAAsB,SAACtL,GACrBA,EAAMgC,iBACN,EAAKnC,SAAS,CAAE8K,UAAW,cAG7B,EAAAY,uBAAyB,SAACvL,GACxBA,EAAMgC,iBACN,EAAKnC,SAAS,CAAE8K,UAAW,kBAG7B,EAAAa,iBAAmB,SAACC,GAClB,EAAK5L,SAAS,CAAE8K,UAAWc,KAG7B,EAAAC,yBAA2B,SAAC1L,GAC1B,EAAKH,SAAS,CAAE+K,cAAe5K,EAAM2L,cAAczL,SAGrD,EAAAiL,YAAc,WACR,EAAKhM,SACP,EAAKU,SAAS,CAAER,SAAS,KAI7B,EAAAuM,qBAAuB,WAAM,OAC3B,gCACyBzN,IAAtB,EAAKiB,MAAMZ,QAAwB,EAAKY,MAAMZ,OAAOqN,OAAS,EAC7D,gBAAC,KAAK,CACJ5I,QAAkC,aAAzB,EAAK7D,MAAMuL,UACpBzH,QAAS,EAAKsI,iBACdtL,MAAM,YACL,oBAAU,oCAGb,oBAAU,mCAEc,aAAzB,EAAKd,MAAMuL,WACV,uBAAKhK,UAAU,kBACb,wBAAMF,SAAU,EAAKwK,qBACnB,yBACEa,WAAW,EACXnL,UAAU,6CACVU,SAAU,EAAK2J,sBACf1J,YAAa,oBAAU,+CACvBC,UAAU,EACVC,KAAK,OACLtB,MAAO,EAAKd,MAAME,WAAa,KAEhC,EAAKF,MAAMC,QACV,qBAAGsB,UAAU,wBAEb,gBAAC,eAAY,CAACA,UAAU,cAAcc,UAAW,EAAKrC,MAAME,WACzD,oBA5Bc,kCAqC7B,EAAAyM,wBAA0B,WAChB,IAAAnB,EAAA,QAAAA,cACFoB,GAAcpB,GAAuD,MAAtCA,EAAcG,MAAM,eAEzD,OACE,uBAAKpK,UAAU,kBACb,gBAAC,KAAK,CACJsC,QAAkC,iBAAzB,EAAK7D,MAAMuL,UACpBzH,QAAS,EAAKsI,iBACdtL,MAAM,gBACL,oBAAU,wCAEa,iBAAzB,EAAKd,MAAMuL,WACV,uBAAKhK,UAAU,kBACb,yBACEmL,WAAW,EACXnL,UAAU,6CACVU,SAAU,EAAKqK,yBACfpK,YAAa,oBAAU,mDACvBC,UAAU,EACVC,KAAK,OACLtB,MAAO,EAAKd,MAAMwL,iBAElBoB,GACA,wBAAMrL,UAAU,eACd,gBAAC,KAAc,CAACA,UAAU,sCACzB,oBAAU,uCASzB,EAAA0B,WAAa,WACL,cAAEhD,EAAA,EAAAA,QAASR,EAAA,EAAAA,MAAOS,EAAA,EAAAA,UAAWd,EAAA,EAAAA,OAC7ByN,OAA4B9N,IAAXK,GAAwBA,EAAOqN,OAAS,EAE/D,OACE,uBAAKlL,UAAU,qBACH,MAAT9B,EACC,wBAAM4B,SAAU,EAAKN,mBACnB,wBAAMQ,UAAU,eACbrB,EACA,MAEH,0BAAQqB,UAAU,4BAA4B9B,GAC7CQ,EACC,qBAAGsB,UAAU,wBAEb,gBAAC,eAAY,CAACA,UAAU,2BAA2BO,QAAS,EAAKf,qBAIrE,2BACG,EAAKyL,uBACLK,GAAkB,EAAKF,2BAI5B,uBAAKpL,UAAU,gCACb,gBAAC,mBAAgB,CACfC,eAAgB,oBAAU,yBAC1BC,GAAG,wBACHC,OAAQ,CACNC,KACE,gBAAC,OAAI,CAACd,OAAO,SAASe,GAAG,qBACtB,oBAAU,2CAOpB,EAAK6J,eACJ,uBAAKlK,UAAU,kBACb,gBAAC,SAAM,CAACA,UAAU,cAAcO,QAAS,EAAKkK,qBAC3C,oBAAU,gBAQvB,EAAAjJ,aAAe,WACP,cAAEwI,EAAA,EAAAA,UAAWrL,EAAA,EAAAA,UACbT,EAAQ,EAAK6L,WAEnB,OAAK7L,EAKH,uBAAK8B,UAAU,2CACb,gBAAC,KAAgB,CAACA,UAAU,iBACb,aAAdgK,GAA4BrL,GAAgBA,EAAS,KACtD,8BAAST,IAPJ,MAtOT,EAAKO,MAAQ,CACXwL,cAAe,GACfvL,SAAS,EACTsL,UAAW,WACXrL,UAAWG,EAAMhB,kB,EA2PvB,OApQuC,QAarC,YAAA2B,kBAAA,sBACEZ,KAAKL,SAAU,EACf,YAAUK,KAAKC,MAAME,YAAYC,OAAOsL,MACtC,SAAA1M,GACM,EAAKW,UACP,EAAKU,SAAS,CAAErB,OAAM,SAEYL,IAAhC,EAAKsB,MAAMhB,kBACX,EAAKgB,MAAMhB,mBAAqB,EAAKW,MAAME,WAE3C,EAAKO,SAAS,CAAEP,UAAWf,EAAmBC,SAIpD,gBAIJ,YAAA6B,qBAAA,WACEb,KAAKL,SAAU,GAuNjB,YAAAmB,OAAA,WACE,OACE,gBAAC,EAAI,CACHoB,SAAUlC,KAAKC,MAAMiC,SACrBK,OAAQvC,KAAKC,MAAMsC,OACnBJ,KAAMnC,KAAKC,MAAMkC,KACjBU,WAAY7C,KAAK6C,WACjBF,aAAc3C,KAAK2C,aACnBP,WAAYpC,KAAKC,MAAMmC,WACvBC,UAAW,oBAAU,8BAI7B,EApQA,CAAuC,iB,6UDxBvC,SAAY2B,GACV,2BACA,qBAFF,CAAY,QAAK,KAejB,IEtBY0I,G,GFsBZ,uE,OACE,EAAA9M,MAAe,CAAE0F,KAAM,GAAMqH,OAE7B,EAAAC,gBAAkB,SAACvN,GACjB,EAAKgB,SAAS,CAAEiF,KAAM,GAAMuH,SAAUxN,MAAK,KAG7C,EAAAyN,gBAAkB,WAChB,EAAKzM,SAAS,CAAEiF,KAAM,GAAMqH,S,EAyChC,OAjD4C,QAW1C,YAAA7L,OAAA,WACQ,iBAAEZ,EAAA,EAAAA,UAAWC,EAAA,EAAAA,YACb,aAAEmF,EAAA,EAAAA,KAAMjG,EAAA,EAAAA,MAER0N,EAAU7M,EAAU5B,KAAO4B,EAAU5B,IAAI6F,KAAQhE,EAAY6M,iBACnE,OACE,gCACE,uBAAK7L,UAAU,iCACb,sBAAIA,UAAU,cAAc,oBAAU,uCACtC,qBAAGA,UAAU,oBACX,gBAACyH,GAAA,EAAe,CAACC,QAAS,oBAAU,gDGX1C,SAAiBkE,GACrB,MAAkB,cAAXA,EHcCE,CAAOF,IACP,gCACE,gBAAC,GAAS,CACR5M,YAAaA,EACb+B,SAAUgL,QAAQlN,KAAKJ,MAAMP,OAC7BJ,iBAAkB,YAAYiB,EAAUf,KAAI,IAC5C0M,WAAY7L,KAAK4M,gBACjBrK,OAAQvC,KAAK8M,gBACb3K,KAAMmD,IAAS,GAAMqH,MACrBvK,WAAY,IAGd,gBAAC,GAAmB,CAClBlC,UAAWA,EACX+K,kBAAkB,EAClB9I,KAAMmD,IAAS,GAAMuH,SACrBzK,WAAY,EACZ/C,MAAOA,OAOrB,EAjDA,CAA4C,iBIF9B,SAAU8N,GAA0BlN,GACxC,IAAAV,EAAA,EAAAA,WAAYW,EAAA,EAAAA,UAAWC,EAAA,EAAAA,YAAaN,EAAA,EAAAA,QAASL,EAAA,EAAAA,eAAgB4N,EAAA,EAAAA,iBAErE,GAAIvN,EACF,OAAO,qBAAGsB,UAAU,YAGtB,IAAMkM,EACJ7N,GAAkB,CAAC,IAAQjB,UAAW,IAAQE,QAAQ6O,SAAS9N,EAAelB,KAEhF,OACE,qCACwBK,IAArByO,GACC,uBAAKjM,UAAU,sBACb,0BAAQA,UAAU,mCAChB,sBAAIA,UAAU,iCACX,oBAAU,uCAIf,uBAAKA,UAAU,gCACZ3B,aAAc,EAAdA,EAAgBlB,OAAQ,IAAQkH,QAC/B,0BACErE,UAAU,uFACVO,QAAS,WAAM,OAAAzB,EAAMsN,iBAAiBb,GAAvB,WACf1K,KAAK,UACL,uBACEuE,IAAI,GACJiH,OAAQ,GACR/G,IAAQ,uBAAY,2BAEtB,uBAAKtF,UAAU,yBACZ,oBAAU,iDAKhBkM,GACC,0BACElM,UAAU,wFACVO,QAAS,WAAM,OAAAzB,EAAMsN,iBAAiBb,GAAvB,UACf1K,KAAK,UACL,uBACEuE,IAAI,GACJiH,OAAQ,GACR/G,IAAQ,uBAAY,kCAEtB,uBAAKtF,UAAU,yBACZ,oBAAU,+CAKjB,0BACEA,UAAU,uFACVO,QAAS,WAAM,OAAAzB,EAAMsN,iBAAiBb,GAAvB,SACf1K,KAAK,UACL,uBACEuE,IAAI,GACJiH,OAAQ,GACR/G,IAAQ,uBAAY,2CAEtB,uBAAKtF,UAAU,yBACZ,oBAAU,gDAOpBiM,IAAqBV,GAAce,QAClC,gBAAC,GAAc,CAACvN,UAAWA,EAAWC,YAAaA,IAGpDiN,IAAqBV,GAAcgB,cAA8B/O,IAAnBa,GAC7C,gBAAC,GAAe,CACdD,WAAYA,EACZW,UAAWA,EACXV,eAAgBA,IAInB4N,IAAqBV,GAAciB,eAA+BhP,IAAnBa,GAC9C,gBAAC6F,EAAgB,CACfnF,UAAWA,EACXC,YAAaA,EACbX,eAAgBA,MF1G1B,SAAYkN,GACV,kBACA,oBACA,uBAHF,CAAYA,QAAa,K,g3DGoBzB,0E,OACE,EAAA/M,SAAU,EACV,EAAAC,MAAe,CACbgO,aAAa,EACb/N,SAAS,GAQX,EAAAgO,iBAAmB,iD,mEAGwB,OAFjC3N,EAAcF,KAAKC,MAAV,UAEwB,GAAM6N,QAAQC,IAAI,CACzD,cAA2BC,OAAM,eACjC,YAAqB9N,EAAUiE,KAAK6J,OAAM,kB,cAFtC,EAAmC,SAAlCC,EAAc,KAAEzO,EAAc,KAKjCQ,KAAKL,eAGchB,IAAnBa,GACC,CAAC,IAAQjB,UAAW,IAAQE,OAAQ,IAAQ+G,QAAQ8H,SAAS9N,EAAelB,MAIzEiB,OAAU,OACSZ,IAAnBsP,IACIC,EAAsBD,EAAezO,EAAelB,KAC1DiB,EAAa2O,EAAoB9O,MAAK,SAAA+O,GAAK,OAAAA,EAAEhK,MAAQ3E,EAAV,QAE7CQ,KAAKK,SAAS,CAAEd,WAAU,EAAEqO,aAAa,EAAOpO,eAAc,EAAEK,SAAS,KAPzEG,KAAKK,SAAS,CAAER,SAAS,EAAO+N,aAAa,K,YAYnD,EAAAQ,qBAAuB,SAAChB,GAChB,cACJiB,EAAA,EAAAA,OACA,IAAAC,SAAYC,EAAA,EAAAA,SAAUC,EAAA,EAAAA,MAGxBH,EAAOlQ,KAAK,CACVoQ,SAAQ,EACRC,MAAO,GAAF,MAAOA,GAAK,CAAEpB,iBAAgB,O,EAwBzC,OAtEuC,QAOrC,YAAAxM,kBAAA,WACEZ,KAAKL,SAAU,EACfK,KAAK6N,oBAyCP,YAAA/M,OAAA,W,MACQ,aAAEZ,EAAA,EAAAA,UAAWC,EAAA,EAAAA,YAAamO,EAAA,EAAAA,SAC1B,aAAE/O,EAAA,EAAAA,WAAYqO,EAAA,EAAAA,YAAa/N,EAAA,EAAAA,QAASL,EAAA,EAAAA,eAEpC4N,EAA8CQ,EAChDlB,GAAce,OACA,QAAf,EAACa,EAASE,aAAK,eAAEpB,iBAEpB,OACE,gBAACD,GAAyB,CACxB5N,WAAYA,EACZW,UAAWA,EACXC,YAAaA,EACbN,QAASA,EACT0N,iBAAkBvN,KAAKoO,qBACvB5O,eAAgBA,EAChB4N,iBAAkBA,KAI1B,EAtEA,CAAuC,iBAwExB,UAAAqB,EAAA,GAAW,I,oBCxEpB,SAAUC,GAAczO,GACpB,IAAA0O,EAAA,EAAAA,WAAYC,EAAA,EAAAA,YAAa1O,EAAA,EAAAA,UAAWC,EAAA,EAAAA,YAAa0O,EAAA,EAAAA,YAEzD,GAAI3O,EAAU4O,YAAc,KAAmBC,YAC7C,OACE,uBAAK5N,UAAU,qBACb,gBAACQ,EAAA,MAAK,CAACC,QAAQ,WAAW,oBAAU,0CAGnC,IAAK,aAAS+M,GACnB,OAAO,KAGT,IAQIK,EAREC,EAAcL,EAAYvC,OAAS,EACnC6C,EACJN,EAAYvC,OAAS,GACG,IAAvBuC,EAAYvC,QAAgBuC,EAAYO,MAAK,SAAAC,GAAU,0BAEpDC,EAAc,aAAaV,IAAeM,EAC1CK,EAAe,aAAaX,KAAgBM,IAAgBJ,EA0BlE,OAtBEG,EADE,aAAW7O,IAAgBkP,GAAeH,EAE1C,gBAAC,mBAAgB,CACf9N,eAAgB,oBAAU,6DAC1BC,GAAG,4DACHC,OAAQ,CACNiO,WAAY,aAAyBZ,GACrCa,WAAY,oBAAU,2BAM1B,gBAAC,mBAAgB,CACfpO,eAAgB,oBAAU,2CAC1BC,GAAG,0CACHC,OAAQ,CACNiO,WAAY,aAAyBZ,MAO3C,uBAAKxN,UAAU,qBACZ,aAAWhB,GACV,gCACGkP,GAAe,gBAAC1N,EAAA,MAAK,CAACC,QAAQ,WAAWoN,GACzCM,GAAgB,gBAAC,GAAiB,CAACpP,UAAWA,EAAWC,YAAaA,KAGzE,gBAACwB,EAAA,MAAK,CAACC,QAAQ,WAAWoN,IAUnB,6BAJS,SAACpP,GAAiB,MAAC,CACzCO,YAAa,yBAAeP,MAGf,CAAyB8O,K,iCCrGxC,IACQe,EADJC,EAAa1P,MAAQA,KAAK0P,YACtBD,EAAgB,SAAUtB,EAAGwB,GAI7B,OAHAF,EAAgB/K,OAAOkL,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAU3B,EAAGwB,GAAKxB,EAAE0B,UAAYF,IACvE,SAAUxB,EAAGwB,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAI5B,EAAE4B,GAAKJ,EAAEI,MACpD5B,EAAGwB,IAErB,SAAUxB,EAAGwB,GAEhB,SAASM,IAAOjQ,KAAKkQ,YAAc/B,EADnCsB,EAActB,EAAGwB,GAEjBxB,EAAEgC,UAAkB,OAANR,EAAajL,OAAO0L,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,KAGnFI,EAAYrQ,MAAQA,KAAKqQ,UAAa,WAStC,OARAA,EAAW3L,OAAO4L,QAAU,SAASC,GACjC,IAAK,IAAI9G,EAAG5L,EAAI,EAAG2S,EAAIC,UAAUpE,OAAQxO,EAAI2S,EAAG3S,IAE5C,IAAK,IAAIkS,KADTtG,EAAIgH,UAAU5S,GACO6G,OAAOyL,UAAUH,eAAeU,KAAKjH,EAAGsG,KACzDQ,EAAER,GAAKtG,EAAEsG,IAEjB,OAAOQ,IAEKI,MAAM3Q,KAAMyQ,YAE5BG,EAAU5Q,MAAQA,KAAK4Q,QAAW,SAAUnH,EAAGoH,GAC/C,IAAIN,EAAI,GACR,IAAK,IAAIR,KAAKtG,EAAO/E,OAAOyL,UAAUH,eAAeU,KAAKjH,EAAGsG,IAAMc,EAAEC,QAAQf,GAAK,IAC9EQ,EAAER,GAAKtG,EAAEsG,IACb,GAAS,MAALtG,GAAqD,mBAAjC/E,OAAOqM,sBACtB,KAAIlT,EAAI,EAAb,IAAgBkS,EAAIrL,OAAOqM,sBAAsBtH,GAAI5L,EAAIkS,EAAE1D,OAAQxO,IAC3DgT,EAAEC,QAAQf,EAAElS,IAAM,GAAK6G,OAAOyL,UAAUa,qBAAqBN,KAAKjH,EAAGsG,EAAElS,MACvE0S,EAAER,EAAElS,IAAM4L,EAAEsG,EAAElS,KAE1B,OAAO0S,GAEX7L,OAAOuM,eAAehT,EAAS,aAAc,CAAEyC,OAAO,IACtD,IAAIwQ,EAAQ,EAAQ,IAChBC,EAAU,EAAQ,KAClBC,EAAe,SAAUC,GAEzB,SAASD,IACL,IAAIE,EAAmB,OAAXD,GAAmBA,EAAOV,MAAM3Q,KAAMyQ,YAAczQ,KAiChE,OAhCAsR,EAAM3R,SAAU,EAChB2R,EAAM1R,MAAQ,CAAE2R,YAAY,GAC5BD,EAAME,eAAiB,WACfF,EAAM3R,SACN2R,EAAMjR,SAAS,CAAEkR,YAAY,KAGrCD,EAAMG,iBAAmB,SAAUjR,GAC3BA,IACAA,EAAMgC,iBACNhC,EAAM2L,cAAcuF,QAExBJ,EAAMrR,MAAMe,WAEhBsQ,EAAMK,iBAAmB,SAAUnR,GAC/BA,EAAMgC,iBACN8O,EAAMM,UAEVN,EAAMO,kBAAoB,SAAUrR,GAC5BA,IACAA,EAAMgC,iBACNhC,EAAM2L,cAAcuF,QAExBJ,EAAMM,UAEVN,EAAMM,OAAS,WACX,IAAIE,EAASR,EAAMrR,MAAMgB,WACrB6Q,IACAR,EAAMjR,SAAS,CAAEkR,YAAY,IAC7BO,EAAOpG,KAAK4F,EAAME,eAAgBF,EAAME,kBAGzCF,EAiBX,OApDA5B,EAAU0B,EAAaC,GAqCvBD,EAAYjB,UAAUvP,kBAAoB,WACtCZ,KAAKL,SAAU,GAEnByR,EAAYjB,UAAUtP,qBAAuB,WACzCb,KAAKL,SAAU,GAEnByR,EAAYjB,UAAUrP,OAAS,WAC3B,IAAIiR,EAAK/R,KAAKC,MAAO+R,EAAWD,EAAGC,SAAUjR,EAASgR,EAAGhR,OAAQC,EAAU+Q,EAAG/Q,QAAiCiR,GAAbF,EAAG9Q,SAAuB2P,EAAOmB,EAAI,CAAC,WAAY,SAAU,UAAW,cACzK,OAAQb,EAAMgB,cAAcf,EAAQxT,QAAS0S,EAAS,CAAE8B,aAAcpR,EAAQqR,eAAgBpR,GAAWiR,GAAaD,EAAS,CAC3H9Q,aAAclB,KAAKyR,iBACnBY,aAAcrS,KAAK2R,iBACnBW,cAAetS,KAAK6R,kBACpBN,WAAYvR,KAAKJ,MAAM2R,eAGxBH,EArDO,CAsDhBF,EAAMqB,WACRtU,EAAQN,QAAUyT,G,iCC3ElB,IAAkBoB,EAnBlB,kCAmBA,SAAkBA,GAChB,gBACA,wBACA,kBACA,kBAJF,CAAkBA,MAAO,M,iCCnBzB,iFA+Bc,SAAU5N,EAAY3E,GAC1B,IAGJwS,EAHInL,EAAA,EAAAA,UAAWoL,EAAA,EAAAA,OAAQ7N,EAAA,EAAAA,QACrB8N,EAAa,SAA6B,MAShD,OALEF,EADE3C,MAAM8C,QAAQ/N,GACDA,EAAQgO,QAAO,SAAAC,GAAQ,iCAAiBC,KAAKzL,EAAY,IAAM,WAE/DzC,EAIf,uBAAK1D,UAAW,EAAW,yDAA0D,KACnF,uBAAKA,UAAU,SAAS6R,IAAKL,GAC1BF,IAEDC,GAAU,gBAAC,kBAAe,CAACjR,UAAWgR,O,iCC9C9C,IACQhD,EADJC,EAAa1P,MAAQA,KAAK0P,YACtBD,EAAgB,SAAUtB,EAAGwB,GAI7B,OAHAF,EAAgB/K,OAAOkL,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAU3B,EAAGwB,GAAKxB,EAAE0B,UAAYF,IACvE,SAAUxB,EAAGwB,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAI5B,EAAE4B,GAAKJ,EAAEI,MACpD5B,EAAGwB,IAErB,SAAUxB,EAAGwB,GAEhB,SAASM,IAAOjQ,KAAKkQ,YAAc/B,EADnCsB,EAActB,EAAGwB,GAEjBxB,EAAEgC,UAAkB,OAANR,EAAajL,OAAO0L,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,KAGvFvL,OAAOuM,eAAehT,EAAS,aAAc,CAAEyC,OAAO,IACtD,IAAIuS,EAAa,EAAQ,KACrB/B,EAAQ,EAAQ,IACpB,EAAQ,KACR,IAAIgC,EAAY,EAAQ,KACpBC,EAAe,SAAU9B,GAEzB,SAAS8B,IACL,IAAI7B,EAAmB,OAAXD,GAAmBA,EAAOV,MAAM3Q,KAAMyQ,YAAczQ,KAShE,OARAsR,EAAM8B,aAAe,SAAUC,GAC3B,IAAI5P,EAAU4P,EAAO3S,QAAU4Q,EAAMrR,MAAMS,MACvC4S,EAAShC,EAAMrR,MAAMd,KAAO,KAAOkU,EAAO3S,MAC9C,OAAQwQ,EAAMgB,cAAc,KAAM,CAAE/N,IAAKkP,EAAO3S,MAAMqH,YAClDmJ,EAAMgB,cAAc,QAAS,CAAEzO,QAASA,EAASxB,SAAUoR,EAAOpR,SAAUZ,GAAIiS,EAAQnU,KAAMmS,EAAMrR,MAAMd,KAAM0C,SAAU,WAAc,OAAOyP,EAAMrR,MAAMyD,QAAQ2P,EAAO3S,QAAWsB,KAAM,UAC3LkP,EAAMgB,cAAcgB,EAAUvV,QAAS,CAAEwI,QAASkN,EAAOE,cAAW5U,GAChEuS,EAAMgB,cAAc,QAAS,CAAElL,QAASsM,GAAUD,EAAOtP,UAE9DuN,EASX,OApBA5B,EAAUyD,EAAa9B,GAavB8B,EAAYhD,UAAUrP,OAAS,WAC3B,OAAQoQ,EAAMgB,cAAc,KAAM,CAAE/Q,UAAW8R,EAAW,eAAgBjT,KAAKC,MAAMkB,YAAcnB,KAAKC,MAAMnC,QAAQ+F,IAAI7D,KAAKoT,gBAEnID,EAAYK,aAAe,CACvBvR,UAAU,EACVvB,MAAO,MAEJyS,EArBO,CAsBhBjC,EAAMuC,eACRxV,EAAQN,QAAUwV,G,oBC1ClB,IAAI3V,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,qBClBjBE,EADkC,EAAQ,IAChCC,EAA4B,IAE9BC,KAAK,CAACP,EAAOC,EAAI,sxBAAuxB,KAEhzBD,EAAOK,QAAUA,G,iCCLjB,IACQwR,EADJC,EAAa1P,MAAQA,KAAK0P,YACtBD,EAAgB,SAAUtB,EAAGwB,GAI7B,OAHAF,EAAgB/K,OAAOkL,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAU3B,EAAGwB,GAAKxB,EAAE0B,UAAYF,IACvE,SAAUxB,EAAGwB,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAI5B,EAAE4B,GAAKJ,EAAEI,MACpD5B,EAAGwB,IAErB,SAAUxB,EAAGwB,GAEhB,SAASM,IAAOjQ,KAAKkQ,YAAc/B,EADnCsB,EAActB,EAAGwB,GAEjBxB,EAAEgC,UAAkB,OAANR,EAAajL,OAAO0L,OAAOT,IAAMM,EAAGE,UAAYR,EAAEQ,UAAW,IAAIF,KAGvFvL,OAAOuM,eAAehT,EAAS,aAAc,CAAEyC,OAAO,IACtD,IAAIuS,EAAa,EAAQ,KACrB/B,EAAQ,EAAQ,IACpB,EAAQ,KACR,IAAIwC,EAAS,SAAUrC,GAEnB,SAASqC,IACL,IAAIpC,EAAmB,OAAXD,GAAmBA,EAAOV,MAAM3Q,KAAMyQ,YAAczQ,KAOhE,OANAsR,EAAMqC,YAAc,SAAUnT,GAC1BA,EAAMgC,iBACD8O,EAAMrR,MAAMgC,UACbqP,EAAMrR,MAAMyD,QAAQ4N,EAAMrR,MAAMS,QAGjC4Q,EAQX,OAjBA5B,EAAUgE,EAAOrC,GAWjBqC,EAAMvD,UAAUrP,OAAS,WACrB,IAAIiR,EAAK/R,KAAKC,MAAOkB,EAAY4Q,EAAG5Q,UAAWsC,EAAUsO,EAAGtO,QAASuO,EAAWD,EAAGC,SAAU/P,EAAW8P,EAAG9P,SAC3G,OAAQiP,EAAMgB,cAAc,IAAK,CAAE,eAAgBzO,EAAStC,UAAW8R,EAAW,wCAAyC9R,EAAW,CAAEc,SAAUA,IAAaoF,KAAM,IAAK3F,QAAS1B,KAAK2T,YAAalR,KAAM,SACvMyO,EAAMgB,cAAc,IAAK,CAAE/Q,UAAW8R,EAAW,aAAc,eAAgB,CAAE,aAAcxP,MAC/FuO,IAED0B,EAlBC,CAmBVxC,EAAMuC,eACRxV,EAAQN,QAAU+V,G,oBCtClB,IAAIlW,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,qBClBjBE,EADkC,EAAQ,IAChCC,EAA4B,IAE9BC,KAAK,CAACP,EAAOC,EAAI,20BAA80B,KAEv2BD,EAAOK,QAAUA,G,iCCNjB,2pBAmCM,SAAU2V,IACd,OAAOC,IAA2B7F,MAAM,KAGpC,SAAU6F,IACd,OAAO,kBAAQ,sCAGX,SAAUC,EAAeC,GAC7B,OAAO,kBAAQ,yBAA0B,CAAEA,QAAO,IAC/CrI,MAAK,SAAC,GAAoB,OAAlB,EAAAsI,eACRhG,MAAM,KAGL,SAAUiG,EAA0BC,GACxC,OAAO,eAAK,kCAAmCA,GAAMlG,MAAM,KAGvD,SAAUmG,EAA0BD,GACxC,OAAO,eAAK,kCAAmCA,GAAMlG,MAAM,KAGvD,SAAUoG,EAAyBF,GACvC,OAAO,eAAK,iCAAkCA,GAAMlG,MAAM,KAGtD,SAAUqG,EAAyBH,GACvC,OAAO,eAAK,iCAAkCA,GAAMlG,MAAM,KAGtD,SAAUsG,EAA6BJ,GAC3C,OAAO,eAAK,qCAAsCA,GAAMlG,MAAM,KAG1D,SAAUuG,EACdL,GAEA,OAAO,eAAK,qCAAsCA,GAAMlG,MAAM,KAG1D,SAAUwG,EAA0BN,GACxC,OAAO,eAAK,kCAAmCA,GAAMlG,MAAM,KAGvD,SAAUyG,EAA0BP,GACxC,OAAO,eAAK,kCAAmCA,GAAMlG,MAAM,KAGvD,SAAU0G,EAAoBvQ,GAClC,OAAO,eAAK,2BAA4B,CAAEA,IAAG,IAAI6J,MAAM,KAGnD,SAAU2G,EAAoBC,GAClC,OAAO,kBAAQ,kCAAmC,CAAEA,WAAU,IAC3DlJ,MAAK,SAAC,GAAiB,OAAf,EAAAmJ,YACR7G,MAAM,KAGL,SAAU8G,EAAqBf,GACnC,OAAO,kBAAQ,gCAAiC,CAAEA,QAAO,IAGrD,SAAUgB,EAAwBhB,GACtC,OAAO,eAAK,mCAAoC,CAAEA,QAAO,IAAI/F,MAAM,KAG/D,SAAUgH,EAAuBd,GACrC,OAAO,eAAK,sCAAuCA,GAAMlG,MAAM,KAG3D,SAAUiH,EAA2Bf,GACzC,OAAO,eAAK,0CAA2CA,GAAMlG,MAAM,KAG/D,SAAUkH,EAAwBhB,GACtC,OAAO,eAAK,uCAAwCA,GAAMlG,MAAM,KAG5D,SAAUmH,EAAwBjB,GACtC,OAAO,eAAK,uCAAwCA,GAAMlG,MAAM,O,iCClHlE,2HAuBM,SAAUoH,EAAUhV,GACxB,OAAO,kBAAQ,0BAA2B,CAAEA,MAAK,IAAIsL,MAAK,SAAA2J,GAAK,OAAAA,EAAA,aAAc,KAGzE,SAAUC,EAAcpB,GAC5B,OAAO,mBAAS,4BAA6BA,GAAMlG,MAAM,KAGrD,SAAUuH,EAAYrB,GAC1B,OAAO,eAAK,0BAA2BA,GAAMlG,MAAM","file":"js/299.1601658702741.chunk.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./CodeSnippet.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".code-snippet{background:#e6e6e6;border-radius:3px}.code-snippet pre{padding:8px 16px;border-right:1px solid hsla(0,0%,78.4%,.5);overflow-y:hidden;overflow-x:auto}.code-snippet>button{height:auto;border:0;border-radius:0;background:transparent;padding:8px}.code-snippet>button:active,.code-snippet>button:focus,.code-snippet>button:hover{background-color:hsla(0,0%,78.4%,.5);color:#236a97}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Step.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".onboarding-step{position:relative;padding-left:34px;margin-bottom:8px}.onboarding-step.no-step-number{padding-left:0}.onboarding-step:not(.is-open):not(.is-finished){opacity:.4}.onboarding-step .boxed-group-actions{height:24px;line-height:24px}.onboarding-step hr{margin-left:-54px}.onboarding-step-number{position:absolute;top:15px;left:15px;width:24px;height:24px;line-height:24px;border-radius:24px;background-color:#b9b9b9;color:#fff;font-size:14px;text-align:center}.onboarding-step.is-open .onboarding-step-number{background-color:#236a97}.onboarding-step.is-finished{cursor:pointer;outline:none}.onboarding-step ol.list-styled{list-style:none;padding-left:0;counter-reset:step-counter}.onboarding-step .markdown{line-height:inherit}.onboarding-step ul.list-styled li{margin-top:8px;margin-bottom:8px}.onboarding-step ol.list-styled>li{position:relative;counter-increment:li;margin-bottom:16px}.onboarding-step ol.list-styled>li:before{display:inline-block;width:16px;height:16px;margin-right:8px;color:#fff;font-size:12px;line-height:16px;direction:rtl;text-align:center;background-color:#4b9fd5;border-radius:50%;content:counter(li)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport {\n  AlmBindingDefinition,\n  AlmKeys,\n  BitbucketBindingDefinition,\n  GithubBindingDefinition,\n  ProjectAlmBindingResponse,\n  ProjectBitbucketBindingResponse,\n  ProjectGitHubBindingResponse,\n  ProjectGitLabBindingResponse\n} from '../types/alm-settings';\n\nexport function isProjectBitbucketBindingResponse(\n  binding: ProjectAlmBindingResponse\n): binding is ProjectBitbucketBindingResponse {\n  return binding.alm === AlmKeys.Bitbucket;\n}\n\nexport function isProjectGitHubBindingResponse(\n  binding: ProjectAlmBindingResponse\n): binding is ProjectGitHubBindingResponse {\n  return binding.alm === AlmKeys.GitHub;\n}\n\nexport function isProjectGitLabBindingResponse(\n  binding: ProjectAlmBindingResponse\n): binding is ProjectGitLabBindingResponse {\n  return binding.alm === AlmKeys.GitLab;\n}\n\nexport function isBitbucketBindingDefinition(\n  binding?: AlmBindingDefinition & { url?: string; personalAccessToken?: string }\n): binding is BitbucketBindingDefinition {\n  return (\n    binding !== undefined && binding.url !== undefined && binding.personalAccessToken !== undefined\n  );\n}\n\nexport function isGithubBindingDefinition(\n  binding?: AlmBindingDefinition & { appId?: string; privateKey?: string; url?: string }\n): binding is GithubBindingDefinition {\n  return (\n    binding !== undefined &&\n    binding.appId !== undefined &&\n    binding.privateKey !== undefined &&\n    binding.url !== undefined\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { GithubBindingDefinition, ProjectAlmBindingResponse } from '../../types/alm-settings';\nimport { LanguageConfig } from './types';\n\nexport function isLanguageConfigured(config?: LanguageConfig) {\n  if (!config) {\n    return false;\n  }\n  const { language, javaBuild, cFamilyCompiler, os, projectKey } = config;\n  const isJavaConfigured = language === 'java' && javaBuild != null;\n  const isDotNetConfigured = language === 'dotnet' && projectKey != null;\n  const isCFamilyConfigured =\n    language === 'c-family' && (cFamilyCompiler === 'msvc' || os != null) && projectKey != null;\n  const isOtherConfigured = language === 'other' && projectKey != null;\n\n  return isJavaConfigured || isDotNetConfigured || isCFamilyConfigured || isOtherConfigured;\n}\n\nexport function quote(os: string): (s: string) => string {\n  return os === 'win' ? (s: string) => `\"${s}\"` : (s: string) => s;\n}\n\nexport function getUniqueTokenName(tokens: T.UserToken[], initialTokenName = '') {\n  const hasToken = (name: string) => tokens.find(token => token.name === name) !== undefined;\n\n  if (!hasToken(initialTokenName)) {\n    return initialTokenName;\n  }\n\n  let i = 1;\n  while (hasToken(`${initialTokenName} ${i}`)) {\n    i++;\n  }\n  return `${initialTokenName} ${i}`;\n}\n\nexport function buildGithubLink(\n  almBinding: GithubBindingDefinition,\n  projectBinding: ProjectAlmBindingResponse\n) {\n  // strip the api path:\n  const urlRoot = almBinding.url\n    .replace('/api/v3', '') // GH Enterprise\n    .replace('api.', '') // GH.com\n    .replace(/\\/$/, '');\n\n  return `${urlRoot}/${projectBinding.repository}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Button, DeleteButton } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { generateToken, getTokens, revokeToken } from '../../../api/user-tokens';\nimport { getUniqueTokenName } from '../utils';\n\ninterface State {\n  loading: boolean;\n  token?: string;\n  tokenName: string;\n}\n\ninterface Props {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  onClose: (token?: string) => void;\n}\n\nexport default class EditTokenModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loading: true,\n    tokenName: ''\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.getTokensAndName();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getTokensAndName = async () => {\n    const { component, currentUser } = this.props;\n\n    const tokens = await getTokens(currentUser.login);\n\n    if (this.mounted) {\n      this.setState({\n        loading: false,\n        tokenName: getUniqueTokenName(tokens, `Analyze \"${component.name}\"`)\n      });\n    }\n  };\n\n  getNewToken = async () => {\n    const { tokenName } = this.state;\n\n    const { token } = await generateToken({ name: tokenName });\n\n    if (this.mounted) {\n      this.setState({\n        token,\n        tokenName\n      });\n    }\n  };\n\n  handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      tokenName: event.target.value\n    });\n  };\n\n  handleTokenRevoke = async () => {\n    const { tokenName } = this.state;\n\n    if (tokenName) {\n      await revokeToken({ name: tokenName });\n\n      if (this.mounted) {\n        this.setState({\n          token: '',\n          tokenName: ''\n        });\n      }\n    }\n  };\n\n  render() {\n    const { loading, token, tokenName } = this.state;\n\n    const header = translate('onboarding.token.generate_token');\n\n    return (\n      <SimpleModal header={header} onClose={this.props.onClose} onSubmit={this.props.onClose}>\n        {({ onCloseClick }) => (\n          <>\n            <div className=\"modal-head\">\n              <h2>{header}</h2>\n            </div>\n\n            <div className=\"modal-body\">\n              <p className=\"spacer-bottom\">\n                <FormattedMessage\n                  defaultMessage={translate('onboarding.token.text')}\n                  id=\"onboarding.token.text\"\n                  values={{\n                    link: (\n                      <Link target=\"_blank\" to=\"/account/security\">\n                        {translate('onboarding.token.text.user_account')}\n                      </Link>\n                    )\n                  }}\n                />\n              </p>\n\n              {token ? (\n                <>\n                  <span className=\"text-middle\">\n                    {tokenName}\n                    {': '}\n                  </span>\n                  <div className=\"display-float-center\">\n                    <code className=\"rule spacer-right\">{token}</code>\n\n                    <ClipboardIconButton copyValue={token} />\n\n                    <DeleteButton onClick={this.handleTokenRevoke} />\n                  </div>\n\n                  <Alert className=\"big-spacer-top\" variant=\"warning\">\n                    {translateWithParameters('users.tokens.new_token_created', token)}\n                  </Alert>\n                </>\n              ) : (\n                <div className=\"big-spacer-top\">\n                  {loading ? (\n                    <DeferredSpinner />\n                  ) : (\n                    <>\n                      <input\n                        className=\"input-super-large spacer-right text-middle\"\n                        onChange={this.handleChange}\n                        placeholder={translate('onboarding.token.generate_token.placeholder')}\n                        required={true}\n                        type=\"text\"\n                        value={tokenName}\n                      />\n                      <Button\n                        className=\"text-middle\"\n                        disabled={!tokenName}\n                        onClick={this.getNewToken}>\n                        {translate('onboarding.token.generate')}\n                      </Button>\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n            <div className=\"modal-foot\">\n              <Button onClick={onCloseClick}>{translate('continue')}</Button>\n            </div>\n          </>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/* eslint-disable jsx-a11y/no-static-element-interactions, jsx-a11y/no-noninteractive-tabindex */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './Step.css';\n\ninterface Props {\n  finished?: boolean;\n  onOpen?: VoidFunction;\n  open: boolean;\n  renderForm: () => React.ReactNode;\n  renderResult?: () => React.ReactNode;\n  stepNumber?: number;\n  stepTitle: React.ReactNode;\n}\n\nexport default function Step(props: Props) {\n  const { finished, open, stepNumber, stepTitle } = props;\n  const className = classNames('boxed-group', 'onboarding-step', {\n    'is-open': open,\n    'is-finished': finished,\n    'no-step-number': stepNumber === undefined\n  });\n\n  const clickable = !open && finished && props.onOpen !== undefined;\n\n  const handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    if (props.onOpen !== undefined) {\n      props.onOpen();\n    }\n  };\n\n  return (\n    <div\n      className={className}\n      onClick={clickable ? handleClick : undefined}\n      role={clickable ? 'button' : undefined}\n      tabIndex={clickable ? 0 : undefined}>\n      {stepNumber !== undefined && <div className=\"onboarding-step-number\">{stepNumber}</div>}\n      {!open && props.renderResult && props.renderResult()}\n      <div className=\"boxed-group-header\">\n        <h2>{stepTitle}</h2>\n      </div>\n      {!open && <div className=\"boxed-group-inner\" />}\n      <div className={classNames({ hidden: !open })}>{props.renderForm()}</div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getHostUrl } from 'sonar-ui-common/helpers/urls';\nimport EditTokenModal from '../components/EditTokenModal';\nimport Step from '../components/Step';\n\nexport interface EnvironmentVariablesStepProps {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  finished: boolean;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n}\n\nconst pipelineDescriptionLinkLabel = translate(\n  'onboarding.tutorial.with.gitlab_ci.env_variables.description.link'\n);\n\nexport default function EnvironmentVariablesStep(props: EnvironmentVariablesStepProps) {\n  const { component, currentUser, finished, open } = props;\n\n  const [isModalVisible, toggleModal] = React.useState(false);\n\n  const toggleTokenModal = () => toggleModal(!isModalVisible);\n  const closeTokenModal = () => toggleModal(false);\n\n  const fieldValueTranslation = translate(\n    'onboarding.tutorial.with.gitlab_ci.env_variables.enter_field_value'\n  );\n\n  const renderForm = () => (\n    <div className=\"boxed-group-inner\">\n      <h2 className=\"spacer-bottom spacer-top\">\n        {translate('onboarding.tutorial.with.gitlab_ci.env_variables.section.title')}\n      </h2>\n\n      <FormattedMessage\n        defaultMessage={translate(\n          'onboarding.tutorial.with.gitlab_ci.env_variables.section.description'\n        )}\n        id=\"onboarding.tutorial.with.gitlab_ci.env_variables.section.description\"\n        values={{\n          /* This link will be added when the backend provides the project URL */\n          link: <strong>{pipelineDescriptionLinkLabel}</strong>\n        }}\n      />\n\n      <ol className=\"list-styled big-spacer-top\">\n        <li className=\"big-spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={fieldValueTranslation}\n            id=\"onboarding.tutorial.with.gitlab_ci.env_variables.step1\"\n            values={{\n              extra: <ClipboardIconButton copyValue=\"SONAR_TOKEN\" />,\n              field: translate('onboarding.tutorial.with.gitlab_ci.env_variables.step1'),\n              value: <code className=\"rule\">SONAR_TOKEN</code>\n            }}\n          />\n        </li>\n        <li className=\"big-spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={fieldValueTranslation}\n            id=\"onboarding.tutorial.with.gitlab_ci.env_variables.step2\"\n            values={{\n              extra: (\n                <Button className=\"spacer-left\" onClick={toggleTokenModal}>\n                  {translate('onboarding.token.generate_token')}\n                </Button>\n              ),\n              field: translate('onboarding.tutorial.with.gitlab_ci.env_variables.step2'),\n              value: translate(\n                'onboarding.tutorial.with.gitlab_ci.env_variables.section.step2.value'\n              )\n            }}\n          />\n        </li>\n        <li className=\"big-spacer-bottom\">\n          {translate('onboarding.tutorial.with.gitlab_ci.env_variables.step3')}\n        </li>\n        <li className=\"big-spacer-bottom\">\n          {translate('onboarding.tutorial.with.gitlab_ci.env_variables.section.step4')}\n        </li>\n      </ol>\n\n      <hr className=\"no-horizontal-margins\" />\n\n      <h2 className=\"spacer-bottom big-spacer-top\">\n        {translate('onboarding.tutorial.with.gitlab_ci.env_variables.section2.title')}\n      </h2>\n\n      <FormattedMessage\n        defaultMessage={translate(\n          'onboarding.tutorial.with.gitlab_ci.env_variables.section2.description'\n        )}\n        id=\"onboarding.tutorial.with.gitlab_ci.env_variables.section2.description\"\n        values={{\n          /* This link will be added when the backend provides the project URL */\n          link: <strong>{pipelineDescriptionLinkLabel}</strong>\n        }}\n      />\n\n      <ol className=\"list-styled big-spacer-top big-spacer-bottom\">\n        <li className=\"big-spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={fieldValueTranslation}\n            id=\"onboarding.tutorial.with.gitlab_ci.env_variables.step1\"\n            values={{\n              extra: <ClipboardIconButton copyValue=\"SONAR_HOST_URL\" />,\n              field: translate('onboarding.tutorial.with.gitlab_ci.env_variables.step1'),\n              value: <code className=\"rule\">SONAR_HOST_URL</code>\n            }}\n          />\n        </li>\n        <li className=\"big-spacer-bottom\">\n          <FormattedMessage\n            defaultMessage={fieldValueTranslation}\n            id=\"onboarding.tutorial.with.gitlab_ci.env_variables.step2\"\n            values={{\n              extra: <ClipboardIconButton copyValue={getHostUrl()} />,\n              field: translate('onboarding.tutorial.with.gitlab_ci.env_variables.step2'),\n              value: <code className=\"rule\">{getHostUrl()}</code>\n            }}\n          />\n        </li>\n        <li className=\"big-spacer-bottom\">\n          {translate('onboarding.tutorial.with.gitlab_ci.env_variables.step3')}\n        </li>\n        <li className=\"big-spacer-bottom\">\n          {translate('onboarding.tutorial.with.gitlab_ci.env_variables.section2.step4')}\n        </li>\n      </ol>\n\n      <Button className=\"big-spacer-bottom\" onClick={props.onDone}>\n        {translate('continue')}\n      </Button>\n    </div>\n  );\n\n  return (\n    <>\n      {isModalVisible && (\n        <EditTokenModal component={component} currentUser={currentUser} onClose={closeTokenModal} />\n      )}\n\n      <Step\n        finished={finished}\n        onOpen={props.onOpen}\n        open={open}\n        renderForm={renderForm}\n        stepNumber={2}\n        stepTitle={translate('onboarding.tutorial.with.gitlab_ci.env_variables.title')}\n      />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum BuildTools {\n  Maven = 'maven',\n  Gradle = 'gradle',\n  // MSBuild = 'msbuild', // Not yet supported\n  Other = 'other'\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioToggle from 'sonar-ui-common/components/controls/RadioToggle';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface RenderOptionsProps {\n  checked: string | undefined;\n  name: string;\n  onCheck: (checked: string) => void;\n  optionLabelKey: string;\n  options: string[];\n  titleLabelKey?: string;\n}\n\nexport default function RenderOptions({\n  checked,\n  onCheck,\n  optionLabelKey,\n  options,\n  titleLabelKey\n}: RenderOptionsProps) {\n  return (\n    <div className=\"big-spacer-top\">\n      {titleLabelKey && <h4 className=\"spacer-bottom\">{translate(titleLabelKey)}</h4>}\n\n      <RadioToggle\n        name={name}\n        onCheck={onCheck}\n        options={options.map(build => ({\n          label: translate(optionLabelKey, build),\n          value: build\n        }))}\n        value={checked}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../common/CodeSnippet';\nimport RenderOptions from '../components/RenderOptions';\nimport Step from '../components/Step';\nimport { BuildTools } from './types';\n\nexport interface ProjectKeyStepProps {\n  buildTool?: BuildTools;\n  component: T.Component;\n  finished: boolean;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n  setBuildTool: (tool: BuildTools) => void;\n}\n\nconst mavenSnippet = (key: string) => `<properties>\n  <sonar.projectKey>${key}</sonar.projectKey>\n  <sonar.qualitygate.wait>true</sonar.qualitygate.wait>\n</properties>`;\n\nconst gradleSnippet = (key: string) => `plugins {\n  id \"org.sonarqube\" version \"3.0\"\n}\n\nsonarqube {\n  properties {\n    property \"sonar.projectKey\", \"${key}\"\n    property \"sonar.qualitygate.wait\", true \n  }\n}`;\n\nconst otherSnippet = (key: string) => `sonar.projectKey=${key}\nsonar.qualitygate.wait=true\n`;\n\nconst snippetForBuildTool = {\n  [BuildTools.Maven]: mavenSnippet,\n  [BuildTools.Gradle]: gradleSnippet,\n  [BuildTools.Other]: otherSnippet\n};\n\nconst filenameForBuildTool = {\n  [BuildTools.Maven]: 'pom.xml',\n  [BuildTools.Gradle]: 'build.gradle',\n  [BuildTools.Other]: 'sonar-project.properties'\n};\n\nexport default function ProjectKeyStep(props: ProjectKeyStepProps) {\n  const { buildTool, component, finished, open } = props;\n\n  const renderForm = () => (\n    <div className=\"boxed-group-inner\">\n      <ol className=\"list-styled\">\n        <li>\n          {translate('onboarding.build')}\n          <RenderOptions\n            checked={buildTool}\n            name=\"buildtool\"\n            onCheck={value => props.setBuildTool(value as BuildTools)}\n            optionLabelKey=\"onboarding.build\"\n            options={Object.values(BuildTools)}\n          />\n        </li>\n        {buildTool !== undefined && (\n          <li className=\"abs-width-600\">\n            <FormattedMessage\n              defaultMessage={translate(\n                `onboarding.tutorial.with.gitlab_ci.project_key.${buildTool}.step2`\n              )}\n              id={`onboarding.tutorial.with.gitlab_ci.project_key.${buildTool}.step2`}\n              values={{\n                file: (\n                  <>\n                    <code className=\"rule\">{filenameForBuildTool[buildTool]}</code>\n                    <ClipboardIconButton\n                      className=\"little-spacer-left\"\n                      copyValue={filenameForBuildTool[buildTool]}\n                    />\n                  </>\n                )\n              }}\n            />\n            <CodeSnippet snippet={snippetForBuildTool[buildTool](component.key)} />\n          </li>\n        )}\n      </ol>\n      {buildTool !== undefined && <Button onClick={props.onDone}>{translate('continue')}</Button>}\n    </div>\n  );\n\n  return (\n    <Step\n      finished={finished}\n      onOpen={props.onOpen}\n      open={open}\n      renderForm={renderForm}\n      stepNumber={1}\n      stepTitle={translate('onboarding.tutorial.with.gitlab_ci.project_key.title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isProjectGitLabBindingResponse } from '../../../helpers/alm-settings';\nimport { ProjectAlmBindingResponse } from '../../../types/alm-settings';\nimport EnvironmentVariablesStep from './EnvironmentVariablesStep';\nimport ProjectKeyStep from './ProjectKeyStep';\nimport { BuildTools } from './types';\nimport YmlFileStep from './YmlFileStep';\n\nexport enum Steps {\n  PROJECT_KEY,\n  ENV_VARIABLES,\n  YML\n}\n\nexport interface GitLabCITutorialProps {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  projectBinding: ProjectAlmBindingResponse;\n}\n\nexport default function GitLabCITutorial(props: GitLabCITutorialProps) {\n  const { component, currentUser, projectBinding } = props;\n\n  const [step, setStep] = React.useState(Steps.PROJECT_KEY);\n  const [buildTool, setBuildTool] = React.useState<BuildTools | undefined>();\n\n  // Failsafe; should never happen.\n  if (!isProjectGitLabBindingResponse(projectBinding)) {\n    return (\n      <Alert variant=\"error\">{translate('onboarding.tutorial.with.gitlab_ci.unsupported')}</Alert>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"page-header big-spacer-bottom\">\n        <h1 className=\"page-title\">{translate('onboarding.tutorial.with.gitlab_ci.title')}</h1>\n      </div>\n\n      <ProjectKeyStep\n        buildTool={buildTool}\n        component={component}\n        finished={step > Steps.PROJECT_KEY}\n        onDone={() => setStep(Steps.ENV_VARIABLES)}\n        onOpen={() => setStep(Steps.PROJECT_KEY)}\n        open={step === Steps.PROJECT_KEY}\n        setBuildTool={setBuildTool}\n      />\n\n      <EnvironmentVariablesStep\n        component={component}\n        currentUser={currentUser}\n        finished={step > Steps.ENV_VARIABLES}\n        onDone={() => setStep(Steps.YML)}\n        onOpen={() => setStep(Steps.ENV_VARIABLES)}\n        open={step === Steps.ENV_VARIABLES}\n      />\n\n      <YmlFileStep buildTool={buildTool} open={step === Steps.YML} />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CodeSnippet from '../../../common/CodeSnippet';\n\nexport default function PipeCommandGradle() {\n  const command = `sonarqube-check:\n  image: gradle:jre11-slim\n  variables:\n    SONAR_USER_HOME: \"\\${CI_PROJECT_DIR}/.sonar\"  # Defines the location of the analysis task cache\n    GIT_DEPTH: \"0\"  # Tells git to fetch all the branches of the project, required by the analysis task\n  cache:\n    key: \"\\${CI_JOB_NAME}\"\n    paths:\n      - .sonar/cache\n  script: gradle sonarqube\n  allow_failure: true\n  only:\n    - merge_requests\n    - master\n    - develop\n`;\n\n  return <CodeSnippet snippet={command} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CodeSnippet from '../../../common/CodeSnippet';\n\nexport default function PipeCommandMaven() {\n  const command = `sonarqube-check:\n  image: maven:3.6.3-jdk-11\n  variables:\n    SONAR_USER_HOME: \"\\${CI_PROJECT_DIR}/.sonar\"  # Defines the location of the analysis task cache\n    GIT_DEPTH: \"0\"  # Tells git to fetch all the branches of the project, required by the analysis task\n  cache:\n    key: \"\\${CI_JOB_NAME}\"\n    paths:\n      - .sonar/cache\n  script:\n    - mvn verify sonar:sonar\n  allow_failure: true\n  only:\n    - merge_requests\n    - master\n    - develop\n`;\n\n  return <CodeSnippet snippet={command} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CodeSnippet from '../../../common/CodeSnippet';\n\nexport default function PipeCommandOther() {\n  const command = `sonarqube-check:\n  image:\n    name: sonarsource/sonar-scanner-cli:latest\n    entrypoint: [\"\"]\n  variables:\n    SONAR_USER_HOME: \"\\${CI_PROJECT_DIR}/.sonar\"  # Defines the location of the analysis task cache\n    GIT_DEPTH: \"0\"  # Tells git to fetch all the branches of the project, required by the analysis task\n  cache:\n    key: \"\\${CI_JOB_NAME}\"\n    paths:\n      - .sonar/cache\n  script:\n    - sonar-scanner\n  allow_failure: true\n  only:\n    - merge_requests\n    - master\n    - develop\n`;\n\n  return <CodeSnippet snippet={command} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport Step from '../components/Step';\nimport PipeCommandGradle from './commands/PipeCommandGradle';\nimport PipeCommandMaven from './commands/PipeCommandMaven';\nimport PipeCommandOther from './commands/PipeCommandOther';\nimport { BuildTools } from './types';\n\nexport interface YmlFileStepProps {\n  buildTool?: BuildTools;\n  open: boolean;\n}\n\nexport default function YmlFileStep({ buildTool, open }: YmlFileStepProps) {\n  const renderForm = () => (\n    <div className=\"boxed-group-inner\">\n      <div className=\"flex-columns\">\n        <div className=\"flex-column-full\">\n          {buildTool && (\n            <>\n              <div className=\"big-spacer-bottom\">\n                <FormattedMessage\n                  defaultMessage={translate('onboarding.tutorial.with.gitlab_ci.yml.description')}\n                  id=\"onboarding.tutorial.with.gitlab_ci.yml.description\"\n                  values={{\n                    filename: (\n                      <>\n                        <code className=\"rule\">\n                          {translate('onboarding.tutorial.with.gitlab_ci.yml.filename')}\n                        </code>\n                        <ClipboardIconButton\n                          className=\"little-spacer-left\"\n                          copyValue={translate('onboarding.tutorial.with.gitlab_ci.yml.filename')}\n                        />\n                      </>\n                    )\n                  }}\n                />\n              </div>\n\n              <div className=\"big-spacer-bottom\">\n                {buildTool === BuildTools.Maven && <PipeCommandMaven />}\n                {buildTool === BuildTools.Gradle && <PipeCommandGradle />}\n                {buildTool === BuildTools.Other && <PipeCommandOther />}\n              </div>\n\n              <p className=\"little-spacer-bottom\">\n                {translate('onboarding.tutorial.with.gitlab_ci.yml.baseconfig')}\n              </p>\n\n              <p className=\"huge-spacer-bottom\">\n                {translate('onboarding.tutorial.with.gitlab_ci.yml.existing')}\n              </p>\n\n              <hr className=\"no-horizontal-margins\" />\n              <div>\n                <p className=\"big-spacer-bottom\">\n                  <strong>{translate('onboarding.tutorial.with.gitlab_ci.yml.done')} </strong>{' '}\n                  <FormattedMessage\n                    defaultMessage={translate(\n                      'onboarding.tutorial.with.gitlab_ci.yml.done.description'\n                    )}\n                    id=\"onboarding.tutorial.with.gitlab_ci.yml.done.description\"\n                    values={{\n                      /* This link will be added when the backend provides the project URL */\n                      link: translate(\n                        'onboarding.tutorial.with.gitlab_ci.yml.done.description.link'\n                      )\n                    }}\n                  />\n                </p>\n                <p className=\"big-spacer-bottom\">\n                  <strong>\n                    {translate('onboarding.tutorial.with.gitlab_ci.yml.done.then-what')}\n                  </strong>{' '}\n                  {translate('onboarding.tutorial.with.gitlab_ci.yml.done.then-what.description')}\n                </p>\n\n                <p className=\"big-spacer-bottom\">\n                  <FormattedMessage\n                    defaultMessage={translate(\n                      'onboarding.tutorial.with.gitlab_ci.yml.done.links.title'\n                    )}\n                    id=\"onboarding.tutorial.with.gitlab_ci.yml.done.links.title\"\n                    values={{\n                      links: (\n                        <Link\n                          rel=\"noopener noreferrer\"\n                          target=\"_blank\"\n                          to=\"/documentation/user-guide/quality-gates/\">\n                          {translate('onboarding.tutorial.with.gitlab_ci.yml.done.links.QG')}\n                        </Link>\n                      )\n                    }}\n                  />\n                </p>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <Step\n      finished={false}\n      open={open}\n      renderForm={renderForm}\n      stepNumber={3}\n      stepTitle={translate('onboarding.tutorial.with.gitlab_ci.yml.title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface SentenceWithHighlightsProps {\n  highlightKeys: string[];\n  translationKey: string;\n}\n\nexport default function SentenceWithHighlights({\n  highlightKeys,\n  translationKey\n}: SentenceWithHighlightsProps) {\n  const values: T.Dict<JSX.Element> = {};\n  highlightKeys.forEach(key => {\n    values[key] = <strong>{translate(translationKey, 'sentence', key)}</strong>;\n  });\n  return (\n    <FormattedMessage\n      defaultMessage={translate(translationKey, 'sentence')}\n      id={`${translationKey}.sentence`}\n      values={values}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface SentenceWithFilenameProps {\n  filename: string;\n  translationKey: string;\n}\n\nexport default function SentenceWithFilename({\n  filename,\n  translationKey\n}: SentenceWithFilenameProps) {\n  return (\n    <span className=\"markdown\">\n      <FormattedMessage\n        defaultMessage={translate(translationKey, 'sentence')}\n        id={`${translationKey}.sentence`}\n        values={{\n          file: <code>{filename}</code>\n        }}\n      />\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport SentenceWithFilename from '../../components/SentenceWithFilename';\nimport SentenceWithHighlights from '../../components/SentenceWithHighlights';\n\nexport interface CreateJenkinsfileBulletPointProps {\n  snippet: string;\n  alertTranslationKeyPart?: string;\n}\n\nexport default function CreateJenkinsfileBulletPoint(props: CreateJenkinsfileBulletPointProps) {\n  const { snippet, alertTranslationKeyPart } = props;\n\n  return (\n    <li className=\"abs-width-600\">\n      <SentenceWithFilename\n        filename=\"Jenkinsfile\"\n        translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.jenkinsfile_step\"\n      />\n      {alertTranslationKeyPart !== undefined && (\n        <Alert className=\"spacer-top\" variant=\"info\">\n          <p className=\"text-middle\">\n            <SentenceWithHighlights\n              highlightKeys={['default', 'in_jenkins']}\n              translationKey={`${alertTranslationKeyPart}.replace`}\n            />\n            <HelpTooltip\n              className=\"little-spacer-left\"\n              overlay={\n                <>\n                  <p className=\"spacer-bottom\">\n                    <SentenceWithHighlights\n                      highlightKeys={['path']}\n                      translationKey={`${alertTranslationKeyPart}.help1`}\n                    />\n                  </p>\n                  <p>\n                    <SentenceWithHighlights\n                      highlightKeys={['path', 'name']}\n                      translationKey={`${alertTranslationKeyPart}.help2`}\n                    />\n                  </p>\n                </>\n              }\n            />\n          </p>\n        </Alert>\n      )}\n      <CodeSnippet snippet={snippet} />\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport * as React from 'react';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport SentenceWithFilename from '../../components/SentenceWithFilename';\nimport CreateJenkinsfileBulletPoint from './CreateJenkinsfileBulletPoint';\n\nexport interface OtherProps {\n  component: T.Component;\n}\n\nconst sonarProjectSnippet = (key: string) => `sonar.projectKey=${key}`;\n\nconst JENKINSFILE_SNIPPET = `node {\n  stage('SCM') {\n    checkout scm\n  }\n  stage('SonarQube Analysis') {\n    def scannerHome = tool 'SonarScanner';\n    withSonarQubeEnv() {\n      sh \"\\${scannerHome}/bin/sonar-scanner\"\n    }\n  }\n}`;\n\nexport default function Other({ component }: OtherProps) {\n  return (\n    <>\n      <li className=\"abs-width-600\">\n        <SentenceWithFilename\n          filename=\"sonar-project.properties\"\n          translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.other.step2\"\n        />\n        <CodeSnippet snippet={sonarProjectSnippet(component.key)} />\n      </li>\n      <CreateJenkinsfileBulletPoint\n        alertTranslationKeyPart=\"onboarding.tutorial.with.jenkins.jenkinsfile.other.step3\"\n        snippet={JENKINSFILE_SNIPPET}\n      />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport RenderOptions from '../components/RenderOptions';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\nimport Step from '../components/Step';\nimport Gradle from './buildtool-steps/Gradle';\nimport Maven from './buildtool-steps/Maven';\nimport MSBuild from './buildtool-steps/MSBuild';\nimport Other from './buildtool-steps/Other';\n\nexport interface JenkinsfileStepProps {\n  component: T.Component;\n  open: boolean;\n}\n\nexport enum BuildTools {\n  Maven = 'maven',\n  Gradle = 'gradle',\n  MSBuild = 'msbuild',\n  Other = 'other'\n}\n\nconst BUILDTOOL_COMPONENT_MAP: {\n  [x in BuildTools]: React.ComponentType<{ component: T.Component }>;\n} = {\n  [BuildTools.Maven]: Maven,\n  [BuildTools.Gradle]: Gradle,\n  [BuildTools.MSBuild]: MSBuild,\n  [BuildTools.Other]: Other\n};\n\nexport default function JenkinsfileStep(props: JenkinsfileStepProps) {\n  const { component, open } = props;\n  const [buildTool, setBuildTool] = React.useState<BuildTools | undefined>(undefined);\n  return (\n    <Step\n      finished={false}\n      open={open}\n      renderForm={() => (\n        <div className=\"boxed-group-inner\">\n          <ol className=\"list-styled\">\n            <li>\n              {translate('onboarding.build')}\n              <RenderOptions\n                checked={buildTool}\n                name=\"buildtool\"\n                onCheck={value => setBuildTool(value as BuildTools)}\n                optionLabelKey=\"onboarding.build\"\n                options={Object.values(BuildTools)}\n              />\n            </li>\n            {buildTool !== undefined &&\n              React.createElement(BUILDTOOL_COMPONENT_MAP[buildTool], { component })}\n          </ol>\n          {buildTool !== undefined && (\n            <>\n              <hr className=\"huge-spacer-top huge-spacer-bottom\" />\n              <div className=\"abs-width-600\">\n                <p className=\"big-spacer-bottom\">\n                  <SentenceWithHighlights\n                    highlightKeys={['all_set']}\n                    translationKey=\"onboarding.tutorial.with.jenkins.all_set\"\n                  />\n                </p>\n                <div className=\"display-flex-row big-spacer-bottom\">\n                  <div>\n                    <img\n                      alt=\"\" // Should be ignored by screen readers\n                      className=\"big-spacer-right\"\n                      width={30}\n                      src={`${getBaseUrl()}/images/tutorials/commit.svg`}\n                    />\n                  </div>\n                  <div>\n                    <p className=\"little-spacer-bottom\">\n                      <strong>{translate('onboarding.tutorial.with.jenkins.commit')}</strong>\n                    </p>\n                    <p>{translate('onboarding.tutorial.with.jenkins.commit.why')}</p>\n                  </div>\n                </div>\n                <div className=\"display-flex-row huge-spacer-bottom\">\n                  <div>\n                    <img\n                      alt=\"\" // Should be ignored by screen readers\n                      className=\"big-spacer-right\"\n                      width={30}\n                      src={`${getBaseUrl()}/images/tutorials/refresh.svg`}\n                    />\n                  </div>\n                  <div>\n                    <p className=\"little-spacer-bottom\">\n                      <strong>{translate('onboarding.tutorial.with.jenkins.refresh')}</strong>\n                    </p>\n                    <p>{translate('onboarding.tutorial.with.jenkins.refresh.why')}</p>\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      )}\n      stepNumber={3}\n      stepTitle={translate('onboarding.tutorial.with.jenkins.jenkinsfile.title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport * as React from 'react';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport SentenceWithFilename from '../../components/SentenceWithFilename';\nimport CreateJenkinsfileBulletPoint from './CreateJenkinsfileBulletPoint';\n\nexport interface MavenProps {\n  component: T.Component;\n}\n\nconst pomSnippet = (key: string) => `<properties>\n  <sonar.projectKey>${key}</sonar.projectKey>\n</properties>`;\n\nconst JENKINSFILE_SNIPPET = `node {\n  stage('SCM') {\n    checkout scm\n  }\n  stage('SonarQube Analysis') {\n    def mvn = tool 'Default Maven';\n    withSonarQubeEnv() {\n      sh \"\\${mvn}/bin/mvn sonar:sonar\"\n    }\n  }\n}`;\n\nexport default function Maven({ component }: MavenProps) {\n  return (\n    <>\n      <li className=\"abs-width-600\">\n        <SentenceWithFilename\n          filename=\"pom.xml\"\n          translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.maven.step2\"\n        />\n        <CodeSnippet snippet={pomSnippet(component.key)} />\n      </li>\n      <CreateJenkinsfileBulletPoint\n        alertTranslationKeyPart=\"onboarding.tutorial.with.jenkins.jenkinsfile.maven.step3\"\n        snippet={JENKINSFILE_SNIPPET}\n      />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport * as React from 'react';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport SentenceWithFilename from '../../components/SentenceWithFilename';\nimport CreateJenkinsfileBulletPoint from './CreateJenkinsfileBulletPoint';\n\nexport interface GradleProps {\n  component: T.Component;\n}\n\nconst buildGradleSnippet = (key: string) => `plugins {\n  id \"org.sonarqube\" version \"2.7\"\n}\n\nsonarqube {\n  properties {\n    property \"sonar.projectKey\", \"${key}\"\n  }\n}`;\n\nconst JENKINSFILE_SNIPPET = `node {\n  stage('SCM') {\n    checkout scm\n  }\n  stage('SonarQube Analysis') {\n    withSonarQubeEnv() {\n      sh \"./gradlew sonarqube\"\n    }\n  }\n}`;\n\nexport default function Gradle({ component }: GradleProps) {\n  return (\n    <>\n      <li className=\"abs-width-600\">\n        <SentenceWithFilename\n          filename=\"build.gradle\"\n          translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.gradle.step2\"\n        />\n        <CodeSnippet snippet={buildGradleSnippet(component.key)} />\n      </li>\n      <CreateJenkinsfileBulletPoint snippet={JENKINSFILE_SNIPPET} />\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport SentenceWithFilename from '../../components/SentenceWithFilename';\nimport SentenceWithHighlights from '../../components/SentenceWithHighlights';\n\nexport interface MSBuildProps {\n  component: T.Component;\n}\n\nconst jenkinsfileSnippet = (key: string) => `node {\n  stage('SCM') {\n    checkout scm\n  }\n  stage('SonarQube Analysis') {\n    def msbuildHome = tool 'Default MSBuild'\n    def scannerHome = tool 'SonarScanner for MSBuild'\n    withSonarQubeEnv() {\n      bat \"\\\\\"\\${scannerHome}\\\\\\\\SonarScanner.MSBuild.exe\\\\\" begin /k:\\\\\"${key}\\\\\"\"\n      bat \"\\\\\"\\${msbuildHome}\\\\\\\\MSBuild.exe\\\\\" /t:Rebuild\"\n      bat \"\\\\\"\\${scannerHome}\\\\\\\\SonarScanner.MSBuild.exe\\\\\" end\"\n    }\n  }\n}\n`;\n\nexport default function MSBuild({ component }: MSBuildProps) {\n  return (\n    <li className=\"abs-width-600\">\n      <SentenceWithFilename\n        filename=\"Jenkinsfile\"\n        translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.jenkinsfile_step\"\n      />\n      <Alert className=\"spacer-top\" variant=\"info\">\n        <p className=\"text-middle\">\n          <SentenceWithHighlights\n            highlightKeys={['default_msbuild', 'default_scanner', 'in_jenkins']}\n            translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.msbuild.step2.replace\"\n          />\n          <HelpTooltip\n            className=\"little-spacer-left\"\n            overlay={\n              <>\n                <p className=\"spacer-bottom\">\n                  <SentenceWithHighlights\n                    highlightKeys={['path']}\n                    translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.msbuild.step2.help1\"\n                  />\n                </p>\n                <p className=\"spacer-bottom\">\n                  <SentenceWithHighlights\n                    highlightKeys={['path', 'name']}\n                    translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.msbuild.step2.help2\"\n                  />\n                </p>\n                <p>\n                  <SentenceWithHighlights\n                    highlightKeys={['path', 'name']}\n                    translationKey=\"onboarding.tutorial.with.jenkins.jenkinsfile.msbuild.step2.help3\"\n                  />\n                </p>\n              </>\n            }\n          />\n        </p>\n      </Alert>\n      <CodeSnippet snippet={jenkinsfileSnippet(component.key)} />\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface LabelActionPairProps {\n  translationKey: string;\n}\n\nexport default function LabelActionPair({ translationKey }: LabelActionPairProps) {\n  return (\n    <>\n      <strong>{translate(translationKey, 'label')}:</strong> {translate(translationKey, 'action')}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface LabelValuePairProps {\n  translationKey: string;\n  value: string;\n}\n\nexport default function LabelValuePair({ translationKey, value }: LabelValuePairProps) {\n  return (\n    <div className=\"display-flex-center\">\n      <strong className=\"little-spacer-right\">{translate(translationKey, 'label')}:</strong> {value}\n      <ClipboardIconButton className=\"little-spacer-left\" copyValue={value} />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  isGithubBindingDefinition,\n  isProjectBitbucketBindingResponse,\n  isProjectGitHubBindingResponse\n} from '../../../helpers/alm-settings';\nimport {\n  AlmBindingDefinition,\n  ProjectBitbucketBindingResponse,\n  ProjectGitHubBindingResponse\n} from '../../../types/alm-settings';\nimport LabelActionPair from '../components/LabelActionPair';\nimport LabelValuePair from '../components/LabelValuePair';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\nimport Step from '../components/Step';\nimport { buildGithubLink } from '../utils';\n\nexport interface MultiBranchPipelineStepProps {\n  almBinding?: AlmBindingDefinition;\n  finished: boolean;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n  projectBinding: ProjectBitbucketBindingResponse | ProjectGitHubBindingResponse;\n}\n\nexport default function MultiBranchPipelineStep(props: MultiBranchPipelineStepProps) {\n  const { almBinding, finished, open, projectBinding } = props;\n  return (\n    <Step\n      finished={finished}\n      onOpen={props.onOpen}\n      open={open}\n      renderForm={() => (\n        <div className=\"boxed-group-inner\">\n          <p className=\"big-spacer-bottom\">\n            {translate('onboarding.tutorial.with.jenkins.multi_branch_pipeline.intro')}\n          </p>\n          <ol className=\"list-styled\">\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['new_item', 'type']}\n                translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step1\"\n              />\n            </li>\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['tab']}\n                translationKey={`onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.${projectBinding.alm}`}\n              />\n              <ul className=\"list-styled\">\n                {isProjectBitbucketBindingResponse(projectBinding) && (\n                  <>\n                    <li>\n                      <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.bitbucket.server\" />\n                    </li>\n                    <li>\n                      <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.bitbucket.creds\" />\n                    </li>\n                    <li>\n                      <LabelValuePair\n                        translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.bitbucket.owner\"\n                        value={projectBinding.repository}\n                      />\n                    </li>\n                    <li>\n                      <LabelValuePair\n                        translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.bitbucket.repo\"\n                        value={projectBinding.slug}\n                      />\n                    </li>\n                  </>\n                )}\n                {isProjectGitHubBindingResponse(projectBinding) && (\n                  <>\n                    <li>\n                      <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.github.creds\" />\n                    </li>\n                    <li>\n                      {isGithubBindingDefinition(almBinding) ? (\n                        <LabelValuePair\n                          translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.github.repo_url\"\n                          value={buildGithubLink(almBinding, projectBinding)}\n                        />\n                      ) : (\n                        <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.github.repo_url\" />\n                      )}\n                    </li>\n                  </>\n                )}\n                <li>\n                  <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step2.behaviour\" />\n                </li>\n              </ul>\n            </li>\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['tab']}\n                translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step3\"\n              />\n              <ul className=\"list-styled\">\n                <li>\n                  <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step3.mode\" />\n                </li>\n                <li>\n                  <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step3.script_path\" />\n                </li>\n              </ul>\n            </li>\n            <li>\n              <SentenceWithHighlights\n                highlightKeys={['save']}\n                translationKey=\"onboarding.tutorial.with.jenkins.multi_branch_pipeline.step4\"\n              />\n            </li>\n          </ol>\n          <Button onClick={props.onDone}>{translate('continue')}</Button>\n        </div>\n      )}\n      stepNumber={1}\n      stepTitle={translate('onboarding.tutorial.with.jenkins.multi_branch_pipeline.title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  isProjectBitbucketBindingResponse,\n  isProjectGitHubBindingResponse\n} from '../../../helpers/alm-settings';\nimport { getCurrentUserSetting, Store } from '../../../store/rootReducer';\nimport { setCurrentUserSetting } from '../../../store/users';\nimport { AlmBindingDefinition, ProjectAlmBindingResponse } from '../../../types/alm-settings';\nimport JenkinsfileStep from './JenkinsfileStep';\nimport MultiBranchPipelineStep from './MultiBranchPipelineStep';\nimport PreRequisitesStep from './PreRequisitesStep';\nimport WebhookStep from './WebhookStep';\n\nexport interface JenkinsTutorialProps {\n  almBinding?: AlmBindingDefinition;\n  component: T.Component;\n  projectBinding: ProjectAlmBindingResponse;\n  setCurrentUserSetting: (setting: T.CurrentUserSetting) => void;\n  skipPreReqs: boolean;\n}\n\nenum Steps {\n  PreRequisites = 0,\n  MultiBranchPipeline = 1,\n  Webhook = 2,\n  Jenkinsfile = 3\n}\n\nconst USER_SETTING_SKIP_BITBUCKET_PREREQS = 'tutorials.jenkins.skipBitbucketPreReqs';\n\nexport function JenkinsTutorial(props: JenkinsTutorialProps) {\n  const { almBinding, component, projectBinding, skipPreReqs } = props;\n  const [step, setStep] = React.useState(\n    skipPreReqs ? Steps.MultiBranchPipeline : Steps.PreRequisites\n  );\n\n  // Failsafe; should never happen.\n  if (\n    !isProjectBitbucketBindingResponse(projectBinding) &&\n    !isProjectGitHubBindingResponse(projectBinding)\n  ) {\n    return (\n      <Alert variant=\"error\">{translate('onboarding.tutorial.with.jenkins.unsupported')}</Alert>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"page-header big-spacer-bottom\">\n        <h1 className=\"page-title\">{translate('onboarding.tutorial.with.jenkins.title')}</h1>\n      </div>\n\n      <PreRequisitesStep\n        alm={projectBinding.alm}\n        onDone={() => setStep(Steps.MultiBranchPipeline)}\n        onOpen={() => setStep(Steps.PreRequisites)}\n        onChangeSkipNextTime={skip => {\n          props.setCurrentUserSetting({\n            key: USER_SETTING_SKIP_BITBUCKET_PREREQS,\n            value: skip.toString()\n          });\n        }}\n        open={step === Steps.PreRequisites}\n        skipNextTime={skipPreReqs}\n      />\n\n      <MultiBranchPipelineStep\n        almBinding={almBinding}\n        finished={step > Steps.MultiBranchPipeline}\n        onDone={() => setStep(Steps.Webhook)}\n        onOpen={() => setStep(Steps.MultiBranchPipeline)}\n        open={step === Steps.MultiBranchPipeline}\n        projectBinding={projectBinding}\n      />\n\n      <WebhookStep\n        almBinding={almBinding}\n        finished={step > Steps.Webhook}\n        onDone={() => setStep(Steps.Jenkinsfile)}\n        onOpen={() => setStep(Steps.Webhook)}\n        open={step === Steps.Webhook}\n        projectBinding={projectBinding}\n      />\n\n      <JenkinsfileStep component={component} open={step === Steps.Jenkinsfile} />\n    </>\n  );\n}\n\nconst mapStateToProps = (state: Store): Pick<JenkinsTutorialProps, 'skipPreReqs'> => {\n  return {\n    skipPreReqs: getCurrentUserSetting(state, USER_SETTING_SKIP_BITBUCKET_PREREQS) === 'true'\n  };\n};\n\nconst mapDispatchToProps = { setCurrentUserSetting };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(JenkinsTutorial);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { AlmKeys } from '../../../types/alm-settings';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\nimport Step from '../components/Step';\n\nexport interface PreRequisitesStepProps {\n  alm: AlmKeys;\n  onChangeSkipNextTime: (skip: boolean) => void;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n  skipNextTime: boolean;\n}\n\nexport default function PreRequisitesStep(props: PreRequisitesStepProps) {\n  const { alm, open, skipNextTime } = props;\n  return (\n    <Step\n      finished={!open}\n      onOpen={props.onOpen}\n      open={open}\n      renderForm={() => (\n        <div className=\"boxed-group-inner\">\n          <p className=\"big-spacer-bottom\">\n            <SentenceWithHighlights\n              highlightKeys={['must_have']}\n              translationKey=\"onboarding.tutorial.with.jenkins.prereqs.intro\"\n            />\n          </p>\n          <ul className=\"list-styled big-spacer-bottom\">\n            <li>\n              {translate('onboarding.tutorial.with.jenkins.prereqs.plugins.branch_source', alm)}\n            </li>\n            <li>{translate('onboarding.tutorial.with.jenkins.prereqs.plugins.sonar_scanner')}</li>\n          </ul>\n          <p className=\"big-spacer-bottom\">\n            <FormattedMessage\n              defaultMessage={translate(\n                'onboarding.tutorial.with.jenkins.prereqs.step_by_step_guide'\n              )}\n              id=\"onboarding.tutorial.with.jenkins.prereqs.step_by_step_guide\"\n              values={{\n                link: (\n                  <Link target=\"_blank\" to=\"/documentation/analysis/jenkins/\">\n                    {translate('onboarding.tutorial.with.jenkins.prereqs.step_by_step_guide.link')}\n                  </Link>\n                )\n              }}\n            />\n          </p>\n          <p className=\"big-spacer-bottom\">\n            {translate('onboarding.tutorial.with.jenkins.prereqs.following_are_recommendations')}\n          </p>\n          <p className=\"big-spacer-bottom display-flex-center\">\n            <label\n              className=\"cursor-pointer\"\n              htmlFor=\"skip-prereqs\"\n              onClick={() => {\n                props.onChangeSkipNextTime(!skipNextTime);\n              }}>\n              {translate('onboarding.tutorial.with.jenkins.prereqs.skip_next_time')}\n            </label>\n            <Checkbox\n              checked={skipNextTime}\n              className=\"little-spacer-left\"\n              id=\"skip-prereqs\"\n              onCheck={props.onChangeSkipNextTime}\n            />\n          </p>\n          <Button onClick={props.onDone}>\n            {translate('onboarding.tutorial.with.jenkins.prereqs.done')}\n          </Button>\n        </div>\n      )}\n      stepTitle={translate('onboarding.tutorial.with.jenkins.prereqs.title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { BitbucketBindingDefinition, ProjectAlmBindingResponse } from '../../../types/alm-settings';\nimport CodeSnippet from '../../common/CodeSnippet';\nimport LabelActionPair from '../components/LabelActionPair';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\n\nexport interface WebhookStepBitbucketProps {\n  almBinding?: BitbucketBindingDefinition;\n  projectBinding: ProjectAlmBindingResponse;\n}\n\nfunction buildUrlSnippet(ownUrl = '***BITBUCKET_URL***') {\n  return `***JENKINS_URL***/bitbucket-scmsource-hook/notify?server_url=${ownUrl}`;\n}\n\nexport default function WebhookStepBitbucket(props: WebhookStepBitbucketProps) {\n  const { almBinding, projectBinding } = props;\n\n  const linkUrl =\n    almBinding &&\n    `${almBinding.url}/plugins/servlet/webhooks/projects/${projectBinding.repository}/repos/${projectBinding.slug}/create`;\n\n  return (\n    <>\n      <li>\n        <FormattedMessage\n          defaultMessage={translate('onboarding.tutorial.with.jenkins.webhook.step1.sentence')}\n          id=\"onboarding.tutorial.with.jenkins.webhook.step1.sentence\"\n          values={{\n            link: linkUrl ? (\n              <a href={linkUrl} rel=\"noopener noreferrer\" target=\"_blank\">\n                {translate('onboarding.tutorial.with.jenkins.webhook.bitbucket.step1.link')}\n              </a>\n            ) : (\n              translate('onboarding.tutorial.with.jenkins.webhook.bitbucket.step1.link')\n            )\n          }}\n        />\n        <ul className=\"list-styled\">\n          <li>\n            <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.webhook.step1.name\" />\n          </li>\n          <li className=\"abs-width-600\">\n            <p>\n              <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.webhook.bitbucket.step1.url\" />\n            </p>\n            <CodeSnippet isOneLine={true} snippet={buildUrlSnippet(almBinding && almBinding.url)} />\n            <Alert variant=\"info\">\n              {translate('onboarding.tutorial.with.jenkins.webhook.bitbucket.step1.url.warning')}\n            </Alert>\n          </li>\n        </ul>\n      </li>\n      <li>\n        <SentenceWithHighlights\n          highlightKeys={['events']}\n          translationKey=\"onboarding.tutorial.with.jenkins.webhook.bitbucket.step2\"\n        />\n        <ul className=\"list-styled\">\n          <li>\n            <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.webhook.bitbucket.step2.repo\" />\n          </li>\n          <li>\n            <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.webhook.bitbucket.step2.pr\" />\n          </li>\n        </ul>\n      </li>\n      <li>\n        <SentenceWithHighlights\n          highlightKeys={['create']}\n          translationKey=\"onboarding.tutorial.with.jenkins.webhook.step3\"\n        />\n      </li>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { GithubBindingDefinition, ProjectAlmBindingResponse } from '../../../types/alm-settings';\nimport CodeSnippet from '../../common/CodeSnippet';\nimport LabelActionPair from '../components/LabelActionPair';\nimport SentenceWithHighlights from '../components/SentenceWithHighlights';\nimport { buildGithubLink } from '../utils';\n\nexport interface WebhookStepGithubProps {\n  almBinding?: GithubBindingDefinition;\n  projectBinding: ProjectAlmBindingResponse;\n}\n\nexport default function WebhookStepGithub(props: WebhookStepGithubProps) {\n  const { almBinding, projectBinding } = props;\n\n  const linkUrl = almBinding && `${buildGithubLink(almBinding, projectBinding)}/settings/hooks`;\n\n  return (\n    <>\n      <li>\n        <FormattedMessage\n          defaultMessage={translate('onboarding.tutorial.with.jenkins.webhook.step1.sentence')}\n          id=\"onboarding.tutorial.with.jenkins.webhook.step1.sentence\"\n          values={{\n            link: linkUrl ? (\n              <a href={linkUrl} rel=\"noopener noreferrer\" target=\"_blank\">\n                {translate('onboarding.tutorial.with.jenkins.webhook.github.step1.link')}\n              </a>\n            ) : (\n              translate('onboarding.tutorial.with.jenkins.webhook.github.step1.link')\n            )\n          }}\n        />\n        <ul className=\"list-styled\">\n          <li className=\"abs-width-600\">\n            <p>\n              <LabelActionPair translationKey=\"onboarding.tutorial.with.jenkins.webhook.github.step1.url\" />\n            </p>\n            <CodeSnippet isOneLine={true} snippet=\"/github-webhook/\" />\n          </li>\n        </ul>\n      </li>\n      <li>\n        <SentenceWithHighlights\n          highlightKeys={['events', 'option']}\n          translationKey=\"onboarding.tutorial.with.jenkins.webhook.github.step2\"\n        />\n        <ul className=\"list-styled\">\n          <li>\n            <strong>\n              {translate('onboarding.tutorial.with.jenkins.webhook.github.step2.repo')}\n            </strong>\n          </li>\n          <li>\n            <strong>{translate('onboarding.tutorial.with.jenkins.webhook.github.step2.pr')}</strong>\n          </li>\n        </ul>\n      </li>\n      <li>\n        <SentenceWithHighlights\n          highlightKeys={['create']}\n          translationKey=\"onboarding.tutorial.with.jenkins.webhook.step3\"\n        />\n      </li>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button, ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  isBitbucketBindingDefinition,\n  isGithubBindingDefinition\n} from '../../../helpers/alm-settings';\nimport {\n  AlmBindingDefinition,\n  AlmKeys,\n  ProjectAlmBindingResponse\n} from '../../../types/alm-settings';\nimport Step from '../components/Step';\nimport WebhookStepBitbucket from './WebhookStepBitbucket';\nimport WebhookStepGithub from './WebhookStepGithub';\n\nexport interface WebhookStepProps {\n  almBinding?: AlmBindingDefinition;\n  finished: boolean;\n  onDone: () => void;\n  onOpen: () => void;\n  open: boolean;\n  projectBinding: ProjectAlmBindingResponse;\n}\n\nfunction renderAlmSpecificInstructions(props: WebhookStepProps) {\n  const { almBinding, projectBinding } = props;\n\n  switch (projectBinding.alm) {\n    case AlmKeys.Bitbucket:\n      return (\n        <WebhookStepBitbucket\n          almBinding={isBitbucketBindingDefinition(almBinding) ? almBinding : undefined}\n          projectBinding={projectBinding}\n        />\n      );\n\n    case AlmKeys.GitHub:\n      return (\n        <WebhookStepGithub\n          almBinding={isGithubBindingDefinition(almBinding) ? almBinding : undefined}\n          projectBinding={projectBinding}\n        />\n      );\n\n    default:\n      return null;\n  }\n}\n\nexport default function WebhookStep(props: WebhookStepProps) {\n  const { finished, open, projectBinding } = props;\n\n  return (\n    <Step\n      finished={finished}\n      onOpen={props.onOpen}\n      open={open}\n      renderForm={() => (\n        <div className=\"boxed-group-inner\">\n          <p className=\"big-spacer-bottom\">\n            <FormattedMessage\n              defaultMessage={translate('onboarding.tutorial.with.jenkins.webhook.intro.sentence')}\n              id=\"onboarding.tutorial.with.jenkins.webhook.intro.sentence\"\n              values={{\n                link: (\n                  <ButtonLink onClick={props.onDone}>\n                    {translate('onboarding.tutorial.with.jenkins.webhook.intro.link')}\n                  </ButtonLink>\n                )\n              }}\n            />\n          </p>\n          <ol className=\"list-styled\">{renderAlmSpecificInstructions(props)}</ol>\n          <Button onClick={props.onDone}>{translate('continue')}</Button>\n        </div>\n      )}\n      stepNumber={2}\n      stepTitle={translate('onboarding.tutorial.with.jenkins.webhook', projectBinding.alm, 'title')}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n}\n\nexport default function MSBuildScanner(props: Props) {\n  return (\n    <div className={props.className}>\n      <h4 className=\"spacer-bottom\">{translate('onboarding.analysis.msbuild.header')}</h4>\n      <p className=\"spacer-bottom markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.msbuild.text')}\n          id=\"onboarding.analysis.msbuild.text\"\n          values={{ code: <code>%PATH%</code> }}\n        />\n      </p>\n      <p>\n        <Link\n          className=\"button\"\n          to=\"/documentation/analysis/scan/sonarscanner-for-msbuild/\"\n          target=\"_blank\">\n          {translate('download_verb')}\n        </Link>\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport InstanceMessage from '../../../common/InstanceMessage';\nimport MSBuildScanner from './MSBuildScanner';\n\nexport interface Props {\n  host: string;\n  organization?: string;\n  projectKey: string;\n  small?: boolean;\n  token: string;\n}\n\nexport default function DotNet(props: Props) {\n  const command1 = [\n    'SonarScanner.MSBuild.exe begin',\n    `/k:\"${props.projectKey}\"`,\n    props.organization && `/d:sonar.organization=\"${props.organization}\"`,\n    `/d:sonar.host.url=\"${props.host}\"`,\n    `/d:sonar.login=\"${props.token}\"`\n  ];\n\n  const command2 = 'MsBuild.exe /t:Rebuild';\n\n  const command3 = ['SonarScanner.MSBuild.exe end', `/d:sonar.login=\"${props.token}\"`];\n\n  return (\n    <div>\n      <MSBuildScanner />\n\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.msbuild.execute')}\n      </h4>\n      <InstanceMessage message={translate('onboarding.analysis.msbuild.execute.text')}>\n        {transformedMessage => <p className=\"spacer-bottom markdown\">{transformedMessage}</p>}\n      </InstanceMessage>\n      <CodeSnippet isOneLine={true} snippet={command1} />\n      <CodeSnippet isOneLine={true} snippet={command2} />\n      <CodeSnippet isOneLine={props.small} snippet={command3} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <Link to=\"/documentation/analysis/scan/sonarscanner-for-msbuild/\" target=\"_blank\">\n                {translate('onboarding.analysis.msbuild.docs_link')}\n              </Link>\n            )\n          }}\n        />\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport InstanceMessage from '../../../common/InstanceMessage';\n\nexport interface Props {\n  host: string;\n  organization?: string;\n  projectKey?: string;\n  token: string;\n}\n\nexport default function JavaGradle(props: Props) {\n  const config = 'plugins {\\n  id \"org.sonarqube\" version \"2.7\"\\n}';\n\n  const command = [\n    './gradlew sonarqube',\n    props.projectKey && `-Dsonar.projectKey=${props.projectKey}`,\n    props.organization && `-Dsonar.organization=${props.organization}`,\n    `-Dsonar.host.url=${props.host}`,\n    `-Dsonar.login=${props.token}`\n  ];\n\n  return (\n    <div>\n      <h4 className=\"spacer-bottom\">{translate('onboarding.analysis.java.gradle.header')}</h4>\n      <InstanceMessage message={translate('onboarding.analysis.java.gradle.text.1')}>\n        {transformedMessage => (\n          <p className=\"spacer-bottom markdown\">\n            <FormattedMessage\n              defaultMessage={transformedMessage}\n              id=\"onboarding.analysis.java.gradle.text.1\"\n              values={{\n                plugin_code: <code>org.sonarqube</code>,\n                filename: <code>build.gradle</code>\n              }}\n            />\n          </p>\n        )}\n      </InstanceMessage>\n      <CodeSnippet snippet={config} />\n      <p className=\"spacer-top spacer-bottom markdown\">\n        {translate('onboarding.analysis.java.gradle.text.2')}\n      </p>\n      <CodeSnippet snippet={command} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <Link to=\"/documentation/analysis/scan/sonarscanner-for-gradle/\" target=\"_blank\">\n                {translate('onboarding.analysis.java.gradle.docs_link')}\n              </Link>\n            )\n          }}\n        />\n      </p>\n      <p className=\"big-spacer-top markdown\">\n        {props.projectKey\n          ? translate('onboarding.analysis.auto_refresh_after_analysis')\n          : translate('onboarding.analysis.browse_url_after_analysis')}\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport InstanceMessage from '../../../common/InstanceMessage';\n\nexport interface Props {\n  host: string;\n  organization?: string;\n  projectKey?: string;\n  token: string;\n}\n\nexport default function JavaMaven(props: Props) {\n  const command = [\n    'mvn sonar:sonar',\n    props.projectKey && `-Dsonar.projectKey=${props.projectKey}`,\n    props.organization && `-Dsonar.organization=${props.organization}`,\n    `-Dsonar.host.url=${props.host}`,\n    `-Dsonar.login=${props.token}`\n  ];\n\n  return (\n    <div>\n      <h4 className=\"spacer-bottom\">{translate('onboarding.analysis.java.maven.header')}</h4>\n      <p className=\"spacer-bottom markdown\">\n        <InstanceMessage message={translate('onboarding.analysis.java.maven.text')} />\n      </p>\n      <CodeSnippet snippet={command} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.docs')}\n          id=\"onboarding.analysis.docs\"\n          values={{\n            link: (\n              <Link to=\"/documentation/analysis/scan/sonarscanner-for-gradle/\" target=\"_blank\">\n                {translate('onboarding.analysis.java.maven.docs_link')}\n              </Link>\n            )\n          }}\n        />\n      </p>\n      <p className=\"big-spacer-top markdown\">\n        {props.projectKey\n          ? translate('onboarding.analysis.auto_refresh_after_analysis')\n          : translate('onboarding.analysis.browse_url_after_analysis')}\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  os: string;\n}\n\nexport default function SQScanner(props: Props) {\n  return (\n    <div className={props.className}>\n      <h4 className=\"spacer-bottom\">\n        {translate('onboarding.analysis.sq_scanner.header', props.os)}\n      </h4>\n      <p className=\"spacer-bottom markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.sq_scanner.text')}\n          id=\"onboarding.analysis.sq_scanner.text\"\n          values={{\n            dir: <code>bin</code>,\n            env_var: <code>{props.os === 'win' ? '%PATH%' : 'PATH'}</code>\n          }}\n        />\n      </p>\n      <p>\n        <Link className=\"button\" to=\"/documentation/analysis/scan/sonarscanner/\" target=\"_blank\">\n          {translate('download_verb')}\n        </Link>\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CodeSnippet from '../../../common/CodeSnippet';\nimport InstanceMessage from '../../../common/InstanceMessage';\nimport { quote } from '../../utils';\nimport SQScanner from './SQScanner';\n\nexport interface Props {\n  host: string;\n  organization?: string;\n  os: string;\n  projectKey: string;\n  token: string;\n}\n\nexport default function Other(props: Props) {\n  const q = quote(props.os);\n  const command = [\n    props.os === 'win' ? 'sonar-scanner.bat' : 'sonar-scanner',\n    '-D' + q(`sonar.projectKey=${props.projectKey}`),\n    props.organization && '-D' + q(`sonar.organization=${props.organization}`),\n    '-D' + q('sonar.sources=.'),\n    '-D' + q(`sonar.host.url=${props.host}`),\n    '-D' + q(`sonar.login=${props.token}`)\n  ];\n\n  return (\n    <div>\n      <SQScanner os={props.os} />\n\n      <h4 className=\"huge-spacer-top spacer-bottom\">\n        {translate('onboarding.analysis.sq_scanner.execute')}\n      </h4>\n      <InstanceMessage message={translate('onboarding.analysis.sq_scanner.execute.text')}>\n        {transformedMessage => <p className=\"spacer-bottom markdown\">{transformedMessage}</p>}\n      </InstanceMessage>\n      <CodeSnippet isOneLine={props.os === 'win'} snippet={command} />\n      <p className=\"big-spacer-top markdown\">\n        <FormattedMessage\n          defaultMessage={translate('onboarding.analysis.sq_scanner.docs')}\n          id=\"onboarding.analysis.sq_scanner.docs\"\n          values={{\n            link: (\n              <Link to=\"/documentation/analysis/scan/sonarscanner/\" target=\"_blank\">\n                {translate('onboarding.analysis.sq_scanner.docs_link')}\n              </Link>\n            )\n          }}\n        />\n      </p>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getHostUrl } from 'sonar-ui-common/helpers/urls';\nimport { LanguageConfig } from '../../types';\nimport { getProjectKey } from '../ProjectAnalysisStep';\nimport DotNet from './DotNet';\nimport JavaGradle from './JavaGradle';\nimport JavaMaven from './JavaMaven';\nimport Other from './Other';\n\ninterface Props {\n  component?: T.Component;\n  organization?: string;\n  languageConfig: LanguageConfig;\n  small?: boolean;\n  token?: string;\n}\n\nexport default class AnalysisCommand extends React.PureComponent<Props> {\n  renderCommandForMaven = () => {\n    const { component, token } = this.props;\n    if (!token) {\n      return null;\n    }\n    return (\n      <JavaMaven\n        host={getHostUrl()}\n        organization={this.props.organization}\n        projectKey={component && component.key}\n        token={token}\n      />\n    );\n  };\n\n  renderCommandForGradle = () => {\n    const { component, token } = this.props;\n    if (!token) {\n      return null;\n    }\n    return (\n      <JavaGradle\n        host={getHostUrl()}\n        organization={this.props.organization}\n        projectKey={component && component.key}\n        token={token}\n      />\n    );\n  };\n\n  renderCommandForDotNet = () => {\n    const { component, languageConfig, small, token } = this.props;\n    const projectKey = getProjectKey(languageConfig, component);\n    if (!projectKey || !token) {\n      return null;\n    }\n    return (\n      <DotNet\n        host={getHostUrl()}\n        organization={this.props.organization}\n        projectKey={projectKey}\n        small={small}\n        token={token}\n      />\n    );\n  };\n\n  renderCommandForOther = () => {\n    const { component, languageConfig, token } = this.props;\n    const projectKey = getProjectKey(languageConfig, component);\n    if (!languageConfig || !projectKey || !languageConfig.os || !token) {\n      return null;\n    }\n    return (\n      <Other\n        host={getHostUrl()}\n        organization={this.props.organization}\n        os={languageConfig.os}\n        projectKey={projectKey}\n        token={token}\n      />\n    );\n  };\n\n  render() {\n    const { languageConfig } = this.props;\n\n    if (languageConfig.language === 'java') {\n      return languageConfig.javaBuild === 'maven'\n        ? this.renderCommandForMaven()\n        : this.renderCommandForGradle();\n    } else if (languageConfig.language === 'dotnet') {\n      return this.renderCommandForDotNet();\n    } else {\n      return this.renderCommandForOther();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioToggle from 'sonar-ui-common/components/controls/RadioToggle';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport RenderOptions from '../components/RenderOptions';\nimport { LanguageConfig } from '../types';\nimport { isLanguageConfigured } from '../utils';\n\ninterface Props {\n  component: T.Component;\n  config?: LanguageConfig;\n  onDone: (config: LanguageConfig) => void;\n  onReset: VoidFunction;\n  organization?: string;\n}\n\ntype State = LanguageConfig;\n\nexport interface RenderOSProps {\n  os: string | undefined;\n  setOS: (os: string) => void;\n}\n\nexport function RenderOS(props: RenderOSProps) {\n  return (\n    <RenderOptions\n      checked={props.os}\n      name=\"os\"\n      onCheck={props.setOS}\n      optionLabelKey=\"onboarding.language.os\"\n      options={['linux', 'win', 'mac']}\n      titleLabelKey=\"onboarding.language.os\"\n    />\n  );\n}\n\nexport default class LanguageForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      ...(this.props.config || {}),\n      projectKey: props.component ? props.component.key : undefined\n    };\n  }\n\n  handleChange = () => {\n    if (isLanguageConfigured(this.state)) {\n      this.props.onDone(this.state);\n    } else {\n      this.props.onReset();\n    }\n  };\n\n  handleLanguageChange = (language: string) => {\n    this.setState({ language }, this.handleChange);\n  };\n\n  handleJavaBuildChange = (javaBuild: string) => {\n    this.setState({ javaBuild }, this.handleChange);\n  };\n\n  handleOSChange = (os: string) => {\n    this.setState({ os }, this.handleChange);\n  };\n\n  renderJavaBuild = () => (\n    <RenderOptions\n      checked={this.state.javaBuild}\n      name=\"java-build\"\n      onCheck={this.handleJavaBuildChange}\n      optionLabelKey=\"onboarding.language.java.build_technology\"\n      options={['maven', 'gradle']}\n      titleLabelKey=\"onboarding.language.java.build_technology\"\n    />\n  );\n\n  render() {\n    const { language } = this.state;\n    const languages = ['java', 'dotnet', 'other'];\n\n    return (\n      <>\n        <div>\n          <h4 className=\"spacer-bottom\">{translate('onboarding.language')}</h4>\n          <RadioToggle\n            name=\"language\"\n            onCheck={this.handleLanguageChange}\n            options={languages.map(language => ({\n              label: translate('onboarding.language', language),\n              value: language\n            }))}\n            value={language}\n          />\n        </div>\n        {language === 'java' && this.renderJavaBuild()}\n        {language === 'other' && <RenderOS os={this.state.os} setOS={this.handleOSChange} />}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport Step from '../components/Step';\nimport { LanguageConfig } from '../types';\nimport AnalysisCommand from './commands/AnalysisCommand';\nimport LanguageForm from './LanguageForm';\n\ninterface Props {\n  component: T.Component;\n  displayRowLayout?: boolean;\n  onFinish?: (projectKey?: string) => void;\n  onReset?: VoidFunction;\n  open: boolean;\n  organization?: string;\n  stepNumber: number;\n  token?: string;\n}\n\ninterface State {\n  config?: LanguageConfig;\n}\n\nexport function getProjectKey(config?: LanguageConfig, component?: T.Component) {\n  return (component && component.key) || (config && config.projectKey);\n}\n\nexport default class ProjectAnalysisStep extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  handleLanguageSelect = (config: LanguageConfig) => {\n    this.setState({ config });\n    if (this.props.onFinish) {\n      const projectKey = config.language !== 'java' ? getProjectKey(config) : undefined;\n      this.props.onFinish(projectKey);\n    }\n  };\n\n  handleLanguageReset = () => {\n    this.setState({ config: undefined });\n    if (this.props.onReset) {\n      this.props.onReset();\n    }\n  };\n\n  renderForm = () => {\n    const languageComponent = (\n      <LanguageForm\n        component={this.props.component}\n        onDone={this.handleLanguageSelect}\n        onReset={this.handleLanguageReset}\n        organization={this.props.organization}\n      />\n    );\n    const analysisComponent = this.state.config && (\n      <AnalysisCommand\n        component={this.props.component}\n        languageConfig={this.state.config}\n        organization={this.props.organization}\n        small={true}\n        token={this.props.token}\n      />\n    );\n\n    if (this.props.displayRowLayout) {\n      return (\n        <div className=\"boxed-group-inner\">\n          <div className=\"display-flex-column\">\n            {languageComponent}\n            {analysisComponent && <div className=\"huge-spacer-top\">{analysisComponent}</div>}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"boxed-group-inner\">\n        <div className=\"flex-columns\">\n          <div className=\"flex-column flex-column-half bordered-right\">{languageComponent}</div>\n          <div className=\"flex-column flex-column-half\">{analysisComponent}</div>\n        </div>\n      </div>\n    );\n  };\n\n  renderResult = () => null;\n\n  render() {\n    return (\n      <Step\n        finished={false}\n        onOpen={() => {}}\n        open={this.props.open}\n        renderForm={this.renderForm}\n        renderResult={this.renderResult}\n        stepNumber={this.props.stepNumber}\n        stepTitle={translate('onboarding.analysis.header')}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isVSTS } from '../../../helpers/almIntegrations';\nimport InstanceMessage from '../../common/InstanceMessage';\nimport ProjectAnalysisStep from './ProjectAnalysisStep';\nimport TokenStep from './TokenStep';\n\nexport enum Steps {\n  ANALYSIS,\n  TOKEN\n}\n\ninterface Props {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n}\n\ninterface State {\n  step: Steps;\n  token?: string;\n}\n\nexport default class ManualTutorial extends React.PureComponent<Props, State> {\n  state: State = { step: Steps.TOKEN };\n\n  handleTokenDone = (token: string) => {\n    this.setState({ step: Steps.ANALYSIS, token });\n  };\n\n  handleTokenOpen = () => {\n    this.setState({ step: Steps.TOKEN });\n  };\n\n  render() {\n    const { component, currentUser } = this.props;\n    const { step, token } = this.state;\n\n    const almKey = (component.alm && component.alm.key) || currentUser.externalProvider;\n    return (\n      <>\n        <div className=\"page-header big-spacer-bottom\">\n          <h1 className=\"page-title\">{translate('onboarding.project_analysis.header')}</h1>\n          <p className=\"page-description\">\n            <InstanceMessage message={translate('onboarding.project_analysis.description')} />\n          </p>\n        </div>\n\n        {!isVSTS(almKey) && (\n          <>\n            <TokenStep\n              currentUser={currentUser}\n              finished={Boolean(this.state.token)}\n              initialTokenName={`Analyze \"${component.name}\"`}\n              onContinue={this.handleTokenDone}\n              onOpen={this.handleTokenOpen}\n              open={step === Steps.TOKEN}\n              stepNumber={1}\n            />\n\n            <ProjectAnalysisStep\n              component={component}\n              displayRowLayout={true}\n              open={step === Steps.ANALYSIS}\n              stepNumber={2}\n              token={token}\n            />\n          </>\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { Button, DeleteButton, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport AlertErrorIcon from 'sonar-ui-common/components/icons/AlertErrorIcon';\nimport AlertSuccessIcon from 'sonar-ui-common/components/icons/AlertSuccessIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { generateToken, getTokens, revokeToken } from '../../../api/user-tokens';\nimport Step from '../components/Step';\nimport { getUniqueTokenName } from '../utils';\n\ninterface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  finished: boolean;\n  initialTokenName?: string;\n  open: boolean;\n  onContinue: (token: string) => void;\n  onOpen: VoidFunction;\n  stepNumber: number;\n}\n\ninterface State {\n  existingToken: string;\n  loading: boolean;\n  selection: string;\n  tokenName?: string;\n  token?: string;\n  tokens?: T.UserToken[];\n}\n\nexport default class TokenStep extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      existingToken: '',\n      loading: false,\n      selection: 'generate',\n      tokenName: props.initialTokenName\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    getTokens(this.props.currentUser.login).then(\n      tokens => {\n        if (this.mounted) {\n          this.setState({ tokens });\n          if (\n            this.props.initialTokenName !== undefined &&\n            this.props.initialTokenName === this.state.tokenName\n          ) {\n            this.setState({ tokenName: getUniqueTokenName(tokens) });\n          }\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getToken = () =>\n    this.state.selection === 'generate' ? this.state.token : this.state.existingToken;\n\n  canContinue = () => {\n    const { existingToken, selection, token } = this.state;\n    const validExistingToken = existingToken.match(/^[a-z0-9]+$/) != null;\n    return (\n      (selection === 'generate' && token != null) ||\n      (selection === 'use-existing' && existingToken && validExistingToken)\n    );\n  };\n\n  handleTokenNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ tokenName: event.target.value });\n  };\n\n  handleTokenGenerate = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const { tokenName } = this.state;\n    if (tokenName) {\n      this.setState({ loading: true });\n      generateToken({ name: tokenName }).then(({ token }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, token });\n        }\n      }, this.stopLoading);\n    }\n  };\n\n  handleTokenRevoke = () => {\n    const { tokenName } = this.state;\n    if (tokenName) {\n      this.setState({ loading: true });\n      revokeToken({ name: tokenName }).then(() => {\n        if (this.mounted) {\n          this.setState({ loading: false, token: undefined, tokenName: undefined });\n        }\n      }, this.stopLoading);\n    }\n  };\n\n  handleContinueClick = () => {\n    const token = this.getToken();\n    if (token) {\n      this.props.onContinue(token);\n    }\n  };\n\n  handleGenerateClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ selection: 'generate' });\n  };\n\n  handleUseExistingClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ selection: 'use-existing' });\n  };\n\n  handleModeChange = (mode: string) => {\n    this.setState({ selection: mode });\n  };\n\n  handleExisingTokenChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ existingToken: event.currentTarget.value });\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  renderGenerateOption = () => (\n    <div>\n      {this.state.tokens !== undefined && this.state.tokens.length > 0 ? (\n        <Radio\n          checked={this.state.selection === 'generate'}\n          onCheck={this.handleModeChange}\n          value=\"generate\">\n          {translate('onboarding.token.generate_token')}\n        </Radio>\n      ) : (\n        translate('onboarding.token.generate_token')\n      )}\n      {this.state.selection === 'generate' && (\n        <div className=\"big-spacer-top\">\n          <form onSubmit={this.handleTokenGenerate}>\n            <input\n              autoFocus={true}\n              className=\"input-super-large spacer-right text-middle\"\n              onChange={this.handleTokenNameChange}\n              placeholder={translate('onboarding.token.generate_token.placeholder')}\n              required={true}\n              type=\"text\"\n              value={this.state.tokenName || ''}\n            />\n            {this.state.loading ? (\n              <i className=\"spinner text-middle\" />\n            ) : (\n              <SubmitButton className=\"text-middle\" disabled={!this.state.tokenName}>\n                {translate('onboarding.token.generate')}\n              </SubmitButton>\n            )}\n          </form>\n        </div>\n      )}\n    </div>\n  );\n\n  renderUseExistingOption = () => {\n    const { existingToken } = this.state;\n    const validInput = !existingToken || existingToken.match(/^[a-z0-9]+$/) != null;\n\n    return (\n      <div className=\"big-spacer-top\">\n        <Radio\n          checked={this.state.selection === 'use-existing'}\n          onCheck={this.handleModeChange}\n          value=\"use-existing\">\n          {translate('onboarding.token.use_existing_token')}\n        </Radio>\n        {this.state.selection === 'use-existing' && (\n          <div className=\"big-spacer-top\">\n            <input\n              autoFocus={true}\n              className=\"input-super-large spacer-right text-middle\"\n              onChange={this.handleExisingTokenChange}\n              placeholder={translate('onboarding.token.use_existing_token.placeholder')}\n              required={true}\n              type=\"text\"\n              value={this.state.existingToken}\n            />\n            {!validInput && (\n              <span className=\"text-danger\">\n                <AlertErrorIcon className=\"little-spacer-right text-text-top\" />\n                {translate('onboarding.token.invalid_format')}\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  renderForm = () => {\n    const { loading, token, tokenName, tokens } = this.state;\n    const canUseExisting = tokens !== undefined && tokens.length > 0;\n\n    return (\n      <div className=\"boxed-group-inner\">\n        {token != null ? (\n          <form onSubmit={this.handleTokenRevoke}>\n            <span className=\"text-middle\">\n              {tokenName}\n              {': '}\n            </span>\n            <strong className=\"spacer-right text-middle\">{token}</strong>\n            {loading ? (\n              <i className=\"spinner text-middle\" />\n            ) : (\n              <DeleteButton className=\"button-small text-middle\" onClick={this.handleTokenRevoke} />\n            )}\n          </form>\n        ) : (\n          <div>\n            {this.renderGenerateOption()}\n            {canUseExisting && this.renderUseExistingOption()}\n          </div>\n        )}\n\n        <div className=\"note big-spacer-top width-50\">\n          <FormattedMessage\n            defaultMessage={translate('onboarding.token.text')}\n            id=\"onboarding.token.text\"\n            values={{\n              link: (\n                <Link target=\"_blank\" to=\"/account/security\">\n                  {translate('onboarding.token.text.user_account')}\n                </Link>\n              )\n            }}\n          />\n        </div>\n\n        {this.canContinue() && (\n          <div className=\"big-spacer-top\">\n            <Button className=\"js-continue\" onClick={this.handleContinueClick}>\n              {translate('continue')}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  renderResult = () => {\n    const { selection, tokenName } = this.state;\n    const token = this.getToken();\n\n    if (!token) {\n      return null;\n    }\n\n    return (\n      <div className=\"boxed-group-actions display-flex-center\">\n        <AlertSuccessIcon className=\"spacer-right\" />\n        {selection === 'generate' && tokenName && `${tokenName}: `}\n        <strong>{token}</strong>\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <Step\n        finished={this.props.finished}\n        onOpen={this.props.onOpen}\n        open={this.props.open}\n        renderForm={this.renderForm}\n        renderResult={this.renderResult}\n        stepNumber={this.props.stepNumber}\n        stepTitle={translate('onboarding.token.header')}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum TutorialModes {\n  Manual = 'manual',\n  Jenkins = 'jenkins',\n  GitLabCI = 'gitlab-ci'\n}\n\nexport interface LanguageConfig {\n  language?: string;\n  javaBuild?: string;\n  cFamilyCompiler?: string;\n  os?: string;\n  projectKey?: string;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function getAlmMembersUrl(key: string, url: string): string {\n  if (!url.endsWith('/')) {\n    url += '/';\n  }\n  if (isGithub(key)) {\n    return url.replace('github.com/', 'github.com/orgs/') + 'people';\n  }\n  return url + 'profile/members';\n}\n\nexport function getUserAlmKey(user: T.CurrentUser) {\n  return isLoggedIn(user) && user.externalProvider\n    ? sanitizeAlmId(user.externalProvider)\n    : undefined;\n}\n\nexport function hasAdvancedALMIntegration(user: T.CurrentUser) {\n  return (\n    isLoggedIn(user) && (isBitbucket(user.externalProvider) || isGithub(user.externalProvider))\n  );\n}\n\nexport function isBitbucket(almKey?: string): boolean {\n  return almKey ? almKey.startsWith('bitbucket') : false;\n}\n\nexport function isGithub(almKey?: string): boolean {\n  return almKey === 'github';\n}\n\nexport function isVSTS(almKey?: string): boolean {\n  return almKey === 'microsoft';\n}\n\nexport function sanitizeAlmId(almKey: string) {\n  if (isBitbucket(almKey)) {\n    return 'bitbucket';\n  }\n  return almKey;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { AlmBindingDefinition, AlmKeys, ProjectAlmBindingResponse } from '../../types/alm-settings';\nimport GitLabCITutorial from './gitlabci/GitLabCITutorial';\nimport JenkinsTutorial from './jenkins/JenkinsTutorial';\nimport ManualTutorial from './manual/ManualTutorial';\nimport { TutorialModes } from './types';\n\nexport interface TutorialSelectionRendererProps {\n  almBinding?: AlmBindingDefinition;\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n  loading: boolean;\n  onSelectTutorial: (mode: TutorialModes) => void;\n  projectBinding?: ProjectAlmBindingResponse;\n  selectedTutorial?: TutorialModes;\n}\n\nexport default function TutorialSelectionRenderer(props: TutorialSelectionRendererProps) {\n  const { almBinding, component, currentUser, loading, projectBinding, selectedTutorial } = props;\n\n  if (loading) {\n    return <i className=\"spinner\" />;\n  }\n\n  const jenkinsAvailable =\n    projectBinding && [AlmKeys.Bitbucket, AlmKeys.GitHub].includes(projectBinding.alm);\n\n  return (\n    <>\n      {selectedTutorial === undefined && (\n        <div className=\"tutorial-selection\">\n          <header className=\"spacer-top spacer-bottom padded\">\n            <h1 className=\"text-center big-spacer-bottom\">\n              {translate('onboarding.tutorial.choose_method')}\n            </h1>\n          </header>\n\n          <div className=\"display-flex-justify-center\">\n            {projectBinding?.alm === AlmKeys.GitLab && (\n              <button\n                className=\"button button-huge display-flex-column spacer-left spacer-right tutorial-mode-gitlab\"\n                onClick={() => props.onSelectTutorial(TutorialModes.GitLabCI)}\n                type=\"button\">\n                <img\n                  alt=\"\" // Should be ignored by screen readers\n                  height={80}\n                  src={`${getBaseUrl()}/images/alm/gitlab.svg`}\n                />\n                <div className=\"medium big-spacer-top\">\n                  {translate('onboarding.tutorial.choose_method.gitlab_ci')}\n                </div>\n              </button>\n            )}\n\n            {jenkinsAvailable && (\n              <button\n                className=\"button button-huge display-flex-column spacer-left spacer-right tutorial-mode-jenkins\"\n                onClick={() => props.onSelectTutorial(TutorialModes.Jenkins)}\n                type=\"button\">\n                <img\n                  alt=\"\" // Should be ignored by screen readers\n                  height={80}\n                  src={`${getBaseUrl()}/images/tutorials/jenkins.svg`}\n                />\n                <div className=\"medium big-spacer-top\">\n                  {translate('onboarding.tutorial.choose_method.jenkins')}\n                </div>\n              </button>\n            )}\n\n            <button\n              className=\"button button-huge display-flex-column spacer-left spacer-right tutorial-mode-manual\"\n              onClick={() => props.onSelectTutorial(TutorialModes.Manual)}\n              type=\"button\">\n              <img\n                alt=\"\" // Should be ignored by screen readers\n                height={80}\n                src={`${getBaseUrl()}/images/sonarcloud/analysis/manual.svg`}\n              />\n              <div className=\"medium big-spacer-top\">\n                {translate('onboarding.tutorial.choose_method.manual')}\n              </div>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {selectedTutorial === TutorialModes.Manual && (\n        <ManualTutorial component={component} currentUser={currentUser} />\n      )}\n\n      {selectedTutorial === TutorialModes.Jenkins && projectBinding !== undefined && (\n        <JenkinsTutorial\n          almBinding={almBinding}\n          component={component}\n          projectBinding={projectBinding}\n        />\n      )}\n\n      {selectedTutorial === TutorialModes.GitLabCI && projectBinding !== undefined && (\n        <GitLabCITutorial\n          component={component}\n          currentUser={currentUser}\n          projectBinding={projectBinding}\n        />\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { WithRouterProps } from 'react-router';\nimport { getAlmDefinitionsNoCatch, getProjectAlmBinding } from '../../api/alm-settings';\nimport { AlmBindingDefinition, AlmKeys, ProjectAlmBindingResponse } from '../../types/alm-settings';\nimport { withRouter } from '../hoc/withRouter';\nimport TutorialSelectionRenderer from './TutorialSelectionRenderer';\nimport { TutorialModes } from './types';\n\ninterface Props extends Pick<WithRouterProps, 'router' | 'location'> {\n  component: T.Component;\n  currentUser: T.LoggedInUser;\n}\n\ninterface State {\n  almBinding?: AlmBindingDefinition;\n  forceManual: boolean;\n  loading: boolean;\n  projectBinding?: ProjectAlmBindingResponse;\n}\n\nexport class TutorialSelection extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    forceManual: true,\n    loading: true\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchAlmBindings();\n  }\n\n  fetchAlmBindings = async () => {\n    const { component } = this.props;\n\n    const [almDefinitions, projectBinding] = await Promise.all([\n      getAlmDefinitionsNoCatch().catch(() => undefined),\n      getProjectAlmBinding(component.key).catch(() => undefined)\n    ]);\n\n    if (this.mounted) {\n      // We only support Bitbucket, GitHub & Gitlab for now.\n      if (\n        projectBinding === undefined ||\n        ![AlmKeys.Bitbucket, AlmKeys.GitHub, AlmKeys.GitLab].includes(projectBinding.alm)\n      ) {\n        this.setState({ loading: false, forceManual: true });\n      } else {\n        let almBinding;\n        if (almDefinitions !== undefined) {\n          const specificDefinitions = almDefinitions[projectBinding.alm] as AlmBindingDefinition[];\n          almBinding = specificDefinitions.find(d => d.key === projectBinding.key);\n        }\n        this.setState({ almBinding, forceManual: false, projectBinding, loading: false });\n      }\n    }\n  };\n\n  handleSelectTutorial = (selectedTutorial: TutorialModes) => {\n    const {\n      router,\n      location: { pathname, query }\n    } = this.props;\n\n    router.push({\n      pathname,\n      query: { ...query, selectedTutorial }\n    });\n  };\n\n  render() {\n    const { component, currentUser, location } = this.props;\n    const { almBinding, forceManual, loading, projectBinding } = this.state;\n\n    const selectedTutorial: TutorialModes | undefined = forceManual\n      ? TutorialModes.Manual\n      : location.query?.selectedTutorial;\n\n    return (\n      <TutorialSelectionRenderer\n        almBinding={almBinding}\n        component={component}\n        currentUser={currentUser}\n        loading={loading}\n        onSelectTutorial={this.handleSelectTutorial}\n        projectBinding={projectBinding}\n        selectedTutorial={selectedTutorial}\n      />\n    );\n  }\n}\n\nexport default withRouter(TutorialSelection);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport TutorialSelection from '../../../components/tutorials/TutorialSelection';\nimport { getBranchLikeDisplayName, isBranch, isMainBranch } from '../../../helpers/branch-like';\nimport { isLoggedIn } from '../../../helpers/users';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\n\ninterface Props {\n  branchLike?: BranchLike;\n  branchLikes: BranchLike[];\n  component: T.Component;\n  currentUser: T.CurrentUser;\n  hasAnalyses?: boolean;\n}\n\nexport function EmptyOverview(props: Props) {\n  const { branchLike, branchLikes, component, currentUser, hasAnalyses } = props;\n\n  if (component.qualifier === ComponentQualifier.Application) {\n    return (\n      <div className=\"page page-limited\">\n        <Alert variant=\"warning\">{translate('provisioning.no_analysis.application')}</Alert>\n      </div>\n    );\n  } else if (!isBranch(branchLike)) {\n    return null;\n  }\n\n  const hasBranches = branchLikes.length > 1;\n  const hasBadBranchConfig =\n    branchLikes.length > 2 ||\n    (branchLikes.length === 2 && branchLikes.some(branch => isBranch(branch)));\n\n  const showWarning = isMainBranch(branchLike) && hasBranches;\n  const showTutorial = isMainBranch(branchLike) && !hasBranches && !hasAnalyses;\n\n  let warning;\n  if (isLoggedIn(currentUser) && showWarning && hasBadBranchConfig) {\n    warning = (\n      <FormattedMessage\n        defaultMessage={translate('provisioning.no_analysis_on_main_branch.bad_configuration')}\n        id=\"provisioning.no_analysis_on_main_branch.bad_configuration\"\n        values={{\n          branchName: getBranchLikeDisplayName(branchLike),\n          branchType: translate('branches.main_branch')\n        }}\n      />\n    );\n  } else {\n    warning = (\n      <FormattedMessage\n        defaultMessage={translate('provisioning.no_analysis_on_main_branch')}\n        id=\"provisioning.no_analysis_on_main_branch\"\n        values={{\n          branchName: getBranchLikeDisplayName(branchLike)\n        }}\n      />\n    );\n  }\n\n  return (\n    <div className=\"page page-limited\">\n      {isLoggedIn(currentUser) ? (\n        <>\n          {showWarning && <Alert variant=\"warning\">{warning}</Alert>}\n          {showTutorial && <TutorialSelection component={component} currentUser={currentUser} />}\n        </>\n      ) : (\n        <Alert variant=\"warning\">{warning}</Alert>\n      )}\n    </div>\n  );\n}\n\nconst mapStateToProps = (state: Store) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(EmptyOverview);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Modal_1 = require(\"./Modal\");\nvar SimpleModal = (function (_super) {\n    __extends(SimpleModal, _super);\n    function SimpleModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { submitting: false };\n        _this.stopSubmitting = function () {\n            if (_this.mounted) {\n                _this.setState({ submitting: false });\n            }\n        };\n        _this.handleCloseClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.props.onClose();\n        };\n        _this.handleFormSubmit = function (event) {\n            event.preventDefault();\n            _this.submit();\n        };\n        _this.handleSubmitClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.submit();\n        };\n        _this.submit = function () {\n            var result = _this.props.onSubmit();\n            if (result) {\n                _this.setState({ submitting: true });\n                result.then(_this.stopSubmitting, _this.stopSubmitting);\n            }\n        };\n        return _this;\n    }\n    SimpleModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SimpleModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    SimpleModal.prototype.render = function () {\n        var _a = this.props, children = _a.children, header = _a.header, onClose = _a.onClose, onSubmit = _a.onSubmit, modalProps = __rest(_a, [\"children\", \"header\", \"onClose\", \"onSubmit\"]);\n        return (React.createElement(Modal_1.default, __assign({ contentLabel: header, onRequestClose: onClose }, modalProps), children({\n            onCloseClick: this.handleCloseClick,\n            onFormSubmit: this.handleFormSubmit,\n            onSubmitClick: this.handleSubmitClick,\n            submitting: this.state.submitting,\n        })));\n    };\n    return SimpleModal;\n}(React.Component));\nexports.default = SimpleModal;\n//# sourceMappingURL=SimpleModal.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const enum AlmKeys {\n  Azure = 'azure',\n  Bitbucket = 'bitbucket',\n  GitHub = 'github',\n  GitLab = 'gitlab'\n}\n\nexport interface AlmBindingDefinition {\n  key: string;\n}\n\nexport interface AzureBindingDefinition extends AlmBindingDefinition {\n  personalAccessToken: string;\n}\n\nexport interface BitbucketBindingDefinition extends AlmBindingDefinition {\n  personalAccessToken: string;\n  url: string;\n}\n\nexport interface GithubBindingDefinition extends AlmBindingDefinition {\n  appId: string;\n  clientId: string;\n  clientSecret: string;\n  privateKey: string;\n  url: string;\n}\n\nexport interface GitlabBindingDefinition extends AlmBindingDefinition {\n  personalAccessToken: string;\n  url?: string;\n}\n\nexport interface ProjectAlmBindingResponse {\n  alm: AlmKeys;\n  key: string;\n  repository?: string;\n  slug?: string;\n  summaryCommentEnabled?: boolean;\n}\n\nexport interface ProjectBitbucketBindingResponse extends ProjectAlmBindingResponse {\n  alm: AlmKeys.Bitbucket;\n  repository: string;\n  slug: string;\n}\n\nexport interface ProjectGitHubBindingResponse extends ProjectAlmBindingResponse {\n  alm: AlmKeys.GitHub;\n  repository: string;\n}\n\nexport interface ProjectGitLabBindingResponse extends ProjectAlmBindingResponse {\n  alm: AlmKeys.GitLab;\n  repository: string;\n  url: string;\n}\n\nexport interface ProjectAlmBindingParams {\n  almSetting: string;\n  project: string;\n}\n\nexport interface AzureProjectAlmBindingParams extends ProjectAlmBindingParams {}\n\nexport interface BitbucketProjectAlmBindingParams extends ProjectAlmBindingParams {\n  repository: string;\n  slug: string;\n}\n\nexport interface GithubProjectAlmBindingParams extends ProjectAlmBindingParams {\n  repository: string;\n  summaryCommentEnabled: boolean;\n}\n\nexport interface GitlabProjectAlmBindingParams extends ProjectAlmBindingParams {\n  repository?: string;\n}\n\nexport interface AlmSettingsInstance {\n  alm: AlmKeys;\n  key: string;\n  url?: string;\n}\n\nexport interface AlmSettingsBindingDefinitions {\n  [AlmKeys.Azure]: AzureBindingDefinition[];\n  [AlmKeys.Bitbucket]: BitbucketBindingDefinition[];\n  [AlmKeys.GitHub]: GithubBindingDefinition[];\n  [AlmKeys.GitLab]: GitlabBindingDefinition[];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport './CodeSnippet.css';\n\nexport interface CodeSnippetProps {\n  isOneLine?: boolean;\n  noCopy?: boolean;\n  snippet: string | (string | undefined)[];\n}\n\nexport default function CodeSnippet(props: CodeSnippetProps) {\n  const { isOneLine, noCopy, snippet } = props;\n  const snippetRef = React.useRef<HTMLPreElement>(null);\n\n  let finalSnippet: string;\n  if (Array.isArray(snippet)) {\n    finalSnippet = snippet.filter(line => isDefined(line)).join(isOneLine ? ' ' : ' \\\\\\n  ');\n  } else {\n    finalSnippet = snippet;\n  }\n\n  return (\n    <div className={classNames('code-snippet spacer-top spacer-bottom display-flex-row', {})}>\n      <pre className=\"flex-1\" ref={snippetRef}>\n        {finalSnippet}\n      </pre>\n      {!noCopy && <ClipboardButton copyValue={finalSnippet} />}\n    </div>\n  );\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./RadioToggle.css\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar RadioToggle = (function (_super) {\n    __extends(RadioToggle, _super);\n    function RadioToggle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderOption = function (option) {\n            var checked = option.value === _this.props.value;\n            var htmlId = _this.props.name + '__' + option.value;\n            return (React.createElement(\"li\", { key: option.value.toString() },\n                React.createElement(\"input\", { checked: checked, disabled: option.disabled, id: htmlId, name: _this.props.name, onChange: function () { return _this.props.onCheck(option.value); }, type: \"radio\" }),\n                React.createElement(Tooltip_1.default, { overlay: option.tooltip || undefined },\n                    React.createElement(\"label\", { htmlFor: htmlId }, option.label))));\n        };\n        return _this;\n    }\n    RadioToggle.prototype.render = function () {\n        return (React.createElement(\"ul\", { className: classNames('radio-toggle', this.props.className) }, this.props.options.map(this.renderOption)));\n    };\n    RadioToggle.defaultProps = {\n        disabled: false,\n        value: null,\n    };\n    return RadioToggle;\n}(React.PureComponent));\nexports.default = RadioToggle;\n//# sourceMappingURL=RadioToggle.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./RadioToggle.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".radio-toggle{font-size:0;white-space:nowrap}.radio-toggle,.radio-toggle>li{display:inline-block;vertical-align:middle}.radio-toggle>li{font-size:12px}.radio-toggle>li:first-child>label{border-top-left-radius:2px;border-bottom-left-radius:2px}.radio-toggle>li:last-child>label{border-top-right-radius:2px;border-bottom-right-radius:2px}.radio-toggle>li+li>label{border-left:none}.radio-toggle>li>label{display:inline-block;padding:0 12px;margin:0;border:1px solid #236a97;color:#236a97;height:22px;line-height:22px;cursor:pointer;font-weight:600}.radio-toggle input[type=radio]{display:none}.radio-toggle input[type=radio]:checked+label{background-color:#236a97;color:#fff}.radio-toggle input[type=radio]:disabled+label{color:#bbb;border-color:#ddd;background:#ebebeb;cursor:not-allowed}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport {\n  AlmSettingsBindingDefinitions,\n  AlmSettingsInstance,\n  AzureBindingDefinition,\n  AzureProjectAlmBindingParams,\n  BitbucketBindingDefinition,\n  BitbucketProjectAlmBindingParams,\n  GithubBindingDefinition,\n  GithubProjectAlmBindingParams,\n  GitlabBindingDefinition,\n  GitlabProjectAlmBindingParams,\n  ProjectAlmBindingResponse\n} from '../types/alm-settings';\n\nexport function getAlmDefinitions(): Promise<AlmSettingsBindingDefinitions> {\n  return getAlmDefinitionsNoCatch().catch(throwGlobalError);\n}\n\nexport function getAlmDefinitionsNoCatch(): Promise<AlmSettingsBindingDefinitions> {\n  return getJSON('/api/alm_settings/list_definitions');\n}\n\nexport function getAlmSettings(project?: string): Promise<AlmSettingsInstance[]> {\n  return getJSON('/api/alm_settings/list', { project })\n    .then(({ almSettings }) => almSettings)\n    .catch(throwGlobalError);\n}\n\nexport function createGithubConfiguration(data: GithubBindingDefinition) {\n  return post('/api/alm_settings/create_github', data).catch(throwGlobalError);\n}\n\nexport function updateGithubConfiguration(data: GithubBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_github', data).catch(throwGlobalError);\n}\n\nexport function createAzureConfiguration(data: AzureBindingDefinition) {\n  return post('/api/alm_settings/create_azure', data).catch(throwGlobalError);\n}\n\nexport function updateAzureConfiguration(data: AzureBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_azure', data).catch(throwGlobalError);\n}\n\nexport function createBitbucketConfiguration(data: BitbucketBindingDefinition) {\n  return post('/api/alm_settings/create_bitbucket', data).catch(throwGlobalError);\n}\n\nexport function updateBitbucketConfiguration(\n  data: BitbucketBindingDefinition & { newKey: string }\n) {\n  return post('/api/alm_settings/update_bitbucket', data).catch(throwGlobalError);\n}\n\nexport function createGitlabConfiguration(data: GitlabBindingDefinition) {\n  return post('/api/alm_settings/create_gitlab', data).catch(throwGlobalError);\n}\n\nexport function updateGitlabConfiguration(data: GitlabBindingDefinition & { newKey: string }) {\n  return post('/api/alm_settings/update_gitlab', data).catch(throwGlobalError);\n}\n\nexport function deleteConfiguration(key: string) {\n  return post('/api/alm_settings/delete', { key }).catch(throwGlobalError);\n}\n\nexport function countBindedProjects(almSetting: string) {\n  return getJSON('/api/alm_settings/count_binding', { almSetting })\n    .then(({ projects }) => projects)\n    .catch(throwGlobalError);\n}\n\nexport function getProjectAlmBinding(project: string): Promise<ProjectAlmBindingResponse> {\n  return getJSON('/api/alm_settings/get_binding', { project });\n}\n\nexport function deleteProjectAlmBinding(project: string): Promise<void> {\n  return post('/api/alm_settings/delete_binding', { project }).catch(throwGlobalError);\n}\n\nexport function setProjectAzureBinding(data: AzureProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_azure_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectBitbucketBinding(data: BitbucketProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_bitbucket_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectGithubBinding(data: GithubProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_github_binding', data).catch(throwGlobalError);\n}\n\nexport function setProjectGitlabBinding(data: GitlabProjectAlmBindingParams) {\n  return post('/api/alm_settings/set_gitlab_binding', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\n/** List tokens for given user login */\nexport function getTokens(login: string): Promise<T.UserToken[]> {\n  return getJSON('/api/user_tokens/search', { login }).then(r => r.userTokens, throwGlobalError);\n}\n\nexport function generateToken(data: { name: string; login?: string }): Promise<T.NewUserToken> {\n  return postJSON('/api/user_tokens/generate', data).catch(throwGlobalError);\n}\n\nexport function revokeToken(data: { name: string; login?: string }) {\n  return post('/api/user_tokens/revoke', data).catch(throwGlobalError);\n}\n"],"sourceRoot":""}