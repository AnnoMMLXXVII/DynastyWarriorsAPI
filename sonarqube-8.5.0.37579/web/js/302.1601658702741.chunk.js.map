{"version":3,"sources":["webpack:///./src/main/js/components/common/PrivacyBadgeContainer.tsx","webpack:///./src/main/js/components/common/VisibilitySelector.tsx","webpack:///./src/main/js/apps/permissions/project/components/ApplyTemplate.tsx","webpack:///./src/main/js/apps/projectsManagement/CreateProjectForm.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRow.css?1a9a","webpack:///./src/main/js/apps/projectsManagement/ProjectRow.css","webpack:///./src/main/js/apps/projectsManagement/ChangeDefaultVisibilityForm.tsx","webpack:///./src/main/js/apps/projectsManagement/Header.tsx","webpack:///./src/main/js/apps/projectsManagement/RestoreAccessModal.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRowActions.tsx","webpack:///./src/main/js/apps/projectsManagement/ProjectRow.tsx","webpack:///./src/main/js/apps/projectsManagement/Projects.tsx","webpack:///./src/main/js/apps/projectsManagement/BulkApplyTemplateModal.tsx","webpack:///./src/main/js/apps/projectsManagement/DeleteModal.tsx","webpack:///./src/main/js/apps/projectsManagement/Search.tsx","webpack:///./src/main/js/apps/projectsManagement/App.tsx","webpack:///./src/main/js/apps/projectsManagement/AppContainer.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/api/permissions.ts","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./src/main/js/components/controls/DayPicker.css?d7e1","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/styles.css?5633","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/api/nav.ts"],"names":["PrivacyBadgeContainer","className","qualifier","visibility","overlay","render","this","props","map","key","value","checked","onCheck","onChange","disabled","canTurnToPrivate","showDetails","mounted","state","done","loading","fetchPermissionTemplates","organization","then","permissionTemplates","setState","handleSubmit","permissionTemplate","projectKey","project","templateId","onApply","Promise","reject","undefined","handlePermissionTemplateChange","componentDidMount","componentWillUnmount","header","name","onClose","onSubmit","size","onCloseClick","onFormSubmit","submitting","id","variant","htmlFor","clearable","options","label","onClick","handleInputChange","event","handleVisibilityChange","handleFormSubmit","preventDefault","data","response","createdProject","onProjectCreated","projectVisibility","componentDidUpdate","setImmediate","closeButton","focus","contentLabel","onRequestClose","defaultMessage","values","to","innerRef","node","autoFocus","maxLength","required","type","canUpdateProjectsVisibilityToPrivate","api","content","__esModule","default","module","i","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","handleConfirmClick","onConfirm","Alert","visibilityForm","handleChangeVisibilityClick","closeVisiblityForm","hasProvisionPermission","onProjectCreate","onVisibilityChange","all","grantPermission","onRestoreAccess","permission","login","currentUser","browse","administer","applyTemplateModal","restoreAccessModal","fetchPermissions","component","configuration","hasAccess","Boolean","showPermissions","canBrowseProject","handleDropdownOpen","handleApplyTemplateClick","handleApplyTemplateClose","handleRestoreAccessClick","handleRestoreAccessClose","handleRestoreAccessDone","onOpen","ActionsDropdown","ApplyTemplate","handleProjectCheck","onProjectCheck","selected","placement","lastAnalysisDate","date","onProjectSelected","onProjectDeselected","ready","projects","selection","includes","analyzedBefore","parameters","length","join","qualifiers","onProvisionedOnly","provisioned","q","query","renderWarning","renderSelect","t","loadPermissionTemplates","QUALIFIERS_ORDER","bulkApplyTemplateModal","deleteModal","getQualifierOptions","topLevelQualifiers","option","indexOf","onAllSelected","onAllDeselected","handleDeleteClick","closeDeleteModal","handleDeleteConfirm","onDeleteProjects","handleBulkApplyTemplateClick","closeBulkApplyTemplateModal","handleQualifierChange","onQualifierChanged","onVisibilityChanged","renderCheckbox","isAllChecked","thirdState","renderQualifierOption","renderQualifierFilter","optionRenderer","searchable","valueRenderer","renderVisibilityFilter","renderTypeFilter","onProvisionedChanged","renderDateFilter","DateInput","inputClassName","onDateChanged","placeholder","minLength","onSearch","title","total","requestProjects","p","page","ps","r","components","paging","loadMore","newQualifier","newVisibility","handleDateChanged","openCreateProjectForm","createProjectForm","closeCreateProjectForm","Suggestions","suggestions","defer","count","CreateProjectForm","onOrganizationUpgrade","handleOrganizationUpgrade","fetchOrganization","appState","defaultOrganization","isDefault","actions","provision","ownProps","dispatch","currentVisibility","catch","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","prevProps","grantPermissionToUser","revokePermissionFromUser","grantPermissionToGroup","revokePermissionFromGroup","getPermissionTemplates","url","createPermissionTemplate","updatePermissionTemplate","deletePermissionTemplate","setDefaultPermissionTemplate","applyTemplateToProject","bulkApplyTemplate","grantTemplatePermissionToUser","revokeTemplatePermissionFromUser","grantTemplatePermissionToGroup","revokeTemplatePermissionFromGroup","addProjectCreatorToTemplate","removeProjectCreatorFromTemplate","getPermissionsUsersForComponent","getPermissionsGroupsForComponent","getGlobalPermissionsUsers","getGlobalPermissionsGroups","getPermissionTemplateUsers","Object","assign","getPermissionTemplateGroups","changeProjectVisibility","changeProjectDefaultVisibility","DayPicker","input","openCalendar","handleResetClick","closeCalendar","currentMonth","Date","lastHovered","open","handleDayClick","day","modifiers","handleDayMouseEnter","handleCurrentMonthChange","handleCurrentYearChange","handlePreviousMonthClick","handleNextMonthClick","highlightFrom","highlightTo","minDate","after","maxDate","months","years","getFullYear","selectedDays","lastHoveredOrValue","highlighted","from","weekdaysLong","weekdaysShort","onClickOutside","InputWrapper","onFocus","readOnly","fill","iconProps","month","getMonth","year","String","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","intl","formattedValue","formatDate","other","ref","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation"],"mappings":"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","file":"js/302.1601658702741.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface PrivacyBadgeContainerProps {\n  className?: string;\n  qualifier: string;\n  visibility: T.Visibility;\n}\n\nexport default function PrivacyBadgeContainer({\n  className,\n  qualifier,\n  visibility\n}: PrivacyBadgeContainerProps) {\n  if (visibility !== 'private') {\n    return null;\n  }\n\n  return (\n    <Tooltip overlay={translate('visibility', visibility, 'description', qualifier)}>\n      <div className={classNames('badge', className)}>{translate('visibility', visibility)}</div>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  canTurnToPrivate?: boolean;\n  className?: string;\n  onChange: (visibility: T.Visibility) => void;\n  showDetails?: boolean;\n  visibility?: T.Visibility;\n}\n\nexport default class VisibilitySelector extends React.PureComponent<Props> {\n  render() {\n    return (\n      <div className={classNames(this.props.className)}>\n        {['public', 'private'].map(visibility => (\n          <Radio\n            className={`huge-spacer-right visibility-${visibility}`}\n            key={visibility}\n            value={visibility}\n            checked={this.props.visibility === visibility}\n            onCheck={this.props.onChange}\n            disabled={visibility === 'private' && !this.props.canTurnToPrivate}>\n            <div>\n              {translate('visibility', visibility)}\n              {this.props.showDetails && (\n                <p className=\"note\">{translate('visibility', visibility, 'description.long')}</p>\n              )}\n            </div>\n          </Radio>\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { applyTemplateToProject, getPermissionTemplates } from '../../../../api/permissions';\n\ninterface Props {\n  onApply?: () => void;\n  onClose: () => void;\n  organization: string | undefined;\n  project: { key: string; name: string };\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n}\n\nexport default class ApplyTemplate extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissionTemplates = () => {\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, permissionTemplates });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleSubmit = () => {\n    if (this.state.permissionTemplate) {\n      return applyTemplateToProject({\n        organization: this.props.organization,\n        projectKey: this.props.project.key,\n        templateId: this.state.permissionTemplate\n      }).then(() => {\n        if (this.mounted) {\n          if (this.props.onApply) {\n            this.props.onApply();\n          }\n          this.setState({ done: true });\n        }\n      });\n    } else {\n      return Promise.reject(undefined);\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  render() {\n    const header = translateWithParameters(\n      'projects_role.apply_template_to_xxx',\n      this.props.project.name\n    );\n\n    return (\n      <SimpleModal\n        header={header}\n        onClose={this.props.onClose}\n        onSubmit={this.handleSubmit}\n        size=\"small\">\n        {({ onCloseClick, onFormSubmit, submitting }) => (\n          <form id=\"project-permissions-apply-template-form\" onSubmit={onFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{header}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              {this.state.done ? (\n                <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n              ) : (\n                <>\n                  {this.state.loading ? (\n                    <i className=\"spinner\" />\n                  ) : (\n                    <div className=\"modal-field\">\n                      <label htmlFor=\"project-permissions-template\">\n                        {translate('template')}\n                        <em className=\"mandatory\">*</em>\n                      </label>\n                      {this.state.permissionTemplates && (\n                        <Select\n                          clearable={false}\n                          id=\"project-permissions-template\"\n                          onChange={this.handlePermissionTemplateChange}\n                          options={this.state.permissionTemplates.map(permissionTemplate => ({\n                            label: permissionTemplate.name,\n                            value: permissionTemplate.id\n                          }))}\n                          value={this.state.permissionTemplate}\n                        />\n                      )}\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n\n            <footer className=\"modal-foot\">\n              <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n              {!this.state.done && (\n                <SubmitButton disabled={submitting || !this.state.permissionTemplate}>\n                  {translate('apply')}\n                </SubmitButton>\n              )}\n              <ResetButtonLink onClick={onCloseClick}>\n                {translate(this.state.done ? 'close' : 'cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </SimpleModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { createProject } from '../../api/components';\nimport VisibilitySelector from '../../components/common/VisibilitySelector';\nimport { getProjectUrl } from '../../helpers/urls';\n\ninterface Props {\n  onClose: () => void;\n  onProjectCreated: () => void;\n  onOrganizationUpgrade: () => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  createdProject?: { key: string; name: string };\n  key: string;\n  loading: boolean;\n  name: string;\n  visibility?: T.Visibility;\n  // add index declaration to be able to do `this.setState({ [name]: value });`\n  [x: string]: any;\n}\n\nexport default class CreateProjectForm extends React.PureComponent<Props, State> {\n  closeButton?: HTMLElement | null;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      key: '',\n      loading: false,\n      name: '',\n      visibility: props.organization.projectVisibility\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate() {\n    // wrap with `setImmediate` because of https://github.com/reactjs/react-modal/issues/338\n    setImmediate(() => {\n      if (this.closeButton) {\n        this.closeButton.focus();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleInputChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    this.setState({ visibility });\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const data = {\n      name: this.state.name,\n      organization: this.props.organization && this.props.organization.key,\n      project: this.state.key,\n      visibility: this.state.visibility\n    };\n\n    this.setState({ loading: true });\n    createProject(data).then(\n      response => {\n        if (this.mounted) {\n          this.setState({ createdProject: response.project, loading: false });\n          this.props.onProjectCreated();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { organization } = this.props;\n    const { createdProject } = this.state;\n\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        {createdProject ? (\n          <div>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <Alert variant=\"success\">\n                <FormattedMessage\n                  defaultMessage={translate(\n                    'projects_management.project_has_been_successfully_created'\n                  )}\n                  id=\"projects_management.project_has_been_successfully_created\"\n                  values={{\n                    project: (\n                      <Link to={getProjectUrl(createdProject.key)}>{createdProject.name}</Link>\n                    )\n                  }}\n                />\n              </Alert>\n            </div>\n\n            <footer className=\"modal-foot\">\n              <ResetButtonLink\n                id=\"create-project-close\"\n                innerRef={node => (this.closeButton = node)}\n                onClick={this.props.onClose}>\n                {translate('close')}\n              </ResetButtonLink>\n            </footer>\n          </div>\n        ) : (\n          <form id=\"create-project-form\" onSubmit={this.handleFormSubmit}>\n            <header className=\"modal-head\">\n              <h2>{translate('qualifiers.create.TRK')}</h2>\n            </header>\n\n            <div className=\"modal-body\">\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-name\">\n                  {translate('name')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  autoFocus={true}\n                  id=\"create-project-name\"\n                  maxLength={2000}\n                  name=\"name\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.name}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-project-key\">\n                  {translate('key')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  id=\"create-project-key\"\n                  maxLength={400}\n                  name=\"key\"\n                  onChange={this.handleInputChange}\n                  required={true}\n                  type=\"text\"\n                  value={this.state.key}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label>{translate('visibility')}</label>\n                <VisibilitySelector\n                  canTurnToPrivate={organization.canUpdateProjectsVisibilityToPrivate}\n                  className=\"little-spacer-top\"\n                  onChange={this.handleVisibilityChange}\n                  visibility={this.state.visibility}\n                />\n              </div>\n            </div>\n\n            <footer className=\"modal-foot\">\n              {this.state.loading && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={this.state.loading} id=\"create-project-submit\">\n                {translate('create')}\n              </SubmitButton>\n              <ResetButtonLink id=\"create-project-cancel\" onClick={this.props.onClose}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </footer>\n          </form>\n        )}\n      </Modal>\n    );\n  }\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ProjectRow.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".project-row-text-cell{max-width:20em}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface Props {\n  onClose: () => void;\n  onConfirm: (visiblity: T.Visibility) => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  visibility: T.Visibility;\n}\n\nexport default class ChangeDefaultVisibilityForm extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { visibility: props.organization.projectVisibility as T.Visibility };\n  }\n\n  handleConfirmClick = () => {\n    this.props.onConfirm(this.state.visibility);\n    this.props.onClose();\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    this.setState({ visibility });\n  };\n\n  render() {\n    const { organization } = this.props;\n    return (\n      <Modal contentLabel=\"modal form\" onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{translate('organization.change_visibility_form.header')}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {['public', 'private'].map(visibility => (\n            <div className=\"big-spacer-bottom\" key={visibility}>\n              <Radio\n                value={visibility}\n                checked={this.state.visibility === visibility}\n                onCheck={this.handleVisibilityChange}\n                disabled={\n                  visibility === 'private' && !organization.canUpdateProjectsVisibilityToPrivate\n                }>\n                <div>\n                  {translate('visibility', visibility)}\n                  <p className=\"text-muted spacer-top\">\n                    {translate('visibility', visibility, 'description.short')}\n                  </p>\n                </div>\n              </Radio>\n            </div>\n          ))}\n\n          {organization.canUpdateProjectsVisibilityToPrivate && (\n            <Alert variant=\"warning\">\n              {translate('organization.change_visibility_form.warning')}\n            </Alert>\n          )}\n        </div>\n\n        <footer className=\"modal-foot\">\n          <Button className=\"js-confirm\" onClick={this.handleConfirmClick}>\n            {translate('organization.change_visibility_form.submit')}\n          </Button>\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\nimport ChangeDefaultVisibilityForm from './ChangeDefaultVisibilityForm';\n\nexport interface Props {\n  hasProvisionPermission?: boolean;\n  onProjectCreate: () => void;\n  onVisibilityChange: (visibility: T.Visibility) => void;\n  organization: T.Organization;\n}\n\ninterface State {\n  visibilityForm: boolean;\n}\n\nexport default class Header extends React.PureComponent<Props, State> {\n  state: State = { visibilityForm: false };\n\n  handleChangeVisibilityClick = () => {\n    this.setState({ visibilityForm: true });\n  };\n\n  closeVisiblityForm = () => {\n    this.setState({ visibilityForm: false });\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{translate('projects_management')}</h1>\n\n        <div className=\"page-actions\">\n          {!isSonarCloud() && organization.projectVisibility && (\n            <span className=\"big-spacer-right\">\n              <span className=\"text-middle\">\n                {translate('organization.default_visibility_of_new_projects')}{' '}\n                <strong>{translate('visibility', organization.projectVisibility)}</strong>\n              </span>\n              <EditButton\n                className=\"js-change-visibility spacer-left button-small\"\n                onClick={this.handleChangeVisibilityClick}\n              />\n            </span>\n          )}\n          {this.props.hasProvisionPermission && (\n            <Button id=\"create-project\" onClick={this.props.onProjectCreate}>\n              {translate('qualifiers.create.TRK')}\n            </Button>\n          )}\n        </div>\n\n        <p className=\"page-description\">{translate('projects_management.page.description')}</p>\n\n        {!isSonarCloud() && this.state.visibilityForm && (\n          <ChangeDefaultVisibilityForm\n            onClose={this.closeVisiblityForm}\n            onConfirm={this.props.onVisibilityChange}\n            organization={organization}\n          />\n        )}\n      </header>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Project } from '../../api/components';\nimport { grantPermissionToUser } from '../../api/permissions';\n\ninterface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  onClose: () => void;\n  onRestoreAccess: () => void;\n  project: Project;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class RestoreAccessModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ loading: true });\n    Promise.all([this.grantPermission('user'), this.grantPermission('admin')]).then(\n      this.props.onRestoreAccess,\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  grantPermission = (permission: string) =>\n    grantPermissionToUser({\n      projectKey: this.props.project.key,\n      login: this.props.currentUser.login,\n      permission,\n      organization: this.props.project.organization\n    });\n\n  render() {\n    const header = translate('global_permissions.restore_access');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            <FormattedMessage\n              defaultMessage={translate('global_permissions.restore_access.message')}\n              id=\"global_permissions.restore_access.message\"\n              values={{\n                browse: <strong>{translate('projects_role.user')}</strong>,\n                administer: <strong>{translate('projects_role.admin')}</strong>\n              }}\n            />\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.loading && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={this.state.loading}>{translate('restore')}</SubmitButton>\n            <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActionsDropdown, {\n  ActionsDropdownItem\n} from 'sonar-ui-common/components/controls/ActionsDropdown';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Project } from '../../api/components';\nimport { getComponentNavigation } from '../../api/nav';\nimport { getComponentPermissionsUrl } from '../../helpers/urls';\nimport ApplyTemplate from '../permissions/project/components/ApplyTemplate';\nimport RestoreAccessModal from './RestoreAccessModal';\n\nexport interface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  organization: string | undefined;\n  project: Project;\n}\n\ninterface State {\n  applyTemplateModal: boolean;\n  hasAccess?: boolean;\n  loading: boolean;\n  restoreAccessModal: boolean;\n}\n\nexport default class ProjectRowActions extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { applyTemplateModal: false, loading: false, restoreAccessModal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPermissions = () => {\n    this.setState({ loading: true });\n    getComponentNavigation({ component: this.props.project.key }).then(\n      ({ configuration }) => {\n        if (this.mounted) {\n          const hasAccess = Boolean(\n            configuration && configuration.showPermissions && configuration.canBrowseProject\n          );\n          this.setState({ hasAccess, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleDropdownOpen = () => {\n    if (this.state.hasAccess === undefined && !this.state.loading) {\n      this.fetchPermissions();\n    }\n  };\n\n  handleApplyTemplateClick = () => {\n    this.setState({ applyTemplateModal: true });\n  };\n\n  handleApplyTemplateClose = () => {\n    if (this.mounted) {\n      this.setState({ applyTemplateModal: false });\n    }\n  };\n\n  handleRestoreAccessClick = () => {\n    this.setState({ restoreAccessModal: true });\n  };\n\n  handleRestoreAccessClose = () => this.setState({ restoreAccessModal: false });\n\n  handleRestoreAccessDone = () => {\n    this.setState({ hasAccess: true, restoreAccessModal: false });\n  };\n\n  render() {\n    const { hasAccess, loading } = this.state;\n\n    return (\n      <>\n        <ActionsDropdown onOpen={this.handleDropdownOpen}>\n          {loading ? (\n            <ActionsDropdownItem>\n              <DeferredSpinner />\n            </ActionsDropdownItem>\n          ) : (\n            <>\n              {hasAccess === true && (\n                <ActionsDropdownItem\n                  className=\"js-edit-permissions\"\n                  to={getComponentPermissionsUrl(this.props.project.key)}>\n                  {translate('edit_permissions')}\n                </ActionsDropdownItem>\n              )}\n\n              {hasAccess === false && (\n                <ActionsDropdownItem\n                  className=\"js-restore-access\"\n                  onClick={this.handleRestoreAccessClick}>\n                  {translate('global_permissions.restore_access')}\n                </ActionsDropdownItem>\n              )}\n            </>\n          )}\n\n          <ActionsDropdownItem\n            className=\"js-apply-template\"\n            onClick={this.handleApplyTemplateClick}>\n            {translate('projects_role.apply_template')}\n          </ActionsDropdownItem>\n        </ActionsDropdown>\n\n        {this.state.restoreAccessModal && (\n          <RestoreAccessModal\n            currentUser={this.props.currentUser}\n            onClose={this.handleRestoreAccessClose}\n            onRestoreAccess={this.handleRestoreAccessDone}\n            project={this.props.project}\n          />\n        )}\n\n        {this.state.applyTemplateModal && (\n          <ApplyTemplate\n            onClose={this.handleApplyTemplateClose}\n            organization={this.props.organization}\n            project={this.props.project}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport DateFormatter from 'sonar-ui-common/components/intl/DateFormatter';\nimport { Project } from '../../api/components';\nimport PrivacyBadgeContainer from '../../components/common/PrivacyBadgeContainer';\nimport { getComponentOverviewUrl } from '../../helpers/urls';\nimport './ProjectRow.css';\nimport ProjectRowActions from './ProjectRowActions';\n\ninterface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  onProjectCheck: (project: Project, checked: boolean) => void;\n  organization: string | undefined;\n  project: Project;\n  selected: boolean;\n}\n\nexport default class ProjectRow extends React.PureComponent<Props> {\n  handleProjectCheck = (checked: boolean) => {\n    this.props.onProjectCheck(this.props.project, checked);\n  };\n\n  render() {\n    const { organization, project, selected } = this.props;\n\n    return (\n      <tr data-project-key={project.key}>\n        <td className=\"thin\">\n          <Checkbox checked={selected} onCheck={this.handleProjectCheck} />\n        </td>\n\n        <td className=\"nowrap hide-overflow project-row-text-cell\">\n          <Link\n            className=\"link-with-icon\"\n            to={getComponentOverviewUrl(project.key, project.qualifier)}>\n            <QualifierIcon className=\"little-spacer-right\" qualifier={project.qualifier} />\n\n            <Tooltip overlay={project.name} placement=\"left\">\n              <span>{project.name}</span>\n            </Tooltip>\n          </Link>\n        </td>\n\n        <td className=\"thin nowrap\">\n          <PrivacyBadgeContainer qualifier={project.qualifier} visibility={project.visibility} />\n        </td>\n\n        <td className=\"nowrap hide-overflow project-row-text-cell\">\n          <Tooltip overlay={project.key} placement=\"left\">\n            <span className=\"note\">{project.key}</span>\n          </Tooltip>\n        </td>\n\n        <td className=\"thin nowrap text-right\">\n          {project.lastAnalysisDate ? (\n            <DateFormatter date={project.lastAnalysisDate} />\n          ) : (\n            <span className=\"note\">—</span>\n          )}\n        </td>\n\n        <td className=\"thin nowrap\">\n          <ProjectRowActions\n            currentUser={this.props.currentUser}\n            organization={organization}\n            project={project}\n          />\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Project } from '../../api/components';\nimport ProjectRow from './ProjectRow';\n\ninterface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  onProjectDeselected: (project: string) => void;\n  onProjectSelected: (project: string) => void;\n  organization: T.Organization;\n  projects: Project[];\n  ready?: boolean;\n  selection: string[];\n}\n\nexport default class Projects extends React.PureComponent<Props> {\n  onProjectCheck = (project: Project, checked: boolean) => {\n    if (checked) {\n      this.props.onProjectSelected(project.key);\n    } else {\n      this.props.onProjectDeselected(project.key);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"boxed-group boxed-group-inner\">\n        <table\n          className={classNames('data', 'zebra', { 'new-loading': !this.props.ready })}\n          id=\"projects-management-page-projects\">\n          <thead>\n            <tr>\n              <th />\n              <th>{translate('name')}</th>\n              <th />\n              <th>{translate('key')}</th>\n              <th className=\"thin nowrap text-right\">{translate('last_analysis')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            {this.props.projects.map(project => (\n              <ProjectRow\n                currentUser={this.props.currentUser}\n                key={project.key}\n                onProjectCheck={this.onProjectCheck}\n                organization={this.props.organization && this.props.organization.key}\n                project={project}\n                selected={this.props.selection.includes(project.key)}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { toNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { bulkApplyTemplate, getPermissionTemplates } from '../../api/permissions';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  done: boolean;\n  loading: boolean;\n  permissionTemplate?: string;\n  permissionTemplates?: T.PermissionTemplate[];\n  submitting: boolean;\n}\n\nexport default class BulkApplyTemplateModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { done: false, loading: true, submitting: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadPermissionTemplates();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadPermissionTemplates() {\n    this.setState({ loading: true });\n    getPermissionTemplates(this.props.organization).then(\n      ({ permissionTemplates }) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            permissionTemplate:\n              permissionTemplates.length > 0 ? permissionTemplates[0].id : undefined,\n            permissionTemplates\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  handleConfirmClick = () => {\n    const { analyzedBefore } = this.props;\n    const { permissionTemplate } = this.state;\n    if (permissionTemplate) {\n      this.setState({ submitting: true });\n      const parameters = this.props.selection.length\n        ? {\n            organization: this.props.organization,\n            projects: this.props.selection.join(),\n            qualifiers: this.props.qualifier,\n            templateId: permissionTemplate\n          }\n        : {\n            analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n            onProvisionedOnly: this.props.provisioned || undefined,\n            organization: this.props.organization,\n            qualifiers: this.props.qualifier,\n            q: this.props.query || undefined,\n            templateId: permissionTemplate\n          };\n      bulkApplyTemplate(parameters).then(\n        () => {\n          if (this.mounted) {\n            this.setState({ done: true, submitting: false });\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n    }\n  };\n\n  handlePermissionTemplateChange = ({ value }: { value: string }) => {\n    this.setState({ permissionTemplate: value });\n  };\n\n  renderWarning = () => (\n    <Alert variant=\"warning\">\n      {this.props.selection.length\n        ? translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_selected',\n            this.props.selection.length\n          )\n        : translateWithParameters(\n            'permission_templates.bulk_apply_permission_template.apply_to_all',\n            this.props.total\n          )}\n    </Alert>\n  );\n\n  renderSelect = () => (\n    <div className=\"modal-field\">\n      <label>\n        {translate('template')}\n        <em className=\"mandatory\">*</em>\n      </label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        onChange={this.handlePermissionTemplateChange}\n        options={this.state.permissionTemplates!.map(t => ({ label: t.name, value: t.id }))}\n        value={this.state.permissionTemplate}\n      />\n    </div>\n  );\n\n  render() {\n    const { done, loading, permissionTemplates, submitting } = this.state;\n    const header = translate('permission_templates.bulk_apply_permission_template');\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {done && (\n            <Alert variant=\"success\">{translate('projects_role.apply_template.success')}</Alert>\n          )}\n\n          {loading && <i className=\"spinner\" />}\n\n          {!loading && !done && permissionTemplates && this.renderWarning()}\n          {!loading && !done && permissionTemplates && this.renderSelect()}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          {!loading && !done && permissionTemplates && (\n            <SubmitButton disabled={submitting} onClick={this.handleConfirmClick}>\n              {translate('apply')}\n            </SubmitButton>\n          )}\n          <ResetButtonLink onClick={this.props.onClose}>\n            {done ? translate('close') : translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { toNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { bulkDeleteProjects } from '../../api/components';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onClose: () => void;\n  onConfirm: () => void;\n  organization: string;\n  provisioned: boolean;\n  qualifier: string;\n  query: string;\n  selection: string[];\n  total: number;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class DeleteModal extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleConfirmClick = () => {\n    this.setState({ loading: true });\n    const { analyzedBefore } = this.props;\n    const parameters = this.props.selection.length\n      ? {\n          organization: this.props.organization,\n          projects: this.props.selection.join()\n        }\n      : {\n          analyzedBefore: analyzedBefore && toNotSoISOString(analyzedBefore),\n          onProvisionedOnly: this.props.provisioned || undefined,\n          organization: this.props.organization,\n          qualifiers: this.props.qualifier,\n          q: this.props.query || undefined\n        };\n    bulkDeleteProjects(parameters).then(\n      () => {\n        if (this.mounted) {\n          this.props.onConfirm();\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWarning = () => (\n    <Alert variant=\"warning\">\n      {this.props.selection.length\n        ? translateWithParameters(\n            'projects_management.delete_selected_warning',\n            this.props.selection.length\n          )\n        : translateWithParameters('projects_management.delete_all_warning', this.props.total)}\n    </Alert>\n  );\n\n  render() {\n    const header = translate('qualifiers.delete', this.props.qualifier);\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n\n        <div className=\"modal-body\">\n          {this.renderWarning()}\n          {translate('qualifiers.delete_confirm', this.props.qualifier)}\n        </div>\n\n        <footer className=\"modal-foot\">\n          {this.state.loading && <i className=\"spinner spacer-right\" />}\n          <SubmitButton\n            className=\"button-red\"\n            disabled={this.state.loading}\n            onClick={this.handleConfirmClick}>\n            {translate('delete')}\n          </SubmitButton>\n          <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Project } from '../../api/components';\nimport DateInput from '../../components/controls/DateInput';\nimport BulkApplyTemplateModal from './BulkApplyTemplateModal';\nimport DeleteModal from './DeleteModal';\n\nexport interface Props {\n  analyzedBefore: Date | undefined;\n  onAllDeselected: () => void;\n  onAllSelected: () => void;\n  onDateChanged: (analyzedBefore: Date | undefined) => void;\n  onDeleteProjects: () => void;\n  onProvisionedChanged: (provisioned: boolean) => void;\n  onQualifierChanged: (qualifier: string) => void;\n  onVisibilityChanged: (qualifier: string) => void;\n  onSearch: (query: string) => void;\n  organization: T.Organization;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: any[];\n  topLevelQualifiers: string[];\n  total: number;\n  visibility?: T.Visibility;\n}\n\ninterface State {\n  bulkApplyTemplateModal: boolean;\n  deleteModal: boolean;\n}\n\nconst QUALIFIERS_ORDER = ['TRK', 'VW', 'APP'];\n\nexport default class Search extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { bulkApplyTemplateModal: false, deleteModal: false };\n\n  getQualifierOptions = () => {\n    const options = this.props.topLevelQualifiers.map(q => ({\n      label: translate('qualifiers', q),\n      value: q\n    }));\n    return sortBy(options, option => QUALIFIERS_ORDER.indexOf(option.value));\n  };\n\n  onCheck = (checked: boolean) => {\n    if (checked) {\n      this.props.onAllSelected();\n    } else {\n      this.props.onAllDeselected();\n    }\n  };\n\n  handleDeleteClick = () => {\n    this.setState({ deleteModal: true });\n  };\n\n  closeDeleteModal = () => {\n    this.setState({ deleteModal: false });\n  };\n\n  handleDeleteConfirm = () => {\n    this.closeDeleteModal();\n    this.props.onDeleteProjects();\n  };\n\n  handleBulkApplyTemplateClick = () => {\n    this.setState({ bulkApplyTemplateModal: true });\n  };\n\n  closeBulkApplyTemplateModal = () => {\n    this.setState({ bulkApplyTemplateModal: false });\n  };\n\n  handleQualifierChange = ({ value }: { value: string }) => this.props.onQualifierChanged(value);\n\n  handleVisibilityChange = ({ value }: { value: string }) => this.props.onVisibilityChanged(value);\n\n  renderCheckbox = () => {\n    const isAllChecked =\n      this.props.projects.length > 0 && this.props.selection.length === this.props.projects.length;\n    const thirdState =\n      this.props.projects.length > 0 &&\n      this.props.selection.length > 0 &&\n      this.props.selection.length < this.props.projects.length;\n    const checked = isAllChecked || thirdState;\n    return (\n      <Checkbox\n        checked={checked}\n        id=\"projects-selection\"\n        onCheck={this.onCheck}\n        thirdState={thirdState}\n      />\n    );\n  };\n\n  renderQualifierOption = (option: { label: string; value: string }) => (\n    <span>\n      <QualifierIcon className=\"little-spacer-right\" qualifier={option.value} />\n      {option.label}\n    </span>\n  );\n\n  renderQualifierFilter = () => {\n    const options = this.getQualifierOptions();\n    if (options.length < 2) {\n      return null;\n    }\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-qualifier\"\n          onChange={this.handleQualifierChange}\n          optionRenderer={this.renderQualifierOption}\n          options={this.getQualifierOptions()}\n          searchable={false}\n          value={this.props.qualifiers}\n          valueRenderer={this.renderQualifierOption}\n        />\n      </td>\n    );\n  };\n\n  renderVisibilityFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <Select\n          className=\"input-small\"\n          clearable={false}\n          disabled={!this.props.ready}\n          name=\"projects-visibility\"\n          onChange={this.handleVisibilityChange}\n          options={[\n            { value: 'all', label: translate('visibility.both') },\n            { value: 'public', label: translate('visibility.public') },\n            { value: 'private', label: translate('visibility.private') }\n          ]}\n          searchable={false}\n          value={this.props.visibility || 'all'}\n        />\n      </td>\n    );\n  };\n\n  renderTypeFilter = () =>\n    this.props.qualifiers === 'TRK' ? (\n      <td className=\"thin nowrap text-middle\">\n        <Checkbox\n          checked={this.props.provisioned}\n          className=\"link-checkbox-control\"\n          id=\"projects-provisioned\"\n          onCheck={this.props.onProvisionedChanged}>\n          <span className=\"text-middle little-spacer-left\">\n            {translate('provisioning.only_provisioned')}\n          </span>\n        </Checkbox>\n        <HelpTooltip\n          className=\"spacer-left\"\n          overlay={translate('provisioning.only_provisioned.tooltip')}\n        />\n      </td>\n    ) : null;\n\n  renderDateFilter = () => {\n    return (\n      <td className=\"thin nowrap text-middle\">\n        <DateInput\n          inputClassName=\"input-medium\"\n          name=\"analyzed-before\"\n          onChange={this.props.onDateChanged}\n          placeholder={translate('last_analysis_before')}\n          value={this.props.analyzedBefore}\n        />\n      </td>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <table className=\"data\">\n          <tbody>\n            <tr>\n              <td className=\"thin text-middle\">\n                {this.props.ready ? this.renderCheckbox() : <i className=\"spinner\" />}\n              </td>\n              {this.renderQualifierFilter()}\n              {this.renderDateFilter()}\n              {this.renderVisibilityFilter()}\n              {this.renderTypeFilter()}\n              <td className=\"text-middle\">\n                <SearchBox\n                  minLength={3}\n                  onChange={this.props.onSearch}\n                  placeholder={translate('search.search_by_name_or_key')}\n                  value={this.props.query}\n                />\n              </td>\n              <td className=\"thin nowrap text-middle\">\n                <Button\n                  className=\"js-bulk-apply-permission-template\"\n                  disabled={this.props.selection.length === 0}\n                  onClick={this.handleBulkApplyTemplateClick}>\n                  {translate('permission_templates.bulk_apply_permission_template')}\n                </Button>\n                {this.props.qualifiers === 'TRK' && (\n                  <Button\n                    className=\"js-delete spacer-left button-red\"\n                    disabled={this.props.selection.length === 0}\n                    onClick={this.handleDeleteClick}\n                    title={\n                      this.props.selection.length === 0\n                        ? translate('permission_templates.select_to_delete')\n                        : translate('permission_templates.delete_selected')\n                    }>\n                    {translate('delete')}\n                  </Button>\n                )}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        {this.state.bulkApplyTemplateModal && (\n          <BulkApplyTemplateModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeBulkApplyTemplateModal}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n\n        {this.state.deleteModal && (\n          <DeleteModal\n            analyzedBefore={this.props.analyzedBefore}\n            onClose={this.closeDeleteModal}\n            onConfirm={this.handleDeleteConfirm}\n            organization={this.props.organization.key}\n            provisioned={this.props.provisioned}\n            qualifier={this.props.qualifiers}\n            query={this.props.query}\n            selection={this.props.selection}\n            total={this.props.total}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce, uniq, without } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport { toShortNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getComponents, Project } from '../../api/components';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport CreateProjectForm from './CreateProjectForm';\nimport Header from './Header';\nimport Projects from './Projects';\nimport Search from './Search';\n\nexport interface Props {\n  currentUser: Pick<T.LoggedInUser, 'login'>;\n  hasProvisionPermission?: boolean;\n  onOrganizationUpgrade: () => void;\n  onVisibilityChange: (visibility: T.Visibility) => void;\n  organization: T.Organization;\n  topLevelQualifiers: string[];\n}\n\ninterface State {\n  analyzedBefore?: Date;\n  createProjectForm: boolean;\n  page: number;\n  projects: Project[];\n  provisioned: boolean;\n  qualifiers: string;\n  query: string;\n  ready: boolean;\n  selection: string[];\n  total: number;\n  visibility?: T.Visibility;\n}\n\nconst PAGE_SIZE = 50;\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      createProjectForm: false,\n      ready: false,\n      projects: [],\n      provisioned: false,\n      total: 0,\n      page: 1,\n      query: '',\n      qualifiers: 'TRK',\n      selection: []\n    };\n    this.requestProjects = debounce(this.requestProjects, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.requestProjects();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  requestProjects = () => {\n    const { analyzedBefore } = this.state;\n    const parameters = {\n      analyzedBefore: analyzedBefore && toShortNotSoISOString(analyzedBefore),\n      onProvisionedOnly: this.state.provisioned || undefined,\n      organization: this.props.organization.key,\n      p: this.state.page !== 1 ? this.state.page : undefined,\n      ps: PAGE_SIZE,\n      q: this.state.query || undefined,\n      qualifiers: this.state.qualifiers,\n      visibility: this.state.visibility\n    };\n    getComponents(parameters).then(\n      r => {\n        if (this.mounted) {\n          let projects: Project[] = r.components;\n          if (this.state.page > 1) {\n            projects = [...this.state.projects, ...projects];\n          }\n          this.setState({ ready: true, projects, selection: [], total: r.paging.total });\n        }\n      },\n      () => {}\n    );\n  };\n\n  loadMore = () => {\n    this.setState(({ page }) => ({ ready: false, page: page + 1 }), this.requestProjects);\n  };\n\n  onSearch = (query: string) => {\n    this.setState({ ready: false, page: 1, query, selection: [] }, this.requestProjects);\n  };\n\n  onProvisionedChanged = (provisioned: boolean) => {\n    this.setState(\n      { ready: false, page: 1, query: '', provisioned, qualifiers: 'TRK', selection: [] },\n      this.requestProjects\n    );\n  };\n\n  onQualifierChanged = (newQualifier: string) => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        qualifiers: newQualifier,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  onVisibilityChanged = (newVisibility: T.Visibility | 'all') => {\n    this.setState(\n      {\n        ready: false,\n        page: 1,\n        provisioned: false,\n        query: '',\n        visibility: newVisibility === 'all' ? undefined : newVisibility,\n        selection: []\n      },\n      this.requestProjects\n    );\n  };\n\n  handleDateChanged = (analyzedBefore: Date | undefined) =>\n    this.setState({ ready: false, page: 1, analyzedBefore }, this.requestProjects);\n\n  onProjectSelected = (project: string) => {\n    this.setState(({ selection }) => ({ selection: uniq([...selection, project]) }));\n  };\n\n  onProjectDeselected = (project: string) => {\n    this.setState(({ selection }) => ({ selection: without(selection, project) }));\n  };\n\n  onAllSelected = () => {\n    this.setState(({ projects }) => ({ selection: projects.map(project => project.key) }));\n  };\n\n  onAllDeselected = () => {\n    this.setState({ selection: [] });\n  };\n\n  openCreateProjectForm = () => {\n    this.setState({ createProjectForm: true });\n  };\n\n  closeCreateProjectForm = () => {\n    this.setState({ createProjectForm: false });\n  };\n\n  render() {\n    return (\n      <div className=\"page page-limited\" id=\"projects-management-page\">\n        <Suggestions suggestions=\"projects_management\" />\n        <Helmet defer={false} title={translate('projects_management')} />\n\n        <Header\n          hasProvisionPermission={this.props.hasProvisionPermission}\n          onProjectCreate={this.openCreateProjectForm}\n          onVisibilityChange={this.props.onVisibilityChange}\n          organization={this.props.organization}\n        />\n\n        <Search\n          analyzedBefore={this.state.analyzedBefore}\n          onAllDeselected={this.onAllDeselected}\n          onAllSelected={this.onAllSelected}\n          onDateChanged={this.handleDateChanged}\n          onDeleteProjects={this.requestProjects}\n          onProvisionedChanged={this.onProvisionedChanged}\n          onQualifierChanged={this.onQualifierChanged}\n          onSearch={this.onSearch}\n          onVisibilityChanged={this.onVisibilityChanged}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          provisioned={this.state.provisioned}\n          qualifiers={this.state.qualifiers}\n          query={this.state.query}\n          ready={this.state.ready}\n          selection={this.state.selection}\n          topLevelQualifiers={this.props.topLevelQualifiers}\n          total={this.state.total}\n          visibility={this.state.visibility}\n        />\n\n        <Projects\n          currentUser={this.props.currentUser}\n          onProjectDeselected={this.onProjectDeselected}\n          onProjectSelected={this.onProjectSelected}\n          organization={this.props.organization}\n          projects={this.state.projects}\n          ready={this.state.ready}\n          selection={this.state.selection}\n        />\n\n        <ListFooter\n          count={this.state.projects.length}\n          loadMore={this.loadMore}\n          ready={this.state.ready}\n          total={this.state.total}\n        />\n\n        {this.state.createProjectForm && (\n          <CreateProjectForm\n            onClose={this.closeCreateProjectForm}\n            onOrganizationUpgrade={this.props.onOrganizationUpgrade}\n            onProjectCreated={this.requestProjects}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { changeProjectDefaultVisibility } from '../../api/permissions';\nimport { receiveOrganizations } from '../../store/organizations';\nimport { fetchOrganization } from '../../store/rootActions';\nimport { getAppState, getCurrentUser, getOrganizationByKey, Store } from '../../store/rootReducer';\nimport App from './App';\n\ninterface StateProps {\n  appState: { defaultOrganization: string; qualifiers: string[] };\n  currentUser: T.LoggedInUser;\n  organization?: T.Organization;\n}\n\ninterface DispatchProps {\n  fetchOrganization: (organization: string) => void;\n  onVisibilityChange: (organization: T.Organization, visibility: T.Visibility) => void;\n}\n\ninterface OwnProps {\n  onRequestFail: (error: any) => void;\n  organization: T.Organization;\n}\n\nclass AppContainer extends React.PureComponent<OwnProps & StateProps & DispatchProps> {\n  componentDidMount() {\n    // if there is no organization, that means we are in the global scope\n    // let's fetch defails for the default organization in this case\n    if (!this.props.organization || !this.props.organization.projectVisibility) {\n      this.props.fetchOrganization(this.props.appState.defaultOrganization);\n    }\n  }\n\n  handleOrganizationUpgrade = () => {\n    this.props.fetchOrganization(this.props.organization.key);\n  };\n\n  handleVisibilityChange = (visibility: T.Visibility) => {\n    if (this.props.organization) {\n      this.props.onVisibilityChange(this.props.organization, visibility);\n    }\n  };\n\n  render() {\n    const { organization } = this.props;\n\n    if (!organization) {\n      return null;\n    }\n\n    const topLevelQualifiers = organization.isDefault ? this.props.appState.qualifiers : ['TRK'];\n    const { actions = {} } = organization;\n\n    return (\n      <App\n        currentUser={this.props.currentUser}\n        hasProvisionPermission={actions.provision}\n        onOrganizationUpgrade={this.handleOrganizationUpgrade}\n        onVisibilityChange={this.handleVisibilityChange}\n        organization={organization}\n        topLevelQualifiers={topLevelQualifiers}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps) => ({\n  appState: getAppState(state),\n  currentUser: getCurrentUser(state) as T.LoggedInUser,\n  organization:\n    ownProps.organization || getOrganizationByKey(state, getAppState(state).defaultOrganization)\n});\n\nconst onVisibilityChange = (organization: T.Organization, visibility: T.Visibility) => (\n  dispatch: Function\n) => {\n  const currentVisibility = organization.projectVisibility;\n  dispatch(receiveOrganizations([{ ...organization, projectVisibility: visibility }]));\n  changeProjectDefaultVisibility(organization.key, visibility).catch(() => {\n    dispatch(receiveOrganizations([{ ...organization, projectVisibility: currentVisibility }]));\n  });\n};\n\nconst mapDispatchToProps = (dispatch: Function) => ({\n  fetchOrganization: (key: string) => dispatch(fetchOrganization(key)),\n  onVisibilityChange: (organization: T.Organization, visibility: T.Visibility) =>\n    dispatch(onVisibilityChange(organization, visibility))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppContainer);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BaseSearchProjectsParameters } from './components';\n\nconst PAGE_SIZE = 100;\n\nexport function grantPermissionToUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_user', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_user', data).catch(throwGlobalError);\n}\n\nexport function grantPermissionToGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_group', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_group', data).catch(throwGlobalError);\n}\n\ninterface GetPermissionTemplatesResponse {\n  permissionTemplates: T.PermissionTemplate[];\n  defaultTemplates: Array<{ templateId: string; qualifier: string }>;\n  permissions: Array<{ key: string; name: string; description: string }>;\n}\n\nexport function getPermissionTemplates(\n  organization?: string\n): Promise<GetPermissionTemplatesResponse> {\n  const url = '/api/permissions/search_templates';\n  return organization ? getJSON(url, { organization }) : getJSON(url);\n}\n\nexport function createPermissionTemplate(data: RequestData) {\n  return postJSON('/api/permissions/create_template', data);\n}\n\nexport function updatePermissionTemplate(data: RequestData): Promise<void> {\n  return post('/api/permissions/update_template', data);\n}\n\nexport function deletePermissionTemplate(data: RequestData) {\n  return post('/api/permissions/delete_template', data).catch(throwGlobalError);\n}\n\n/**\n * Set default permission template for a given qualifier\n */\nexport function setDefaultPermissionTemplate(templateId: string, qualifier: string): Promise<void> {\n  return post('/api/permissions/set_default_template', { templateId, qualifier });\n}\n\nexport function applyTemplateToProject(data: RequestData) {\n  return post('/api/permissions/apply_template', data).catch(throwGlobalError);\n}\n\nexport function bulkApplyTemplate(data: BaseSearchProjectsParameters): Promise<void> {\n  return post('/api/permissions/bulk_apply_template', data);\n}\n\nexport function grantTemplatePermissionToUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/add_user_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/remove_user_from_template', data);\n}\n\nexport function grantTemplatePermissionToGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/add_group_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/remove_group_from_template', data);\n}\n\nexport function addProjectCreatorToTemplate(templateId: string, permission: string): Promise<void> {\n  return post('/api/permissions/add_project_creator_to_template', { templateId, permission });\n}\n\nexport function removeProjectCreatorFromTemplate(\n  templateId: string,\n  permission: string\n): Promise<void> {\n  return post('/api/permissions/remove_project_creator_from_template', { templateId, permission });\n}\n\nexport function getPermissionsUsersForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data).catch(throwGlobalError);\n}\n\nexport function getPermissionsGroupsForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data).catch(throwGlobalError);\n}\n\nexport function getGlobalPermissionsUsers(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data);\n}\n\nexport function getGlobalPermissionsGroups(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data);\n}\n\nexport function getPermissionTemplateUsers(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_users', data).then(r => r.users);\n}\n\nexport function getPermissionTemplateGroups(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_groups', data).then(r => r.groups);\n}\n\nexport function changeProjectVisibility(\n  project: string,\n  visibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_visibility', { project, visibility }).catch(throwGlobalError);\n}\n\nexport function changeProjectDefaultVisibility(\n  organization: string,\n  projectVisibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_default_visibility', { organization, projectVisibility }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport { range } from 'lodash';\nimport * as React from 'react';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { ButtonIcon, ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport CalendarIcon from 'sonar-ui-common/components/icons/CalendarIcon';\nimport ChevronLeftIcon from 'sonar-ui-common/components/icons/ChevronLeftIcon';\nimport ChevronRightIcon from 'sonar-ui-common/components/icons/ChevronRightIcon';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport {\n  getShortMonthName,\n  getShortWeekDayName,\n  getWeekDayName\n} from 'sonar-ui-common/helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoadComponent(() => import('react-day-picker'), 'DayPicker');\n\ninterface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { lastHovered } = this.state;\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <InputWrapper\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            innerRef={node => (this.input = node)}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            type=\"text\"\n            value={value}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ClearButton\n              className=\"button-tiny date-input-control-reset\"\n              iconProps={{ size: 12 }}\n              onClick={this.handleResetClick}\n            />\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n\ntype InputWrapperProps = T.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value'> &\n  InjectedIntlProps & {\n    innerRef: React.Ref<HTMLInputElement>;\n    value: Date | undefined;\n  };\n\nconst InputWrapper = injectIntl(({ innerRef, intl, value, ...other }: InputWrapperProps) => {\n  const formattedValue =\n    value && intl.formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n  return <input {...other} ref={innerRef} value={formattedValue || ''} />;\n});\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\ntype NavComponent = T.Omit<T.Component, 'alm' | 'qualifier' | 'leakPeriodDate' | 'path' | 'tags'>;\n\nexport function getComponentNavigation(\n  data: { component: string } & BranchParameters\n): Promise<NavComponent> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n"],"sourceRoot":""}